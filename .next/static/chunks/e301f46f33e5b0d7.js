(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96510,(e,t,r)=>{!function(e){"use strict";var t,r=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=r(),a=r([1]),l=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function m(e,t,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^r[n+s];return(1&o-1>>>8)-1}function y(e,t,r,n){return m(e,t,r,n,16)}function g(e,t,r,n){return m(e,t,r,n,32)}function v(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,x=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=s,E=o,k=a,j=l,A=u,S=c,T=h,P=d,C=f,N=p,_=m,F=y,D=g,M=v,O=x,R=b,B=0;B<20;B+=2)A^=(i=w+D|0)<<7|i>>>25,C^=(i=A+w|0)<<9|i>>>23,D^=(i=C+A|0)<<13|i>>>19,w^=(i=D+C|0)<<18|i>>>14,N^=(i=S+E|0)<<7|i>>>25,M^=(i=N+S|0)<<9|i>>>23,E^=(i=M+N|0)<<13|i>>>19,S^=(i=E+M|0)<<18|i>>>14,O^=(i=_+T|0)<<7|i>>>25,k^=(i=O+_|0)<<9|i>>>23,T^=(i=k+O|0)<<13|i>>>19,_^=(i=T+k|0)<<18|i>>>14,j^=(i=R+F|0)<<7|i>>>25,P^=(i=j+R|0)<<9|i>>>23,F^=(i=P+j|0)<<13|i>>>19,R^=(i=F+P|0)<<18|i>>>14,E^=(i=w+j|0)<<7|i>>>25,k^=(i=E+w|0)<<9|i>>>23,j^=(i=k+E|0)<<13|i>>>19,w^=(i=j+k|0)<<18|i>>>14,T^=(i=S+A|0)<<7|i>>>25,P^=(i=T+S|0)<<9|i>>>23,A^=(i=P+T|0)<<13|i>>>19,S^=(i=A+P|0)<<18|i>>>14,F^=(i=_+N|0)<<7|i>>>25,C^=(i=F+_|0)<<9|i>>>23,N^=(i=C+F|0)<<13|i>>>19,_^=(i=N+C|0)<<18|i>>>14,D^=(i=R+O|0)<<7|i>>>25,M^=(i=D+R|0)<<9|i>>>23,O^=(i=M+D|0)<<13|i>>>19,R^=(i=O+M|0)<<18|i>>>14;w=w+s|0,E=E+o|0,k=k+a|0,j=j+l|0,A=A+u|0,S=S+c|0,T=T+h|0,P=P+d|0,C=C+f|0,N=N+p|0,_=_+m|0,F=F+y|0,D=D+g|0,M=M+v|0,O=O+x|0,R=R+b|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=k>>>0&255,e[9]=k>>>8&255,e[10]=k>>>16&255,e[11]=k>>>24&255,e[12]=j>>>0&255,e[13]=j>>>8&255,e[14]=j>>>16&255,e[15]=j>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=P>>>0&255,e[29]=P>>>8&255,e[30]=P>>>16&255,e[31]=P>>>24&255,e[32]=C>>>0&255,e[33]=C>>>8&255,e[34]=C>>>16&255,e[35]=C>>>24&255,e[36]=N>>>0&255,e[37]=N>>>8&255,e[38]=N>>>16&255,e[39]=N>>>24&255,e[40]=_>>>0&255,e[41]=_>>>8&255,e[42]=_>>>16&255,e[43]=_>>>24&255,e[44]=F>>>0&255,e[45]=F>>>8&255,e[46]=F>>>16&255,e[47]=F>>>24&255,e[48]=D>>>0&255,e[49]=D>>>8&255,e[50]=D>>>16&255,e[51]=D>>>24&255,e[52]=M>>>0&255,e[53]=M>>>8&255,e[54]=M>>>16&255,e[55]=M>>>24&255,e[56]=O>>>0&255,e[57]=O>>>8&255,e[58]=O>>>16&255,e[59]=O>>>24&255,e[60]=R>>>0&255,e[61]=R>>>8&255,e[62]=R>>>16&255,e[63]=R>>>24&255}(e,t,r,n)}function x(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,x=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=s,E=o,k=a,j=l,A=u,S=c,T=h,P=d,C=f,N=p,_=m,F=y,D=g,M=v,O=x,R=b,B=0;B<20;B+=2)A^=(i=w+D|0)<<7|i>>>25,C^=(i=A+w|0)<<9|i>>>23,D^=(i=C+A|0)<<13|i>>>19,w^=(i=D+C|0)<<18|i>>>14,N^=(i=S+E|0)<<7|i>>>25,M^=(i=N+S|0)<<9|i>>>23,E^=(i=M+N|0)<<13|i>>>19,S^=(i=E+M|0)<<18|i>>>14,O^=(i=_+T|0)<<7|i>>>25,k^=(i=O+_|0)<<9|i>>>23,T^=(i=k+O|0)<<13|i>>>19,_^=(i=T+k|0)<<18|i>>>14,j^=(i=R+F|0)<<7|i>>>25,P^=(i=j+R|0)<<9|i>>>23,F^=(i=P+j|0)<<13|i>>>19,R^=(i=F+P|0)<<18|i>>>14,E^=(i=w+j|0)<<7|i>>>25,k^=(i=E+w|0)<<9|i>>>23,j^=(i=k+E|0)<<13|i>>>19,w^=(i=j+k|0)<<18|i>>>14,T^=(i=S+A|0)<<7|i>>>25,P^=(i=T+S|0)<<9|i>>>23,A^=(i=P+T|0)<<13|i>>>19,S^=(i=A+P|0)<<18|i>>>14,F^=(i=_+N|0)<<7|i>>>25,C^=(i=F+_|0)<<9|i>>>23,N^=(i=C+F|0)<<13|i>>>19,_^=(i=N+C|0)<<18|i>>>14,D^=(i=R+O|0)<<7|i>>>25,M^=(i=D+R|0)<<9|i>>>23,O^=(i=M+D|0)<<13|i>>>19,R^=(i=O+M|0)<<18|i>>>14;e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=S>>>0&255,e[5]=S>>>8&255,e[6]=S>>>16&255,e[7]=S>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=R>>>0&255,e[13]=R>>>8&255,e[14]=R>>>16&255,e[15]=R>>>24&255,e[16]=T>>>0&255,e[17]=T>>>8&255,e[18]=T>>>16&255,e[19]=T>>>24&255,e[20]=P>>>0&255,e[21]=P>>>8&255,e[22]=P>>>16&255,e[23]=P>>>24&255,e[24]=C>>>0&255,e[25]=C>>>8&255,e[26]=C>>>16&255,e[27]=C>>>24&255,e[28]=N>>>0&255,e[29]=N>>>8&255,e[30]=N>>>16&255,e[31]=N>>>24&255}(e,t,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,i,s,o){var a,l,u=new Uint8Array(16),c=new Uint8Array(64);for(l=0;l<16;l++)u[l]=0;for(l=0;l<8;l++)u[l]=s[l];for(;i>=64;){for(v(c,u,o,b),l=0;l<64;l++)e[t+l]=r[n+l]^c[l];for(l=8,a=1;l<16;l++)a=a+(255&u[l])|0,u[l]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(v(c,u,o,b),l=0;l<i;l++)e[t+l]=r[n+l]^c[l];return 0}function E(e,t,r,n,i){var s,o,a=new Uint8Array(16),l=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(v(l,a,i,b),o=0;o<64;o++)e[t+o]=l[o];for(o=8,s=1;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(v(l,a,i,b),o=0;o<r;o++)e[t+o]=l[o];return 0}function k(e,t,r,n,i){var s=new Uint8Array(32);x(s,n,i,b);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return E(e,t,r,o,s)}function j(e,t,r,n,i,s,o){var a=new Uint8Array(32);x(a,s,o,b);for(var l=new Uint8Array(8),u=0;u<8;u++)l[u]=s[u+16];return w(e,t,r,n,i,l,a)}var A=function(e){var t,r,n,i,s,o,a,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|r<<3)&8191,n=255&e[4]|(255&e[5])<<8,this.r[2]=(r>>>10|n<<6)&7939,i=255&e[6]|(255&e[7])<<8,this.r[3]=(n>>>7|i<<9)&8191,s=255&e[8]|(255&e[9])<<8,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=(s>>>14|o<<2)&8191,a=255&e[12]|(255&e[13])<<8,this.r[7]=(o>>>11|a<<5)&8065,l=255&e[14]|(255&e[15])<<8,this.r[8]=(a>>>8|l<<8)&8191,this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function S(e,t,r,n,i,s){var o=new A(s);return o.update(r,n,i),o.finish(e,t),0}function T(e,t,r,n,i,s){var o=new Uint8Array(16);return S(o,0,r,n,i,s),y(e,t,o,0)}function P(e,t,r,n,i){var s;if(r<32)return -1;for(j(e,0,t,0,r,n,i),S(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function C(e,t,r,n,i){var s,o=new Uint8Array(32);if(r<32||(k(o,0,32,n,i),0!==T(t,16,t,32,r-32,o)))return -1;for(j(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function N(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function _(e){var t,r,n=1;for(t=0;t<16;t++)n=Math.floor((r=e[t]+n+65535)/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function F(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function D(e,t){var n,i,s,o=r(),a=r();for(n=0;n<16;n++)a[n]=t[n];for(_(a),_(a),_(a),i=0;i<2;i++){for(n=1,o[0]=a[0]-65517;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,F(a,o,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function M(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return D(r,e),D(n,t),g(r,0,n,0)}function O(e){var t=new Uint8Array(32);return D(t,e),1&t[0]}function R(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function B(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function I(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function V(e,t,r){var n,i,s=0,o=0,a=0,l=0,u=0,c=0,h=0,d=0,f=0,p=0,m=0,y=0,g=0,v=0,x=0,b=0,w=0,E=0,k=0,j=0,A=0,S=0,T=0,P=0,C=0,N=0,_=0,F=0,D=0,M=0,O=0,R=r[0],B=r[1],I=r[2],V=r[3],L=r[4],U=r[5],K=r[6],z=r[7],q=r[8],$=r[9],W=r[10],Y=r[11],Q=r[12],G=r[13],H=r[14],X=r[15];s+=(n=t[0])*R,o+=n*B,a+=n*I,l+=n*V,u+=n*L,c+=n*U,h+=n*K,d+=n*z,f+=n*q,p+=n*$,m+=n*W,y+=n*Y,g+=n*Q,v+=n*G,x+=n*H,b+=n*X,o+=(n=t[1])*R,a+=n*B,l+=n*I,u+=n*V,c+=n*L,h+=n*U,d+=n*K,f+=n*z,p+=n*q,m+=n*$,y+=n*W,g+=n*Y,v+=n*Q,x+=n*G,b+=n*H,w+=n*X,a+=(n=t[2])*R,l+=n*B,u+=n*I,c+=n*V,h+=n*L,d+=n*U,f+=n*K,p+=n*z,m+=n*q,y+=n*$,g+=n*W,v+=n*Y,x+=n*Q,b+=n*G,w+=n*H,E+=n*X,l+=(n=t[3])*R,u+=n*B,c+=n*I,h+=n*V,d+=n*L,f+=n*U,p+=n*K,m+=n*z,y+=n*q,g+=n*$,v+=n*W,x+=n*Y,b+=n*Q,w+=n*G,E+=n*H,k+=n*X,u+=(n=t[4])*R,c+=n*B,h+=n*I,d+=n*V,f+=n*L,p+=n*U,m+=n*K,y+=n*z,g+=n*q,v+=n*$,x+=n*W,b+=n*Y,w+=n*Q,E+=n*G,k+=n*H,j+=n*X,c+=(n=t[5])*R,h+=n*B,d+=n*I,f+=n*V,p+=n*L,m+=n*U,y+=n*K,g+=n*z,v+=n*q,x+=n*$,b+=n*W,w+=n*Y,E+=n*Q,k+=n*G,j+=n*H,A+=n*X,h+=(n=t[6])*R,d+=n*B,f+=n*I,p+=n*V,m+=n*L,y+=n*U,g+=n*K,v+=n*z,x+=n*q,b+=n*$,w+=n*W,E+=n*Y,k+=n*Q,j+=n*G,A+=n*H,S+=n*X,d+=(n=t[7])*R,f+=n*B,p+=n*I,m+=n*V,y+=n*L,g+=n*U,v+=n*K,x+=n*z,b+=n*q,w+=n*$,E+=n*W,k+=n*Y,j+=n*Q,A+=n*G,S+=n*H,T+=n*X,f+=(n=t[8])*R,p+=n*B,m+=n*I,y+=n*V,g+=n*L,v+=n*U,x+=n*K,b+=n*z,w+=n*q,E+=n*$,k+=n*W,j+=n*Y,A+=n*Q,S+=n*G,T+=n*H,P+=n*X,p+=(n=t[9])*R,m+=n*B,y+=n*I,g+=n*V,v+=n*L,x+=n*U,b+=n*K,w+=n*z,E+=n*q,k+=n*$,j+=n*W,A+=n*Y,S+=n*Q,T+=n*G,P+=n*H,C+=n*X,m+=(n=t[10])*R,y+=n*B,g+=n*I,v+=n*V,x+=n*L,b+=n*U,w+=n*K,E+=n*z,k+=n*q,j+=n*$,A+=n*W,S+=n*Y,T+=n*Q,P+=n*G,C+=n*H,N+=n*X,y+=(n=t[11])*R,g+=n*B,v+=n*I,x+=n*V,b+=n*L,w+=n*U,E+=n*K,k+=n*z,j+=n*q,A+=n*$,S+=n*W,T+=n*Y,P+=n*Q,C+=n*G,N+=n*H,_+=n*X,g+=(n=t[12])*R,v+=n*B,x+=n*I,b+=n*V,w+=n*L,E+=n*U,k+=n*K,j+=n*z,A+=n*q,S+=n*$,T+=n*W,P+=n*Y,C+=n*Q,N+=n*G,_+=n*H,F+=n*X,v+=(n=t[13])*R,x+=n*B,b+=n*I,w+=n*V,E+=n*L,k+=n*U,j+=n*K,A+=n*z,S+=n*q,T+=n*$,P+=n*W,C+=n*Y,N+=n*Q,_+=n*G,F+=n*H,D+=n*X,x+=(n=t[14])*R,b+=n*B,w+=n*I,E+=n*V,k+=n*L,j+=n*U,A+=n*K,S+=n*z,T+=n*q,P+=n*$,C+=n*W,N+=n*Y,_+=n*Q,F+=n*G,D+=n*H,M+=n*X,b+=(n=t[15])*R,w+=n*B,E+=n*I,k+=n*V,j+=n*L,A+=n*U,S+=n*K,T+=n*z,P+=n*q,C+=n*$,N+=n*W,_+=n*Y,F+=n*Q,D+=n*G,M+=n*H,O+=n*X,s+=38*w,o+=38*E,a+=38*k,l+=38*j,u+=38*A,c+=38*S,h+=38*T,d+=38*P,f+=38*C,p+=38*N,m+=38*_,y+=38*F,g+=38*D,v+=38*M,x+=38*O,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=x+i+65535)/65536),x=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=x+i+65535)/65536),x=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=l,e[4]=u,e[5]=c,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=m,e[11]=y,e[12]=g,e[13]=v,e[14]=x,e[15]=b}function L(e,t){V(e,t,t)}function U(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=253;n>=0;n--)L(i,i),2!==n&&4!==n&&V(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function K(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=250;n>=0;n--)L(i,i),1!==n&&V(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function z(e,t,n){var i,s,o=new Uint8Array(32),a=new Float64Array(80),u=r(),c=r(),h=r(),d=r(),f=r(),p=r();for(s=0;s<31;s++)o[s]=t[s];for(o[31]=127&t[31]|64,o[0]&=248,R(a,n),s=0;s<16;s++)c[s]=a[s],d[s]=u[s]=h[s]=0;for(s=254,u[0]=d[0]=1;s>=0;--s)F(u,c,i=o[s>>>3]>>>(7&s)&1),F(h,d,i),B(f,u,h),I(u,u,h),B(h,c,d),I(c,c,d),L(d,f),L(p,u),V(u,h,u),V(h,c,f),B(f,u,h),I(u,u,h),L(c,u),I(h,d,p),V(u,h,l),B(u,u,d),V(h,h,u),V(u,d,p),V(d,c,a),L(c,f),F(u,c,i),F(h,d,i);for(s=0;s<16;s++)a[s+16]=u[s],a[s+32]=h[s],a[s+48]=c[s],a[s+64]=d[s];var m=a.subarray(32),y=a.subarray(16);return U(m,m),V(y,y,m),D(e,y),0}function q(e,t){return z(e,t,s)}function $(e,t){return n(t,32),q(e,t)}function W(e,t,r){var n=new Uint8Array(32);return z(n,r,t),x(e,i,n,b)}A.prototype.blocks=function(e,t,r){for(var n,i,s,o,a,l,u,c,h,d,f,p,m,y,g,v,x,b,w,E=2048*!this.fin,k=this.h[0],j=this.h[1],A=this.h[2],S=this.h[3],T=this.h[4],P=this.h[5],C=this.h[6],N=this.h[7],_=this.h[8],F=this.h[9],D=this.r[0],M=this.r[1],O=this.r[2],R=this.r[3],B=this.r[4],I=this.r[5],V=this.r[6],L=this.r[7],U=this.r[8],K=this.r[9];r>=16;)k+=8191&(n=255&e[t+0]|(255&e[t+1])<<8),j+=(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,A+=(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,S+=(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,T+=(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,P+=a>>>1&8191,C+=(a>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,N+=(l>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,_+=(u>>>8|(c=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,F+=c>>>5|E,h=(d=(h=0)+k*D+5*K*j+5*U*A+5*L*S+5*V*T)>>>13,d&=8191,d+=5*I*P,d+=5*B*C,d+=5*R*N,d+=5*O*_,d+=5*M*F,h+=d>>>13,d&=8191,h=(f=h+k*M+j*D+5*K*A+5*U*S+5*L*T)>>>13,f&=8191,f+=5*V*P,f+=5*I*C,f+=5*B*N,f+=5*R*_,f+=5*O*F,h+=f>>>13,f&=8191,h=(p=h+k*O+j*M+A*D+5*K*S+5*U*T)>>>13,p&=8191,p+=5*L*P,p+=5*V*C,p+=5*I*N,p+=5*B*_,p+=5*R*F,h+=p>>>13,p&=8191,h=(m=h+k*R+j*O+A*M+S*D+5*K*T)>>>13,m&=8191,m+=5*U*P,m+=5*L*C,m+=5*V*N,m+=5*I*_,m+=5*B*F,h+=m>>>13,m&=8191,h=(y=h+k*B+j*R+A*O+S*M+T*D)>>>13,y&=8191,y+=5*K*P,y+=5*U*C,y+=5*L*N,y+=5*V*_,y+=5*I*F,h+=y>>>13,y&=8191,h=(g=h+k*I+j*B+A*R+S*O+T*M)>>>13,g&=8191,g+=P*D,g+=5*K*C,g+=5*U*N,g+=5*L*_,g+=5*V*F,h+=g>>>13,g&=8191,h=(v=h+k*V+j*I+A*B+S*R+T*O)>>>13,v&=8191,v+=P*M,v+=C*D,v+=5*K*N,v+=5*U*_,v+=5*L*F,h+=v>>>13,v&=8191,h=(x=h+k*L+j*V+A*I+S*B+T*R)>>>13,x&=8191,x+=P*O,x+=C*M,x+=N*D,x+=5*K*_,x+=5*U*F,h+=x>>>13,x&=8191,h=(b=h+k*U+j*L+A*V+S*I+T*B)>>>13,b&=8191,b+=P*R,b+=C*O,b+=N*M,b+=_*D,b+=5*K*F,h+=b>>>13,b&=8191,h=(w=h+k*K+j*U+A*L+S*V+T*I)>>>13,w&=8191,w+=P*B,w+=C*R,w+=N*O,w+=_*M,w+=F*D,h+=w>>>13,w&=8191,d=8191&(h=(h=(h<<2)+h|0)+d|0),h>>>=13,f+=h,k=d,j=f,A=p,S=m,T=y,P=g,C=v,N=x,_=b,F=w,t+=16,r-=16;this.h[0]=k,this.h[1]=j,this.h[2]=A,this.h[3]=S,this.h[4]=T,this.h[5]=P,this.h[6]=C,this.h[7]=N,this.h[8]=_,this.h[9]=F},A.prototype.finish=function(e,t){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(s=0,n=~n;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(s=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=65535&i;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},A.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var Y=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function Q(e,t,r,n){for(var i,s,o,a,l,u,c,h,d,f,p,m,y,g,v,x,b,w,E,k,j,A,S,T,P,C,N=new Int32Array(16),_=new Int32Array(16),F=e[0],D=e[1],M=e[2],O=e[3],R=e[4],B=e[5],I=e[6],V=e[7],L=t[0],U=t[1],K=t[2],z=t[3],q=t[4],$=t[5],W=t[6],Q=t[7],G=0;n>=128;){for(E=0;E<16;E++)k=8*E+G,N[E]=r[k+0]<<24|r[k+1]<<16|r[k+2]<<8|r[k+3],_[E]=r[k+4]<<24|r[k+5]<<16|r[k+6]<<8|r[k+7];for(E=0;E<80;E++)if(i=F,s=D,o=M,a=O,l=R,u=B,c=I,h=V,d=L,f=U,p=K,m=z,y=q,g=$,v=W,x=Q,j=V,S=65535&(A=Q),T=A>>>16,P=65535&j,C=j>>>16,j=(R>>>14|q<<18)^(R>>>18|q<<14)^(q>>>9|R<<23),S+=65535&(A=(q>>>14|R<<18)^(q>>>18|R<<14)^(R>>>9|q<<23)),T+=A>>>16,P+=65535&j,C+=j>>>16,j=R&B^~R&I,S+=65535&(A=q&$^~q&W),T+=A>>>16,P+=65535&j,C+=j>>>16,j=Y[2*E],S+=65535&(A=Y[2*E+1]),T+=A>>>16,P+=65535&j,C+=j>>>16,j=N[E%16],S+=65535&(A=_[E%16]),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,b=65535&P|C<<16,w=65535&S|T<<16,j=b,S=65535&(A=w),T=A>>>16,P=65535&j,C=j>>>16,j=(F>>>28|L<<4)^(L>>>2|F<<30)^(L>>>7|F<<25),S+=65535&(A=(L>>>28|F<<4)^(F>>>2|L<<30)^(F>>>7|L<<25)),T+=A>>>16,P+=65535&j,C+=j>>>16,j=F&D^F&M^D&M,S+=65535&(A=L&U^L&K^U&K),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,h=65535&P|C<<16,x=65535&S|T<<16,j=a,S=65535&(A=m),T=A>>>16,P=65535&j,C=j>>>16,j=b,S+=65535&(A=w),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,a=65535&P|C<<16,m=65535&S|T<<16,D=i,M=s,O=o,R=a,B=l,I=u,V=c,F=h,U=d,K=f,z=p,q=m,$=y,W=g,Q=v,L=x,E%16==15)for(k=0;k<16;k++)j=N[k],S=65535&(A=_[k]),T=A>>>16,P=65535&j,C=j>>>16,j=N[(k+9)%16],S+=65535&(A=_[(k+9)%16]),T+=A>>>16,P+=65535&j,C+=j>>>16,j=((b=N[(k+1)%16])>>>1|(w=_[(k+1)%16])<<31)^(b>>>8|w<<24)^b>>>7,S+=65535&(A=(w>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25)),T+=A>>>16,P+=65535&j,C+=j>>>16,j=((b=N[(k+14)%16])>>>19|(w=_[(k+14)%16])<<13)^(w>>>29|b<<3)^b>>>6,S+=65535&(A=(w>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26)),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,N[k]=65535&P|C<<16,_[k]=65535&S|T<<16;j=F,S=65535&(A=L),T=A>>>16,P=65535&j,C=j>>>16,j=e[0],S+=65535&(A=t[0]),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,e[0]=F=65535&P|C<<16,t[0]=L=65535&S|T<<16,j=D,S=65535&(A=U),T=A>>>16,P=65535&j,C=j>>>16,j=e[1],S+=65535&(A=t[1]),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,e[1]=D=65535&P|C<<16,t[1]=U=65535&S|T<<16,j=M,S=65535&(A=K),T=A>>>16,P=65535&j,C=j>>>16,j=e[2],S+=65535&(A=t[2]),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,e[2]=M=65535&P|C<<16,t[2]=K=65535&S|T<<16,j=O,S=65535&(A=z),T=A>>>16,P=65535&j,C=j>>>16,j=e[3],S+=65535&(A=t[3]),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,e[3]=O=65535&P|C<<16,t[3]=z=65535&S|T<<16,j=R,S=65535&(A=q),T=A>>>16,P=65535&j,C=j>>>16,j=e[4],S+=65535&(A=t[4]),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,e[4]=R=65535&P|C<<16,t[4]=q=65535&S|T<<16,j=B,S=65535&(A=$),T=A>>>16,P=65535&j,C=j>>>16,j=e[5],S+=65535&(A=t[5]),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,e[5]=B=65535&P|C<<16,t[5]=$=65535&S|T<<16,j=I,S=65535&(A=W),T=A>>>16,P=65535&j,C=j>>>16,j=e[6],S+=65535&(A=t[6]),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,e[6]=I=65535&P|C<<16,t[6]=W=65535&S|T<<16,j=V,S=65535&(A=Q),T=A>>>16,P=65535&j,C=j>>>16,j=e[7],S+=65535&(A=t[7]),T+=A>>>16,P+=65535&j,C+=j>>>16,T+=S>>>16,P+=T>>>16,C+=P>>>16,e[7]=V=65535&P|C<<16,t[7]=Q=65535&S|T<<16,G+=128,n-=128}return n}function G(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=0x6a09e667,i[1]=0xbb67ae85,i[2]=0x3c6ef372,i[3]=0xa54ff53a,i[4]=0x510e527f,i[5]=0x9b05688c,i[6]=0x1f83d9ab,i[7]=0x5be0cd19,s[0]=0xf3bcc908,s[1]=0x84caa73b,s[2]=0xfe94f82b,s[3]=0x5f1d36f1,s[4]=0xade682d1,s[5]=0x2b3e6c1f,s[6]=0xfb41bd6b,s[7]=0x137e2179,Q(i,s,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-(r<112)*128)-9]=0,p(o,r-8,a/0x20000000|0,a<<3),Q(i,s,o,r),n=0;n<8;n++)p(e,8*n,i[n],s[n]);return 0}function H(e,t){var n=r(),i=r(),s=r(),o=r(),a=r(),l=r(),u=r(),h=r(),d=r();I(n,e[1],e[0]),I(d,t[1],t[0]),V(n,n,d),B(i,e[0],e[1]),B(d,t[0],t[1]),V(i,i,d),V(s,e[3],t[3]),V(s,s,c),V(o,e[2],t[2]),B(o,o,o),I(a,i,n),I(l,o,s),B(u,o,s),B(h,i,n),V(e[0],a,l),V(e[1],h,u),V(e[2],u,l),V(e[3],a,h)}function X(e,t,r){var n;for(n=0;n<4;n++)F(e[n],t[n],r)}function Z(e,t){var n=r(),i=r(),s=r();U(s,t[2]),V(n,t[0],s),V(i,t[1],s),D(e,i),e[31]^=O(n)<<7}function J(e,t,r){var n,i;for(N(e[0],o),N(e[1],a),N(e[2],a),N(e[3],o),i=255;i>=0;--i)X(e,t,n=r[i/8|0]>>(7&i)&1),H(t,e),H(e,e),X(e,t,n)}function ee(e,t){var n=[r(),r(),r(),r()];N(n[0],h),N(n[1],d),N(n[2],a),V(n[3],h,d),J(e,n,t)}function et(e,t,i){var s,o=new Uint8Array(64),a=[r(),r(),r(),r()];for(i||n(t,32),G(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,ee(a,o),Z(e,a),s=0;s<32;s++)t[s+32]=e[s];return 0}var er=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function en(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*er[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(i=0,r=0;i<32;i++)t[i]+=r-(t[31]>>4)*er[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*er[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function ei(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;en(e,r)}function es(e,t,n,i){var s,o,a=new Uint8Array(64),l=new Uint8Array(64),u=new Uint8Array(64),c=new Float64Array(64),h=[r(),r(),r(),r()];for(G(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64,s=0;s<n;s++)e[64+s]=t[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(G(u,e.subarray(32),n+32),ei(u),ee(h,u),Z(e,h),s=32;s<64;s++)e[s]=i[s];for(G(l,e,n+64),ei(l),s=0;s<64;s++)c[s]=0;for(s=0;s<32;s++)c[s]=u[s];for(s=0;s<32;s++)for(o=0;o<32;o++)c[s+o]+=l[s]*a[o];return en(e.subarray(32),c),n+64}function eo(e,t,n,i){var s,l,c,h,d,p,m,y,v=new Uint8Array(32),x=new Uint8Array(64),b=[r(),r(),r(),r()],w=[r(),r(),r(),r()];if(n<64||(s=r(),l=r(),c=r(),h=r(),d=r(),p=r(),m=r(),(N(w[2],a),R(w[1],i),L(c,w[1]),V(h,c,u),I(c,c,w[2]),B(h,w[2],h),L(d,h),L(p,d),V(m,p,d),V(s,m,c),V(s,s,h),K(s,s),V(s,s,c),V(s,s,h),V(s,s,h),V(w[0],s,h),L(l,w[0]),V(l,l,h),M(l,c)&&V(w[0],w[0],f),L(l,w[0]),V(l,l,h),M(l,c))?-1:(O(w[0])===i[31]>>7&&I(w[0],o,w[0]),V(w[3],w[0],w[1]),0)))return -1;for(y=0;y<n;y++)e[y]=t[y];for(y=0;y<32;y++)e[y+32]=i[y];if(G(x,e,n),ei(x),J(b,w,x),ee(w,t.subarray(32)),H(b,w),Z(v,b),n-=64,g(t,0,v,0)){for(y=0;y<n;y++)e[y]=0;return -1}for(y=0;y<n;y++)e[y]=t[y+64];return n}function ea(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function el(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function eu(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:x,crypto_stream_xor:j,crypto_stream:k,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:E,crypto_onetimeauth:S,crypto_onetimeauth_verify:T,crypto_verify_16:y,crypto_verify_32:g,crypto_secretbox:P,crypto_secretbox_open:C,crypto_scalarmult:z,crypto_scalarmult_base:q,crypto_box_beforenm:W,crypto_box_afternm:P,crypto_box:function(e,t,r,n,i,s){var o=new Uint8Array(32);return W(o,i,s),P(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,i,s){var o=new Uint8Array(32);return W(o,i,s),C(e,t,r,n,o)},crypto_box_keypair:$,crypto_hash:G,crypto_sign:es,crypto_sign_keypair:et,crypto_sign_open:eo,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:r,D:u,L:er,pack25519:D,unpack25519:R,M:V,A:B,S:L,Z:I,pow2523:K,add:H,set25519:N,modL:en,scalarmult:J,scalarbase:ee},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){el(e,t,r),ea(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return P(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){el(e,t,r),ea(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+16]=e[s];return n.length<32||0!==C(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(el(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return z(r,e,t),r},e.scalarMult.base=function(e){if(el(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(e,t){el(e,t);if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size");var r=new Uint8Array(32);return W(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return $(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(el(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(el(e,t),64!==t.length)throw Error("bad secret key size");var r=new Uint8Array(64+e.length);return es(r,e,e.length,t),r},e.sign.open=function(e,t){if(el(e,t),32!==t.length)throw Error("bad public key size");var r=new Uint8Array(e.length),n=eo(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(e,t,r){if(el(e,t,r),64!==t.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,i=new Uint8Array(64+e.length),s=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return eo(s,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return et(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(el(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(el(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return et(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){el(e);var t=new Uint8Array(64);return G(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return el(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===m(e,0,t,0,e.length)},e.setPRNG=function(e){n=e},(t="u">typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];eu(i)}):(t={}).randomBytes&&e.setPRNG(function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];eu(i)})}(t.exports?t.exports:self.nacl=self.nacl||{})},67034,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,s=l(e),o=s[0],a=s[1],u=new i((o+a)*3/4-a),c=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(function(e,t,n){for(var i,s=[],o=t;o<n;o+=3)i=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],n=[],i="u">typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),i=r(783),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);var s=0|f(n,i),l=o(s),u=l.write(n,i);return u!==s&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return a.from(c,t,r);var p=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?o(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(p)return p;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),o(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!a.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(u(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)};function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return T(e).length;default:if(i)return n?-1:A(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var i,s,o,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=N[e[s]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,s=t,o=r,0===s&&o===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r*=1)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return g(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var s,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(s=r;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else -1!==c&&(s-=s-c),c=-1}else for(r+l>a&&(r=a-l),s=r;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(u(e,s+d)!==u(t,d)){h=!1;break}if(h)return s}return -1}a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(C(s,Uint8Array)&&(s=a.from(s)),!a.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var s=i-n,o=r-t,l=Math.min(s,o),u=this.slice(n,i),c=e.slice(t,r),h=0;h<l;++h)if(u[h]!==c[h]){s=u[h],o=c[h];break}return s<o?-1:+(o<s)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)};function v(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:(192&(s=e[i+1]))==128&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=e[i+1],o=e[i+2],(192&s)==128&&(192&o)==128&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}var d=n,f=d.length;if(f<=4096)return String.fromCharCode.apply(String,d);for(var p="",m=0;m<f;)p+=String.fromCharCode.apply(String,d.slice(m,m+=4096));return p}function x(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function b(e,t,r,n,i,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function w(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,r,n,s){return t*=1,r>>>=0,s||w(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function k(e,t,r,n,s){return t*=1,r>>>=0,s||w(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,s,o,a,l,u,c,h,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var f=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a,l=parseInt(t.substr(2*o,2),16);if((a=l)!=a)break;e[r+o]=l}return o}(this,e,t,r);case"utf8":case"utf-8":return i=t,s=r,P(A(e,this.length-i),this,i,s);case"ascii":return o=t,a=r,P(S(e),this,o,a);case"latin1":case"binary":return function(e,t,r,n){return P(S(t),e,r,n)}(this,e,t,r);case"base64":return l=t,u=r,P(T(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=r,P(function(e,t){for(var r,n,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,h);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},a.prototype.readInt8=function(e,t){return(e>>>=0,t||x(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;b(this,e,t,r,i,0)}var s=1,o=0;for(this[t]=255&e;++o<r&&(s*=256);)this[t+o]=e/s&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;b(this,e,t,r,i,0)}var s=r-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);b(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);b(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return k(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return k(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var s=i-1;s>=0;--s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,s=e.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=a.isBuffer(e)?e:a.from(e,n),l=o.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%l]}return this};var j=/[^+/0-9A-Za-z-_]/g;function A(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function S(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function T(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var N=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+e[t+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,d=5960464477539062e-23*(23===i),f=n?0:s-1,p=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+f]=255&o,f+=p,o/=256,u-=8);e[r+f-p]|=128*m}}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},o=!0;try{n[e](r,r.exports,s),o=!1}finally{o&&delete i[e]}return r.exports}s.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=s(72)},34673,(e,t,r)=>{var n=e.i(67034);!function(e,r){"use strict";t.exports?t.exports=r():(e.nacl||(e.nacl={}),e.nacl.util=r())}(e.e,function(){"use strict";var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"u"<typeof atob?void 0!==n.Buffer.from?(e.encodeBase64=function(e){return n.Buffer.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(n.Buffer.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new n.Buffer(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new n.Buffer(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),i=new Uint8Array(n.length);for(r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}),e})},93560,(e,t,r)=>{e.e,t.exports=function(){"use strict";var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,r)},r=function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t,r){if(r||2==arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}var i="u">typeof globalThis?globalThis:"u">typeof self?self:"u">typeof window?window:e.g,s=Object.keys,o=Array.isArray;function a(e,t){return"object"!=typeof t||s(t).forEach(function(r){e[r]=t[r]}),e}"u"<typeof Promise||i.Promise||(i.Promise=Promise);var l=Object.getPrototypeOf,u={}.hasOwnProperty;function c(e,t){return u.call(e,t)}function h(e,t){"function"==typeof t&&(t=t(l(e))),("u"<typeof Reflect?s:Reflect.ownKeys)(t).forEach(function(r){f(e,r,t[r])})}var d=Object.defineProperty;function f(e,t,r,n){d(e,t,a(r&&c(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),f(e.prototype,"constructor",e),{extend:h.bind(null,e.prototype)}}}}var m=Object.getOwnPropertyDescriptor,y=[].slice;function g(e,t,r){return y.call(e,t,r)}function v(e,t){return t(e)}function x(e){if(!e)throw Error("Assertion Failed")}function b(e){i.setImmediate?setImmediate(e):setTimeout(e,0)}function w(e,t){if("string"==typeof t&&c(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,i=t.length;n<i;++n){var s=w(e,t[n]);r.push(s)}return r}var o=t.indexOf(".");if(-1!==o){var a=e[t.substr(0,o)];return null==a?void 0:w(a,t.substr(o+1))}}function E(e,t,r){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){x("string"!=typeof r&&"length"in r);for(var n=0,i=t.length;n<i;++n)E(e,t[n],r[n])}else{var s,a,l=t.indexOf(".");-1!==l?(s=t.substr(0,l),""===(a=t.substr(l+1))?void 0===r?o(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=r:E(l=(l=e[s])&&c(e,s)?l:e[s]={},a,r)):void 0===r?o(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function k(e){var t,r={};for(t in e)c(e,t)&&(r[t]=e[t]);return r}var j=[].concat;function A(e){return j.apply([],e)}var S="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(A([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return i[e]}),T=new Set(S.map(function(e){return i[e]})),P=null;function C(e){return P=new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;var r=P.get(t);if(r)return r;if(o(t)){r=[],P.set(t,r);for(var n=0,i=t.length;n<i;++n)r.push(e(t[n]))}else if(T.has(t.constructor))r=t;else{var s,a=l(t);for(s in r=a===Object.prototype?{}:Object.create(a),P.set(t,r),t)c(t,s)&&(r[s]=e(t[s]))}return r}(e),P=null,e}var N={}.toString;function _(e){return N.call(e).slice(8,-1)}var F="u">typeof Symbol?Symbol.iterator:"@@iterator",D="symbol"==typeof F?function(e){var t;return null!=e&&(t=e[F])&&t.apply(e)}:function(){return null};function M(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var O={};function R(e){var t,r,n,i;if(1==arguments.length){if(o(e))return e.slice();if(this===O&&"string"==typeof e)return[e];if(i=D(e)){for(r=[];!(n=i.next()).done;)r.push(n.value);return r}if(null==e||"number"!=typeof(t=e.length))return[e];for(r=Array(t);t--;)r[t]=e[t];return r}for(t=arguments.length,r=Array(t);t--;)r[t]=arguments[t];return r}var B="u">typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},I=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],V=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(I),L={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function U(e,t){this.name=e,this.message=t}function K(e,t){return e+". Errors: "+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,r){return r.indexOf(e)===t}).join("\n")}function z(e,t,r,n){this.failures=t,this.failedKeys=n,this.successCount=r,this.message=K(e,t)}function q(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(e){return t[e]}),this.failuresByPos=t,this.message=K(e,this.failures)}p(U).from(Error).extend({toString:function(){return this.name+": "+this.message}}),p(z).from(U),p(q).from(U);var $=V.reduce(function(e,t){return e[t]=t+"Error",e},{}),W=V.reduce(function(e,t){var r=t+"Error";function n(e,n){this.name=r,e?"string"==typeof e?(this.message="".concat(e).concat(n?"\n "+n:""),this.inner=n||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=L[t]||r,this.inner=null)}return p(n).from(U),e[t]=n,e},{});W.Syntax=SyntaxError,W.Type=TypeError,W.Range=RangeError;var Y=I.reduce(function(e,t){return e[t+"Error"]=W[t],e},{}),Q=V.reduce(function(e,t){return -1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=W[t]),e},{});function G(){}function H(e){return e}function X(e,t){return null==e||e===H?t:function(r){return t(e(r))}}function Z(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function J(e,t){return e===G?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Z(n,this.onsuccess):n),i&&(this.onerror=this.onerror?Z(i,this.onerror):i),void 0!==s?s:r}}function ee(e,t){return e===G?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Z(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Z(n,this.onerror):n)}}function et(e,t){return e===G?t:function(r){var n=e.apply(this,arguments);a(r,n);var i=this.onsuccess,s=this.onerror;return this.onsuccess=null,this.onerror=null,r=t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?Z(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Z(s,this.onerror):s),void 0===n?void 0===r?void 0:r:a(n,r)}}function er(e,t){return e===G?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function en(e,t){return e===G?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,i=arguments.length,s=Array(i);i--;)s[i]=arguments[i];return r.then(function(){return t.apply(n,s)})}return t.apply(this,arguments)}}Q.ModifyError=z,Q.DexieError=U,Q.BulkError=q;var ei="u">typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),es={},S="u"<typeof Promise?[]:function(){var e=Promise.resolve();if("u"<typeof crypto||!crypto.subtle)return[e,l(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,l(t),e]}(),I=S[0],V=S[1],S=S[2],V=V&&V.then,eo=I&&I.constructor,ea=!!S,el=function(e,t){ey.push([e,t]),ec&&(queueMicrotask(eS),ec=!1)},eu=!0,ec=!0,eh=[],ed=[],ef=H,ep={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:G,pgp:!1,env:{},finalize:G},em=ep,ey=[],eg=0,ev=[];function ex(e){if("object"!=typeof this)throw TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=em;if("function"!=typeof e){if(e!==es)throw TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&eE(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,r){try{r(function(r){if(null===t._state){if(r===t)throw TypeError("A promise cannot be resolved with itself.");var n=t._lib&&eT();r&&"function"==typeof r.then?e(t,function(e,t){r instanceof ex?r._then(e,t):r.then(e,t)}):(t._state=!0,t._value=r,ek(t)),n&&eP()}},eE.bind(null,t))}catch(e){eE(t,e)}}(this,e)}var eb={get:function(){var e=em,t=eR;function r(r,n){var i=this,s=!e.global&&(e!==em||t!==eR),o=s&&!eL(),a=new ex(function(t,a){ej(i,new ew(eW(r,e,s,o),eW(n,e,s,o),t,a,e))});return this._consoleTask&&(a._consoleTask=this._consoleTask),a}return r.prototype=es,r},set:function(e){f(this,"then",e&&e.prototype===es?eb:{get:function(){return e},set:eb.set})}};function ew(e,t,r,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=i}function eE(e,t){var r;ed.push(t),null===e._state&&(r=e._lib&&eT(),t=ef(t),e._state=!1,e._value=t,eh.some(function(t){return t._value===e._value})||eh.push(e),ek(e),r&&eP())}function ek(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)ej(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),0===eg&&(++eg,el(function(){0==--eg&&eC()},[]))}function ej(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++eg,el(eA,[r,e,t])}else e._listeners.push(t)}function eA(e,t,r){try{var n,i=t._value;!t._state&&ed.length&&(ed=[]),n=ei&&t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),t._state||-1!==ed.indexOf(i)||function(e){for(var t=eh.length;t;)if(eh[--t]._value===e._value)return eh.splice(t,1)}(t),r.resolve(n)}catch(e){r.reject(e)}finally{0==--eg&&eC(),--r.psd.ref||r.psd.finalize()}}function eS(){e$(ep,function(){eT()&&eP()})}function eT(){var e=eu;return ec=eu=!1,e}function eP(){var e,t,r;do for(;0<ey.length;)for(e=ey,ey=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(0<ey.length)ec=eu=!0}function eC(){var e=eh;eh=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=ev.slice(0),r=t.length;r;)t[--r]()}function eN(e){return new ex(es,!1,e)}function e_(e,t){var r=em;return function(){var n=eT(),i=em;try{return ez(r,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{ez(i,!1),n&&eP()}}}h(ex.prototype,{then:eb,_then:function(e,t){ej(this,new ew(null,null,e,t,em))},catch:function(e){if(1==arguments.length)return this.then(null,e);var t=arguments[1];return"function"==typeof e?this.then(null,function(r){return(r instanceof e?t:eN)(r)}):this.then(null,function(r){return(r&&r.name===e?t:eN)(r)})},finally:function(e){return this.then(function(t){return ex.resolve(e()).then(function(){return t})},function(t){return ex.resolve(e()).then(function(){return eN(t)})})},timeout:function(e,t){var r=this;return e<1/0?new ex(function(n,i){var s=setTimeout(function(){return i(new W.Timeout(t))},e);r.then(n,i).finally(clearTimeout.bind(null,s))}):this}}),"u">typeof Symbol&&Symbol.toStringTag&&f(ex.prototype,Symbol.toStringTag,"Dexie.Promise"),ep.env=eq(),h(ex,{all:function(){var e=R.apply(null,arguments).map(eU);return new ex(function(t,r){0===e.length&&t([]);var n=e.length;e.forEach(function(i,s){return ex.resolve(i).then(function(r){e[s]=r,--n||t(e)},r)})})},resolve:function(e){return e instanceof ex?e:e&&"function"==typeof e.then?new ex(function(t,r){e.then(t,r)}):new ex(es,!0,e)},reject:eN,race:function(){var e=R.apply(null,arguments).map(eU);return new ex(function(t,r){e.map(function(e){return ex.resolve(e).then(t,r)})})},PSD:{get:function(){return em},set:function(e){return em=e}},totalEchoes:{get:function(){return eR}},newPSD:eI,usePSD:e$,scheduler:{get:function(){return el},set:function(e){el=e}},rejectionMapper:{get:function(){return ef},set:function(e){ef=e}},follow:function(e,t){return new ex(function(r,n){return eI(function(t,r){var n=em;n.unhandleds=[],n.onunhandled=r,n.finalize=Z(function(){var e,n=this;e=function(){0===n.unhandleds.length?t():r(n.unhandleds[0])},ev.push(function t(){e(),ev.splice(ev.indexOf(t),1)}),++eg,el(function(){0==--eg&&eC()},[])},n.finalize),e()},t,r,n)})}}),eo&&(eo.allSettled&&f(ex,"allSettled",function(){var e=R.apply(null,arguments).map(eU);return new ex(function(t){0===e.length&&t([]);var r=e.length,n=Array(r);e.forEach(function(e,i){return ex.resolve(e).then(function(e){return n[i]={status:"fulfilled",value:e}},function(e){return n[i]={status:"rejected",reason:e}}).then(function(){return--r||t(n)})})})}),eo.any&&"u">typeof AggregateError&&f(ex,"any",function(){var e=R.apply(null,arguments).map(eU);return new ex(function(t,r){0===e.length&&r(AggregateError([]));var n=e.length,i=Array(n);e.forEach(function(e,s){return ex.resolve(e).then(function(e){return t(e)},function(e){i[s]=e,--n||r(AggregateError(i))})})})}),eo.withResolvers&&(ex.withResolvers=eo.withResolvers));var eF={awaits:0,echoes:0,id:0},eD=0,eM=[],eO=0,eR=0,eB=0;function eI(e,t,r,n){var i=em,s=Object.create(i);return s.parent=i,s.ref=0,s.global=!1,s.id=++eB,ep.env,s.env=ea?{Promise:ex,PromiseProp:{value:ex,configurable:!0,writable:!0},all:ex.all,race:ex.race,allSettled:ex.allSettled,any:ex.any,resolve:ex.resolve,reject:ex.reject}:{},t&&a(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()},n=e$(s,e,r,n),0===s.ref&&s.finalize(),n}function eV(){return eF.id||(eF.id=++eD),++eF.awaits,eF.echoes+=100,eF.id}function eL(){return!!eF.awaits&&(0==--eF.awaits&&(eF.id=0),eF.echoes=100*eF.awaits,!0)}function eU(e){return eF.echoes&&e&&e.constructor===eo?(eV(),e.then(function(e){return eL(),e},function(e){return eL(),eQ(e)})):e}function eK(){var e=eM[eM.length-1];eM.pop(),ez(e,!1)}function ez(e,t){var r,n=em;(t?!eF.echoes||eO++&&e===em:!eO||--eO&&e===em)||queueMicrotask(t?(function(e){++eR,eF.echoes&&0!=--eF.echoes||(eF.echoes=eF.awaits=eF.id=0),eM.push(em),ez(e,!0)}).bind(null,e):eK),e!==em&&(em=e,n===ep&&(ep.env=eq()),ea&&(r=ep.env.Promise,t=e.env,(n.global||e.global)&&(Object.defineProperty(i,"Promise",t.PromiseProp),r.all=t.all,r.race=t.race,r.resolve=t.resolve,r.reject=t.reject,t.allSettled&&(r.allSettled=t.allSettled),t.any&&(r.any=t.any))))}function eq(){var e=i.Promise;return ea?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function e$(e,t,r,n,i){var s=em;try{return ez(e,!0),t(r,n,i)}finally{ez(s,!1)}}function eW(e,t,r,n){return"function"!=typeof e?e:function(){var i=em;r&&eV(),ez(t,!0);try{return e.apply(this,arguments)}finally{ez(i,!1),n&&queueMicrotask(eL)}}}function eY(e){Promise===eo&&0===eF.echoes?0===eO?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+V).indexOf("[native code]")&&(eV=eL=G);var eQ=ex.reject,eG=String.fromCharCode(65535),eH="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",eX="String expected.",eZ=[],eJ="__dbnames",e0="readonly",e1="readwrite";function e5(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var e2={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function e6(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=C(t))[e],t}}function e3(){throw W.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function e8(e,t){try{var r=e4(e),n=e4(t);if(r!==n)return"Array"===r?1:"Array"===n?-1:"binary"===r?1:"binary"===n?-1:"string"===r?1:"string"===n?-1:"Date"===r?1:"Date"!==n?NaN:-1;switch(r){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(e,t){for(var r=e.length,n=t.length,i=r<n?r:n,s=0;s<i;++s)if(e[s]!==t[s])return e[s]<t[s]?-1:1;return r===n?0:r<n?-1:1}(e7(e),e7(t));case"Array":return function(e,t){for(var r=e.length,n=t.length,i=r<n?r:n,s=0;s<i;++s){var o=e8(e[s],t[s]);if(0!==o)return o}return r===n?0:r<n?-1:1}(e,t)}}catch(e){}return NaN}function e4(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(e=_(e))?"binary":e}function e7(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function e9(e,t,r){var n=e.schema.yProps;return n?(t&&0<r.numFailures&&(t=t.filter(function(e,t){return!r.failures[t]})),Promise.all(n.map(function(r){return r=r.updatesTable,t?e.db.table(r).where("k").anyOf(t).delete():e.db.table(r).clear()})).then(function(){return r})):r}var te=(tt.prototype.execute=function(e){var t=this["@@propmod"];if(void 0!==t.add){var r=t.add;if(o(r))return n(n([],o(e)?e:[],!0),r,!0).sort();if("number"==typeof r)return(Number(e)||0)+r;if("bigint"==typeof r)try{return BigInt(e)+r}catch(e){return BigInt(0)+r}throw TypeError("Invalid term ".concat(r))}if(void 0!==t.remove){var i=t.remove;if(o(i))return o(e)?e.filter(function(e){return!i.includes(e)}).sort():[];if("number"==typeof i)return Number(e)-i;if("bigint"==typeof i)try{return BigInt(e)-i}catch(e){return BigInt(0)-i}throw TypeError("Invalid subtrahend ".concat(i))}return(r=null==(r=t.replacePrefix)?void 0:r[0])&&"string"==typeof e&&e.startsWith(r)?t.replacePrefix[1]+e.substring(r.length):e},tt);function tt(e){this["@@propmod"]=e}function tr(e,t){for(var r=s(t),n=r.length,i=!1,o=0;o<n;++o){var a=r[o],l=t[a],u=w(e,a);l instanceof te?(E(e,a,l.execute(u)),i=!0):u!==l&&(E(e,a,l),i=!0)}return i}var tn=(ti.prototype._trans=function(e,t,r){var n=this._tx||em.trans,i=this.name,s=ei&&"u">typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===e?"read":"write"," ").concat(this.name));function o(e,r,n){if(!n.schema[i])throw new W.NotFound("Table "+i+" not part of transaction");return t(n.idbtrans,n)}var a=eT();try{var l=n&&n.db._novip===this.db._novip?n===em.trans?n._promise(e,o,r):eI(function(){return n._promise(e,o,r)},{trans:n,transless:em.transless||em}):function e(t,r,n,i){if(t.idbdb&&(t._state.openComplete||em.letThrough||t._vip)){var s=t._createTransaction(r,n,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===$.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,r,n,i)})):eQ(s)}return s._promise(r,function(e,t){return eI(function(){return em.trans=s,i(e,t,s)})}).then(function(e){if("readwrite"===r)try{s.idbtrans.commit()}catch(e){}return"readonly"===r?e:s._completion.then(function(){return e})})}if(t._state.openComplete)return eQ(new W.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return eQ(new W.DatabaseClosed);t.open().catch(G)}return t._state.dbReadyPromise.then(function(){return e(t,r,n,i)})}(this.db,e,[this.name],o);return s&&(l._consoleTask=s,l=l.catch(function(e){return console.trace(e),eQ(e)})),l}finally{a&&eP()}},ti.prototype.get=function(e,t){var r=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?eQ(new W.Type("Invalid argument to Table.get()")):this._trans("readonly",function(t){return r.core.get({trans:t,key:e}).then(function(e){return r.hook.reading.fire(e)})}).then(t)},ti.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(o(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=s(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(e){if(e.compound&&t.every(function(t){return 0<=e.keyPath.indexOf(t)})){for(var r=0;r<t.length;++r)if(-1===t.indexOf(e.keyPath[r]))return!1;return!0}return!1}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(r&&this.db._maxKey!==eG){var n=r.keyPath.slice(0,t.length);return this.where(n).equals(n.map(function(t){return e[t]}))}!r&&ei&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var i=this.schema.idxByName,a=t.reduce(function(t,r){var n=t[0],s=t[1],t=i[r],a=e[r];return[n||t,n||!t?e5(s,t&&t.multi?function(e){return o(e=w(e,r))&&e.some(function(e){return 0===e8(a,e)})}:function(e){return 0===e8(a,w(e,r))}):s]},[null,null]),n=a[0],a=a[1];return n?this.where(n.name).equals(e[n.keyPath]).filter(a):r?this.filter(a):this.where(t).equals("")},ti.prototype.filter=function(e){return this.toCollection().and(e)},ti.prototype.count=function(e){return this.toCollection().count(e)},ti.prototype.offset=function(e){return this.toCollection().offset(e)},ti.prototype.limit=function(e){return this.toCollection().limit(e)},ti.prototype.each=function(e){return this.toCollection().each(e)},ti.prototype.toArray=function(e){return this.toCollection().toArray(e)},ti.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ti.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,o(e)?"[".concat(e.join("+"),"]"):e))},ti.prototype.reverse=function(){return this.toCollection().reverse()},ti.prototype.mapToClass=function(e){var r,n=this.db,i=this.name;function s(){return null!==r&&r.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof e3&&(function(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}(s,r=e),Object.defineProperty(s.prototype,"db",{get:function(){return n},enumerable:!1,configurable:!0}),s.prototype.table=function(){return i},e=s);for(var o=new Set,a=e.prototype;a;a=l(a))Object.getOwnPropertyNames(a).forEach(function(e){return o.add(e)});function u(t){if(!t)return t;var r,n=Object.create(e.prototype);for(r in t)if(!o.has(r))try{n[r]=t[r]}catch(e){}return n}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=u,this.hook("reading",u),e},ti.prototype.defineClass=function(){return this.mapToClass(function(e){a(this,e)})},ti.prototype.add=function(e,t){var r=this,n=this.schema.primKey,i=n.auto,s=n.keyPath,o=e;return s&&i&&(o=e6(s)(e)),this._trans("readwrite",function(e){return r.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]})}).then(function(e){return e.numFailures?ex.reject(e.failures[0]):e.lastResult}).then(function(t){if(s)try{E(e,s,t)}catch(e){}return t})},ti.prototype.upsert=function(e,t){var r=this,n=this.schema.primKey.keyPath;return this._trans("readwrite",function(i){return r.core.get({trans:i,key:e}).then(function(s){var o=null!=s?s:{};return tr(o,t),n&&E(o,n,e),r.core.mutate({trans:i,type:"put",values:[o],keys:[e],upsert:!0,updates:{keys:[e],changeSpecs:[t]}}).then(function(e){return e.numFailures?ex.reject(e.failures[0]):!!s})})})},ti.prototype.update=function(e,t){return"object"!=typeof e||o(e)?this.where(":id").equals(e).modify(t):void 0===(e=w(e,this.schema.primKey.keyPath))?eQ(new W.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},ti.prototype.put=function(e,t){var r=this,n=this.schema.primKey,i=n.auto,s=n.keyPath,o=e;return s&&i&&(o=e6(s)(e)),this._trans("readwrite",function(e){return r.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null})}).then(function(e){return e.numFailures?ex.reject(e.failures[0]):e.lastResult}).then(function(t){if(s)try{E(e,s,t)}catch(e){}return t})},ti.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:[e]}).then(function(r){return e9(t,[e],r)}).then(function(e){return e.numFailures?ex.reject(e.failures[0]):void 0})})},ti.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:e2}).then(function(t){return e9(e,null,t)})}).then(function(e){return e.numFailures?ex.reject(e.failures[0]):void 0})},ti.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(r){return t.core.getMany({keys:e,trans:r}).then(function(e){return e.map(function(e){return t.hook.reading.fire(e)})})})},ti.prototype.bulkAdd=function(e,t,r){var n=this,i=Array.isArray(t)?t:void 0,s=(r=r||(i?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",function(t){var r=n.schema.primKey,o=r.auto,r=r.keyPath;if(r&&i)throw new W.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var a=e.length,r=r&&o?e.map(e6(r)):e;return n.core.mutate({trans:t,type:"add",keys:i,values:r,wantResults:s}).then(function(e){var t=e.numFailures,r=e.results,i=e.lastResult,e=e.failures;if(0===t)return s?r:i;throw new q("".concat(n.name,".bulkAdd(): ").concat(t," of ").concat(a," operations failed"),e)})})},ti.prototype.bulkPut=function(e,t,r){var n=this,i=Array.isArray(t)?t:void 0,s=(r=r||(i?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",function(t){var r=n.schema.primKey,o=r.auto,r=r.keyPath;if(r&&i)throw new W.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var a=e.length,r=r&&o?e.map(e6(r)):e;return n.core.mutate({trans:t,type:"put",keys:i,values:r,wantResults:s}).then(function(e){var t=e.numFailures,r=e.results,i=e.lastResult,e=e.failures;if(0===t)return s?r:i;throw new q("".concat(n.name,".bulkPut(): ").concat(t," of ").concat(a," operations failed"),e)})})},ti.prototype.bulkUpdate=function(e){var t=this,r=this.core,n=e.map(function(e){return e.key}),i=e.map(function(e){return e.changes}),s=[];return this._trans("readwrite",function(o){return r.getMany({trans:o,keys:n,cache:"clone"}).then(function(a){var l=[],u=[];e.forEach(function(e,r){var n=e.key,i=e.changes,o=a[r];if(o){for(var c=0,h=Object.keys(i);c<h.length;c++){var d=h[c],f=i[d];if(d===t.schema.primKey.keyPath){if(0!==e8(f,n))throw new W.Constraint("Cannot update primary key in bulkUpdate()")}else E(o,d,f)}s.push(r),l.push(n),u.push(o)}});var c=l.length;return r.mutate({trans:o,type:"put",keys:l,values:u,updates:{keys:n,changeSpecs:i}}).then(function(e){var r=e.numFailures,n=e.failures;if(0===r)return c;for(var i=0,o=Object.keys(n);i<o.length;i++){var a,l=o[i],u=s[Number(l)];null!=u&&(a=n[l],delete n[l],n[u]=a)}throw new q("".concat(t.name,".bulkUpdate(): ").concat(r," of ").concat(c," operations failed"),n)})})})},ti.prototype.bulkDelete=function(e){var t=this,r=e.length;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:e}).then(function(r){return e9(t,e,r)})}).then(function(e){var n=e.numFailures,i=e.lastResult,e=e.failures;if(0===n)return i;throw new q("".concat(t.name,".bulkDelete(): ").concat(n," of ").concat(r," operations failed"),e)})},ti);function ti(){}function ts(e){function t(t,n){if(n){for(var i=arguments.length,s=Array(i-1);--i;)s[i-1]=arguments[i];return r[t].subscribe.apply(null,s),e}if("string"==typeof t)return r[t]}var r={};t.addEventType=a;for(var n=1,i=arguments.length;n<i;++n)a(arguments[n]);return t;function a(e,n,i){if("object"!=typeof e){n=n||er;var l={subscribers:[],fire:i=i||G,subscribe:function(e){-1===l.subscribers.indexOf(e)&&(l.subscribers.push(e),l.fire=n(l.fire,e))},unsubscribe:function(e){l.subscribers=l.subscribers.filter(function(t){return t!==e}),l.fire=l.subscribers.reduce(n,i)}};return r[e]=t[e]=l}s(e).forEach(function(t){var r=e[t];if(o(r))a(t,e[t][0],e[t][1]);else{if("asap"!==r)throw new W.InvalidArgument("Invalid event config");var n=a(t,H,function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){b(function(){e.apply(null,t)})})})}})}}function to(e,t){return p(t).from({prototype:e}),t}function ta(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function tl(e,t){e.filter=e5(e.filter,t)}function tu(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return e5(n(),t())}:t,e.justLimit=r&&!n}function tc(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new W.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function th(e,t,r){var n=tc(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:n,range:e.range}})}function td(e,t,r,n){var i=e.replayFilter?e5(e.filter,e.replayFilter()):e.filter;if(e.or){var s={},o=function(e,r,n){var o,a;i&&!i(r,n,function(e){return r.stop(e)},function(e){return r.fail(e)})||("[object ArrayBuffer]"==(a=""+(o=r.primaryKey))&&(a=""+new Uint8Array(o)),c(s,a)||(s[a]=!0,t(e,r,n)))};return Promise.all([e.or._iterate(o,r),tf(th(e,n,r),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return tf(th(e,n,r),e5(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function tf(e,t,r,n){var i=e_(n?function(e,t,i){return r(n(e),t,i)}:r);return e.then(function(e){if(e)return e.start(function(){var r=function(){return e.continue()};t&&!t(e,function(e){return r=e},function(t){e.stop(t),r=G},function(t){e.fail(t),r=G})||i(e.value,e,function(e){return r=e}),r()})})}var tp=(tm.prototype._read=function(e,t){var r=this._ctx;return r.error?r.table._trans(null,eQ.bind(null,r.error)):r.table._trans("readonly",e).then(t)},tm.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,eQ.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},tm.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=e5(t.algorithm,e)},tm.prototype._iterate=function(e,t){return td(this._ctx,e,t,this._ctx.table.core)},tm.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&a(r,e),t._ctx=r,t},tm.prototype.raw=function(){return this._ctx.valueMapper=null,this},tm.prototype.each=function(e){var t=this._ctx;return this._read(function(r){return td(t,e,r,t.table.core)})},tm.prototype.count=function(e){var t=this;return this._read(function(e){var r=t._ctx,n=r.table.core;if(ta(r,!0))return n.count({trans:e,query:{index:tc(r,n.schema),range:r.range}}).then(function(e){return Math.min(e,r.limit)});var i=0;return td(r,function(){return++i,!1},e,n).then(function(){return i})}).then(e)},tm.prototype.sortBy=function(e,t){var r=e.split(".").reverse(),n=r[0],i=r.length-1;function s(e,t){return t?s(e[r[t]],t-1):e[n]}var o="next"===this._ctx.dir?1:-1;function a(e,t){return e8(s(e,i),s(t,i))*o}return this.toArray(function(e){return e.sort(a)}).then(t)},tm.prototype.toArray=function(e){var t=this;return this._read(function(e){var r=t._ctx;if("next"===r.dir&&ta(r,!0)&&0<r.limit){var n=r.valueMapper,i=tc(r,r.table.core.schema);return r.table.core.query({trans:e,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(function(e){return e=e.result,n?e.map(n):e})}var s=[];return td(r,function(e){return s.push(e)},e,r.table.core).then(function(){return s})},e)},tm.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,ta(t)?tu(t,function(){var t=e;return function(e,r){return 0===t||(1===t?--t:r(function(){e.advance(t),t=0}),!1)}}):tu(t,function(){var t=e;return function(){return--t<0}})),this},tm.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),tu(this._ctx,function(){var t=e;return function(e,r,n){return--t<=0&&r(n),0<=t}},!0),this},tm.prototype.until=function(e,t){return tl(this._ctx,function(r,n,i){return!e(r.value)||(n(i),t)}),this},tm.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},tm.prototype.last=function(e){return this.reverse().first(e)},tm.prototype.filter=function(e){var t;return tl(this._ctx,function(t){return e(t.value)}),(t=this._ctx).isMatch=e5(t.isMatch,e),this},tm.prototype.and=function(e){return this.filter(e)},tm.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},tm.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},tm.prototype.desc=function(){return this.reverse()},tm.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,r){e(r.key,r)})},tm.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},tm.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,r){e(r.primaryKey,r)})},tm.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,t){r.push(t.key)}).then(function(){return r}).then(e)},tm.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&ta(t,!0)&&0<t.limit)return this._read(function(e){var r=tc(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:r,range:t.range}})}).then(function(e){return e.result}).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,t){r.push(t.primaryKey)}).then(function(){return r}).then(e)},tm.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},tm.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},tm.prototype.lastKey=function(e){return this.reverse().firstKey(e)},tm.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return tl(this._ctx,function(e){var r=e.primaryKey.toString(),e=c(t,r);return t[r]=!0,!e}),this},tm.prototype.modify=function(e){var t=this,r=this._ctx;return this._write(function(n){var i="function"==typeof e?e:function(t){return tr(t,e)},o=r.table.core,a=o.schema.primaryKey,l=a.outbound,u=a.extractKey,c=200,a=t.db._options.modifyChunkSize;function h(e,t){var r=t.failures,t=t.numFailures;f+=e-t;for(var n=0,i=s(r);n<i.length;n++){var o=i[n];d.push(r[o])}}a&&(c="object"==typeof a?a[o.name]||a["*"]||200:a);var d=[],f=0,p=[],m=e===ty;return t.clone().primaryKeys().then(function(t){var s=ta(r)&&r.limit===1/0&&("function"!=typeof e||m)&&{index:r.index,range:r.range};return(function a(d){var f=Math.min(c,t.length-d),p=t.slice(d,d+f);return(m?Promise.resolve([]):o.getMany({trans:n,keys:p,cache:"immutable"})).then(function(y){var g=[],v=[],x=l?[]:null,b=m?p:[];if(!m)for(var w=0;w<f;++w){var E=y[w],k={value:C(E),primKey:t[d+w]};!1!==i.call(k,k.value,k)&&(null==k.value?b.push(t[d+w]):l||0===e8(u(E),u(k.value))?(v.push(k.value),l&&x.push(t[d+w])):(b.push(t[d+w]),g.push(k.value)))}return Promise.resolve(0<g.length&&o.mutate({trans:n,type:"add",values:g}).then(function(e){for(var t in e.failures)b.splice(parseInt(t),1);h(g.length,e)})).then(function(){return(0<v.length||s&&"object"==typeof e)&&o.mutate({trans:n,type:"put",keys:x,values:v,criteria:s,changeSpec:"function"!=typeof e&&e,isAdditionalChunk:0<d}).then(function(e){return h(v.length,e)})}).then(function(){return(0<b.length||s&&m)&&o.mutate({trans:n,type:"delete",keys:b,criteria:s,isAdditionalChunk:0<d}).then(function(e){return e9(r.table,b,e)}).then(function(e){return h(b.length,e)})}).then(function(){return t.length>d+f&&a(d+c)})})})(0).then(function(){if(0<d.length)throw new z("Error modifying one or more objects",d,f,p);return t.length})})})},tm.prototype.delete=function(){var e=this._ctx,t=e.range;return ta(e)&&!e.table.schema.yProps&&(e.isPrimKey||3===t.type)?this._write(function(r){var n=e.table.core.schema.primaryKey;return e.table.core.count({trans:r,query:{index:n,range:t}}).then(function(n){return e.table.core.mutate({trans:r,type:"deleteRange",range:t}).then(function(e){var t=e.failures,e=e.numFailures;if(e)throw new z("Could not delete some values",Object.keys(t).map(function(e){return t[e]}),n-e);return n-e})})}):this.modify(ty)},tm);function tm(){}var ty=function(e,t){return t.value=null};function tg(e,t){return e<t?-1:+(e!==t)}function tv(e,t){return t<e?-1:+(e!==t)}function tx(e,t,r){return(e=e instanceof tj?new e.Collection(e):e)._ctx.error=new(r||TypeError)(t),e}function tb(e){return new e.Collection(e,function(){return tk("")}).limit(0)}function tw(e,t,r,n){var i,s,o,a,l,u,c,h=r.length;if(!r.every(function(e){return"string"==typeof e}))return tx(e,eX);function d(e){i="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},s="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},o="next"===e?tg:tv;var t=r.map(function(e){return{lower:s(e),upper:i(e)}}).sort(function(e,t){return o(e.lower,t.lower)});a=t.map(function(e){return e.upper}),l=t.map(function(e){return e.lower}),c="next"===(u=e)?"":n}d("next"),(e=new e.Collection(e,function(){return tE(a[0],l[h-1]+n)}))._ondirectionchange=function(e){d(e)};var f=0;return e._addAlgorithm(function(e,r,n){var i=e.key;if("string"!=typeof i)return!1;var d=s(i);if(t(d,l,f))return!0;for(var p=null,m=f;m<h;++m){var y=function(e,t,r,n,i,s){for(var o=Math.min(e.length,n.length),a=-1,l=0;l<o;++l){var u=t[l];if(u!==n[l])return 0>i(e[l],r[l])?e.substr(0,l)+r[l]+r.substr(l+1):0>i(e[l],n[l])?e.substr(0,l)+n[l]+r.substr(l+1):0<=a?e.substr(0,a)+t[a]+r.substr(a+1):null;0>i(e[l],u)&&(a=l)}return o<n.length&&"next"===s?e+r.substr(e.length):o<e.length&&"prev"===s?e.substr(0,r.length):a<0?null:e.substr(0,a)+n[a]+r.substr(a+1)}(i,d,a[m],l[m],o,u);null===y&&null===p?f=m+1:(null===p||0<o(p,y))&&(p=y)}return r(null!==p?function(){e.continue(p+c)}:n),!1}),e}function tE(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function tk(e){return{type:1,lower:e,upper:e}}var tj=(Object.defineProperty(tA.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),tA.prototype.between=function(e,t,r,n){r=!1!==r,n=!0===n;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(r||n)&&(!r||!n)?tb(this):new this.Collection(this,function(){return tE(e,t,!r,!n)})}catch(e){return tx(this,eH)}},tA.prototype.equals=function(e){return null==e?tx(this,eH):new this.Collection(this,function(){return tk(e)})},tA.prototype.above=function(e){return null==e?tx(this,eH):new this.Collection(this,function(){return tE(e,void 0,!0)})},tA.prototype.aboveOrEqual=function(e){return null==e?tx(this,eH):new this.Collection(this,function(){return tE(e,void 0,!1)})},tA.prototype.below=function(e){return null==e?tx(this,eH):new this.Collection(this,function(){return tE(void 0,e,!1,!0)})},tA.prototype.belowOrEqual=function(e){return null==e?tx(this,eH):new this.Collection(this,function(){return tE(void 0,e)})},tA.prototype.startsWith=function(e){return"string"!=typeof e?tx(this,eX):this.between(e,e+eG,!0,!0)},tA.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):tw(this,function(e,t){return 0===e.indexOf(t[0])},[e],eG)},tA.prototype.equalsIgnoreCase=function(e){return tw(this,function(e,t){return e===t[0]},[e],"")},tA.prototype.anyOfIgnoreCase=function(){var e=R.apply(O,arguments);return 0===e.length?tb(this):tw(this,function(e,t){return -1!==t.indexOf(e)},e,"")},tA.prototype.startsWithAnyOfIgnoreCase=function(){var e=R.apply(O,arguments);return 0===e.length?tb(this):tw(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,eG)},tA.prototype.anyOf=function(){var e=this,t=R.apply(O,arguments),r=this._cmp;try{t.sort(r)}catch(e){return tx(this,eH)}if(0===t.length)return tb(this);var n=new this.Collection(this,function(){return tE(t[0],t[t.length-1])});n._ondirectionchange=function(n){r="next"===n?e._ascending:e._descending,t.sort(r)};var i=0;return n._addAlgorithm(function(e,n,s){for(var o=e.key;0<r(o,t[i]);)if(++i===t.length)return n(s),!1;return 0===r(o,t[i])||(n(function(){e.continue(t[i])}),!1)}),n},tA.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},tA.prototype.noneOf=function(){var e=R.apply(O,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return tx(this,eH)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},tA.prototype.inAnyRange=function(e,t){var r=this,n=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(0===e.length)return tb(this);if(!e.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&0>=i(e[0],e[1])}))return tx(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",W.InvalidArgument);var l,u=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers,h=i;function d(e,t){return h(e[0],t[0])}try{(l=e.reduce(function(e,t){for(var r=0,i=e.length;r<i;++r){var s=e[r];if(0>n(t[0],s[1])&&0<n(t[1],s[0])){s[0]=o(s[0],t[0]),s[1]=a(s[1],t[1]);break}}return r===i&&e.push(t),e},[])).sort(d)}catch(e){return tx(this,eH)}var f=0,p=c?function(e){return 0<i(e,l[f][1])}:function(e){return 0<=i(e,l[f][1])},m=u?function(e){return 0<s(e,l[f][0])}:function(e){return 0<=s(e,l[f][0])},y=p,e=new this.Collection(this,function(){return tE(l[0][0],l[l.length-1][1],!u,!c)});return e._ondirectionchange=function(e){h="next"===e?(y=p,i):(y=m,s),l.sort(d)},e._addAlgorithm(function(e,t,n){for(var s=e.key;y(s);)if(++f===l.length)return t(n),!1;return!p(s)&&!m(s)||(0===r._cmp(s,l[f][1])||0===r._cmp(s,l[f][0])||t(function(){h===i?e.continue(l[f][0]):e.continue(l[f][1])}),!1)}),e},tA.prototype.startsWithAnyOf=function(){var e=R.apply(O,arguments);return e.every(function(e){return"string"==typeof e})?0===e.length?tb(this):this.inAnyRange(e.map(function(e){return[e,e+eG]})):tx(this,"startsWithAnyOf() only works with strings")},tA);function tA(){}function tS(e){return e_(function(t){return tT(t),e(t.target.error),!1})}function tT(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var tP="storagemutated",tC="x-storagemutated-1",tN=ts(null,tP),t_=(tF.prototype._lock=function(){return x(!em.global),++this._reculock,1!==this._reculock||em.global||(em.lockOwnerFor=this),this},tF.prototype._unlock=function(){if(x(!em.global),0==--this._reculock)for(em.global||(em.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{e$(e[1],e[0])}catch(e){}}return this},tF.prototype._locked=function(){return this._reculock&&em.lockOwnerFor!==this},tF.prototype.create=function(e){var t=this;if(!this.mode)return this;var r=this.db.idbdb,n=this.db._state.dbOpenError;if(x(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new W.DatabaseClosed(n);case"MissingAPIError":throw new W.MissingAPI(n.message,n);default:throw new W.OpenFailed(n)}if(!this.active)throw new W.TransactionInactive;return x(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||r).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=e_(function(r){tT(r),t._reject(e.error)}),e.onabort=e_(function(r){tT(r),t.active&&t._reject(new W.Abort(e.error)),t.active=!1,t.on("abort").fire(r)}),e.oncomplete=e_(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&tN.storagemutated.fire(e.mutatedParts)}),this},tF.prototype._promise=function(e,t,r){var n=this;if("readwrite"===e&&"readwrite"!==this.mode)return eQ(new W.ReadOnly("Transaction is readonly"));if(!this.active)return eQ(new W.TransactionInactive);if(this._locked())return new ex(function(i,s){n._blockedFuncs.push([function(){n._promise(e,t,r).then(i,s)},em])});if(r)return eI(function(){var e=new ex(function(e,r){n._lock();var i=t(e,r,n);i&&i.then&&i.then(e,r)});return e.finally(function(){return n._unlock()}),e._lib=!0,e});var i=new ex(function(e,r){var i=t(e,r,n);i&&i.then&&i.then(e,r)});return i._lib=!0,i},tF.prototype._root=function(){return this.parent?this.parent._root():this},tF.prototype.waitFor=function(e){var t,r=this._root(),n=ex.resolve(e);r._waitingFor?r._waitingFor=r._waitingFor.then(function(){return n}):(r._waitingFor=n,r._waitingQueue=[],t=r.idbtrans.objectStore(r.storeNames[0]),function e(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(t.get(-1/0).onsuccess=e)}());var i=r._waitingFor;return new ex(function(e,t){n.then(function(t){return r._waitingQueue.push(e_(e.bind(null,t)))},function(e){return r._waitingQueue.push(e_(t.bind(null,e)))}).finally(function(){r._waitingFor===i&&(r._waitingFor=null)})})},tF.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new W.Abort))},tF.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(c(t,e))return t[e];var r=this.schema[e];if(!r)throw new W.NotFound("Table "+e+" not part of transaction");return(r=new this.db.Table(e,r,this)).core=this.db.core.table(e),t[e]=r},tF);function tF(){}function tD(e,t,r,n,i,s,o,a){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:s,src:(r&&!o?"&":"")+(n?"*":"")+(i?"++":"")+tM(t),type:a}}function tM(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function tO(e,t,r){var n;return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:(n=function(e){return[e.name,e]},r.reduce(function(e,t,r){return(r=n(t,r))&&(e[r[0]]=r[1]),e},{}))}}var tR=function(e){try{return e.only([[]]),tR=function(){return[[]]},[[]]}catch(e){return tR=function(){return eG},eG}};function tB(e){return null==e?function(){}:"string"==typeof e?1===e.split(".").length?function(t){return t[e]}:function(t){return w(t,e)}:function(t){return w(t,e)}}function tI(e){return[].slice.call(e)}var tV=0;function tL(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function tU(e,t){var n,i,s,a,l=t.db,t=(n=e._middlewares,i=e._deps,s=t,a=i.IDBKeyRange,i.indexedDB,{dbcore:(s=function(e,t,r){function n(e){if(3===e.type)return null;if(4===e.type)throw Error("Cannot convert never type to IDBKeyRange");var r=e.lower,n=e.upper,i=e.lowerOpen,e=e.upperOpen;return void 0===r?void 0===n?null:t.upperBound(n,!!e):void 0===n?t.lowerBound(r,!!i):t.bound(r,n,!!i,!!e)}var i,s,a=(i=r,s=tI(e.objectStoreNames),{schema:{name:e.name,tables:s.map(function(e){return i.objectStore(e)}).map(function(e){var t=e.keyPath,r=e.autoIncrement,n=o(t),i={},r={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:n,keyPath:t,autoIncrement:r,unique:!0,extractKey:tB(t)},indexes:tI(e.indexNames).map(function(t){return e.index(t)}).map(function(e){var t=e.name,r=e.unique,n=e.multiEntry,e=e.keyPath,n={name:t,compound:o(e),keyPath:e,unique:r,multiEntry:n,extractKey:tB(e)};return i[tL(e)]=n}),getIndexByKeyPath:function(e){return i[tL(e)]}};return i[":id"]=r.primaryKey,null!=t&&(i[tL(t)]=r.primaryKey),r})},hasGetAll:0<s.length&&"getAll"in i.objectStore(s[0])&&!("u">typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),r=a.schema,l=a.hasGetAll,a=r.tables.map(function(e){var t=e.name;return{name:t,schema:e,mutate:function(e){var r=e.trans,i=e.type,s=e.keys,o=e.values,a=e.range;return new Promise(function(e,l){e=e_(e);var u=r.objectStore(t),c=null==u.keyPath,h="put"===i||"add"===i;if(!h&&"delete"!==i&&"deleteRange"!==i)throw Error("Invalid operation type: "+i);var d,f=(s||o||{length:1}).length;if(s&&o&&s.length!==o.length)throw Error("Given keys array must have same length as given values array.");if(0===f)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function p(e){++g,tT(e)}var m=[],y=[],g=0;if("deleteRange"===i){if(4===a.type)return e({numFailures:g,failures:y,results:[],lastResult:void 0});3===a.type?m.push(d=u.clear()):m.push(d=u.delete(n(a)))}else{var c=h?c?[o,s]:[o,null]:[s,null],v=c[0],x=c[1];if(h)for(var b=0;b<f;++b)m.push(d=x&&void 0!==x[b]?u[i](v[b],x[b]):u[i](v[b])),d.onerror=p;else for(b=0;b<f;++b)m.push(d=u[i](v[b])),d.onerror=p}function w(t){t=t.target.result,m.forEach(function(e,t){return null!=e.error&&(y[t]=e.error)}),e({numFailures:g,failures:y,results:"delete"===i?s:m.map(function(e){return e.result}),lastResult:t})}d.onerror=function(e){p(e),w(e)},d.onsuccess=w})},getMany:function(e){var r=e.trans,n=e.keys;return new Promise(function(e,i){e=e_(e);for(var s,o=r.objectStore(t),a=n.length,l=Array(a),u=0,c=0,h=function(t){l[(t=t.target)._pos]=t.result,++c===u&&e(l)},d=tS(i),f=0;f<a;++f)null!=n[f]&&((s=o.get(n[f]))._pos=f,s.onsuccess=h,s.onerror=d,++u);0===u&&e(l)})},get:function(e){var r=e.trans,n=e.key;return new Promise(function(e,i){e=e_(e);var s=r.objectStore(t).get(n);s.onsuccess=function(t){return e(t.target.result)},s.onerror=tS(i)})},query:function(e){return new Promise(function(r,i){r=e_(r);var s,o,a,u=e.trans,c=e.values,h=e.limit,d=e.query,f=h===1/0?void 0:h,p=d.index,d=d.range,u=u.objectStore(t),p=p.isPrimaryKey?u:u.index(p.name),d=n(d);if(0===h)return r({result:[]});l?((f=c?p.getAll(d,f):p.getAllKeys(d,f)).onsuccess=function(e){return r({result:e.target.result})},f.onerror=tS(i)):(s=0,o=!c&&"openKeyCursor"in p?p.openKeyCursor(d):p.openCursor(d),a=[],o.onsuccess=function(e){var t=o.result;return t?(a.push(c?t.value:t.primaryKey),++s===h?r({result:a}):void t.continue()):r({result:a})},o.onerror=tS(i))})},openCursor:function(e){var r=e.trans,i=e.values,s=e.query,o=e.reverse,a=e.unique;return new Promise(function(e,l){e=e_(e);var u=s.index,c=s.range,h=r.objectStore(t),h=u.isPrimaryKey?h:h.index(u.name),u=o?a?"prevunique":"prev":a?"nextunique":"next",d=!i&&"openKeyCursor"in h?h.openKeyCursor(n(c),u):h.openCursor(n(c),u);d.onerror=tS(l),d.onsuccess=e_(function(t){var n,i,s,o,a=d.result;a?(a.___id=++tV,a.done=!1,n=a.continue.bind(a),i=(i=a.continuePrimaryKey)&&i.bind(a),s=a.advance.bind(a),o=function(){throw Error("Cursor not stopped")},a.trans=r,a.stop=a.continue=a.continuePrimaryKey=a.advance=function(){throw Error("Cursor not started")},a.fail=e_(l),a.next=function(){var e=this,t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})},a.start=function(e){function t(){if(d.result)try{e()}catch(e){a.fail(e)}else a.done=!0,a.start=function(){throw Error("Cursor behind last entry")},a.stop()}var r=new Promise(function(e,t){e=e_(e),d.onerror=tS(t),a.fail=t,a.stop=function(t){a.stop=a.continue=a.continuePrimaryKey=a.advance=o,e(t)}});return d.onsuccess=e_(function(e){d.onsuccess=t,t()}),a.continue=n,a.continuePrimaryKey=i,a.advance=s,t(),r},e(a)):e(null)},l)})},count:function(e){var r=e.query,i=e.trans,s=r.index,o=r.range;return new Promise(function(e,r){var a=i.objectStore(t),l=s.isPrimaryKey?a:a.index(s.name),a=n(o),l=a?l.count(a):l.count();l.onsuccess=e_(function(t){return e(t.target.result)}),l.onerror=tS(r)})}}}),u={};return a.forEach(function(e){return u[e.name]=e}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!u[e])throw Error("Table '".concat(e,"' not found"));return u[e]},MIN_KEY:-1/0,MAX_KEY:tR(t),schema:r}}(l,a,s),n.dbcore.reduce(function(e,t){return t=t.create,r(r({},e),t(e))},s))});e.core=t.dbcore,e.tables.forEach(function(t){var r=t.name;e.core.schema.tables.some(function(e){return e.name===r})&&(t.core=e.core.table(r),e[r]instanceof e.Table&&(e[r].core=t.core))})}function tK(e,t,r,n){r.forEach(function(r){var i=n[r];t.forEach(function(t){var n=function e(t,r){return m(t,r)||(t=l(t))&&e(t,r)}(t,r);(!n||"value"in n&&void 0===n.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?f(t,r,{get:function(){return this.table(r)},set:function(e){d(this,r,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[r]=new e.Table(r,i))})})}function tz(e,t){t.forEach(function(t){for(var r in t)t[r]instanceof e.Table&&delete t[r]})}function tq(e,t){return e._cfg.version-t._cfg.version}function t$(e,t){var r,n={del:[],add:[],change:[]};for(r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],s=t[r];if(i){var o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto)o.recreate=!0,n.change.push(o);else{var a=i.idxByName,l=s.idxByName,u=void 0;for(u in a)l[u]||o.del.push(u);for(u in l){var c=a[u],h=l[u];c?c.src!==h.src&&o.change.push(h):o.add.push(h)}(0<o.del.length||0<o.add.length||0<o.change.length)&&n.change.push(o)}}else n.add.push([r,s])}return n}function tW(e,t,r,n){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(function(e){return tQ(i,e)}),i}function tY(e,t){s(e).forEach(function(r){t.db.objectStoreNames.contains(r)||(ei&&console.debug("Dexie: Creating missing table",r),tW(t,r,e[r].primKey,e[r].indexes))})}function tQ(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function tG(e,t,r){var n={};return g(t.objectStoreNames,0).forEach(function(e){for(var t=r.objectStore(e),i=tD(tM(l=t.keyPath),l||"",!0,!1,!!t.autoIncrement,l&&"string"!=typeof l,!0),s=[],o=0;o<t.indexNames.length;++o){var a=t.index(t.indexNames[o]),l=a.keyPath,a=tD(a.name,l,!!a.unique,!!a.multiEntry,!1,l&&"string"!=typeof l,!1);s.push(a)}n[e]=tO(e,i,s)}),n}function tH(e,t,r){for(var n=r.db.objectStoreNames,s=0;s<n.length;++s){var o=n[s],a=r.objectStore(o);e._hasGetAll="getAll"in a;for(var l=0;l<a.indexNames.length;++l){var u=a.indexNames[l],c=a.index(u).keyPath,h="string"==typeof c?c:"["+g(c).join("+")+"]";!t[o]||(c=t[o].idxByName[h])&&(c.name=u,delete t[o].idxByName[h],t[o].idxByName[u]=c)}}"u">typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function tX(e){return e.split(",").map(function(e,t){var r=e.split(":"),n=null==(i=r[1])?void 0:i.trim(),i=(e=r[0].trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(i)?i.match(/^\[(.*)\]$/)[1].split("+"):i;return tD(i,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(r),0===t,n)})}var tZ=(tJ.prototype._createTableSchema=tO,tJ.prototype._parseIndexSyntax=tX,tJ.prototype._parseStoresSpec=function(e,t){var r=this;s(e).forEach(function(n){if(null!==e[n]){var i=r._parseIndexSyntax(e[n]),s=i.shift();if(!s)throw new W.Schema("Invalid schema for table "+n+": "+e[n]);if(s.unique=!0,s.multi)throw new W.Schema("Primary key cannot be multiEntry*");i.forEach(function(e){if(e.auto)throw new W.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new W.Schema("Index must have a name and cannot be an empty string")}),i=r._createTableSchema(n,s,i),t[n]=i}})},tJ.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e;var e=t._versions,r={},n={};return e.forEach(function(e){a(r,e._cfg.storesSource),n=e._cfg.dbschema={},e._parseStoresSpec(r,n)}),t._dbSchema=n,tz(t,[t._allTables,t,t.Transaction.prototype]),tK(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],s(n),n),t._storeNames=s(n),this},tJ.prototype.upgrade=function(e){return this._cfg.contentUpgrade=en(this._cfg.contentUpgrade||G,e),this},tJ);function tJ(){}function t0(e,t){var r=e._dbNamesDB;return r||(r=e._dbNamesDB=new rS(eJ,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),r.table("dbnames")}function t1(e){return e&&"function"==typeof e.databases}function t5(e){return eI(function(){return em.letThrough=!0,e()})}function t2(e){return!("from"in e)}var t6=function(e,t){if(!this){var r=new t6;return e&&"d"in e&&a(r,e),r}a(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function t3(e,t,r){var n=e8(t,r);if(!isNaN(n)){if(0<n)throw RangeError();if(t2(e))return a(e,{from:t,to:r,d:1});var i=e.l,n=e.r;if(0>e8(r,e.from))return i?t3(i,t,r):e.l={from:t,to:r,d:1,l:null,r:null},t9(e);if(0<e8(t,e.to))return n?t3(n,t,r):e.r={from:t,to:r,d:1,l:null,r:null},t9(e);0>e8(t,e.from)&&(e.from=t,e.l=null,e.d=n?n.d+1:1),0<e8(r,e.to)&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1),r=!e.r,i&&!e.l&&t8(e,i),n&&r&&t8(e,n)}}function t8(e,t){t2(t)||function e(t,r){var n=r.from,i=r.to,s=r.l,r=r.r;t3(t,n,i),s&&e(t,s),r&&e(t,r)}(e,t)}function t4(e,t){var r=t7(t),n=r.next();if(n.done)return!1;for(var i=n.value,s=t7(e),o=s.next(i.from),a=o.value;!n.done&&!o.done;){if(0>=e8(a.from,i.to)&&0<=e8(a.to,i.from))return!0;0>e8(i.from,a.from)?i=(n=r.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function t7(e){var t=t2(e)?null:{s:0,n:e};return{next:function(e){for(var r=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&0>e8(e,t.n.from);)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||0>=e8(e,t.n.to))return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function t9(e){var t,n,i=((null==(t=e.r)?void 0:t.d)||0)-((null==(n=e.l)?void 0:n.d)||0),s=1<i?"r":i<-1?"l":"";s&&(t="r"==s?"l":"r",n=r({},e),i=e[s],e.from=i.from,e.to=i.to,e[s]=i[s],n[s]=i[t],(e[t]=n).d=re(n)),e.d=re(e)}function re(e){var t=e.r,e=e.l;return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function rt(e,t){return s(t).forEach(function(r){e[r]?t8(e[r],t[r]):e[r]=function e(t){var r,n,i={};for(r in t)c(t,r)&&(n=t[r],i[r]=!n||"object"!=typeof n||T.has(n.constructor)?n:e(n));return i}(t[r])}),e}function rr(e,t){return e.all||t.all||Object.keys(e).some(function(r){return t[r]&&t4(t[r],e[r])})}h(t6.prototype,((V={add:function(e){return t8(this,e),this},addKey:function(e){return t3(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(e){return t3(t,e,e)}),this},hasKey:function(e){var t=t7(this).next(e).value;return t&&0>=e8(t.from,e)&&0<=e8(t.to,e)}})[F]=function(){return t7(this)},V));var rn={},ri={},rs=!1;function ro(e){rt(ri,e),rs||(rs=!0,setTimeout(function(){rs=!1,ra(ri,(ri={},!1))},0))}function ra(e,t){void 0===t&&(t=!1);var r=new Set;if(e.all)for(var n=0,i=Object.values(rn);n<i.length;n++)rl(o=i[n],e,r,t);else for(var s in e){var o,a=/^idb\:\/\/(.*)\/(.*)\//.exec(s);a&&(s=a[1],a=a[2],(o=rn["idb://".concat(s,"/").concat(a)])&&rl(o,e,r,t))}r.forEach(function(e){return e()})}function rl(e,t,r,n){for(var i=[],s=0,o=Object.entries(e.queries.query);s<o.length;s++){for(var a=o[s],l=a[0],u=[],c=0,h=a[1];c<h.length;c++){var d=h[c];rr(t,d.obsSet)?d.subscribers.forEach(function(e){return r.add(e)}):n&&u.push(d)}n&&i.push([l,u])}if(n)for(var f=0;f<i.length;f++){var p=i[f],l=p[0],u=p[1];e.queries.query[l]=u}}function ru(e){function t(t){return e.next(t)}var r=i(t),n=i(function(t){return e.throw(t)});function i(e){return function(t){var i=e(t),t=i.value;return i.done?t:t&&"function"==typeof t.then?t.then(r,n):o(t)?Promise.all(t).then(r,n):r(t)}}return i(t)()}function rc(e,t,r){for(var n=o(e)?e.slice():[e],i=0;i<r;++i)n.push(t);return n}var rh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return r(r({},e),{table:function(t){var n=e.table(t),i=n.schema,s={},o=[];function a(e,t,n){var i=tL(e),l=s[i]=s[i]||[],u=null==e?0:"string"==typeof e?1:e.length,c=0<t,c=r(r({},n),{name:c?"".concat(i,"(virtual-from:").concat(n.name,")"):n.name,lowLevelIndex:n,isVirtual:c,keyTail:t,keyLength:u,extractKey:tB(e),unique:!c&&n.unique});return l.push(c),c.isPrimaryKey||o.push(c),1<u&&a(2===u?e[0]:e.slice(0,u-1),t+1,n),l.sort(function(e,t){return e.keyTail-t.keyTail}),c}t=a(i.primaryKey.keyPath,0,i.primaryKey),s[":id"]=[t];for(var l=0,u=i.indexes;l<u.length;l++){var c=u[l];a(c.keyPath,0,c)}function h(t){var n,i=t.query.index;return i.isVirtual?r(r({},t),{query:{index:i.lowLevelIndex,range:(n=t.query.range,i=i.keyTail,{type:1===n.type?2:n.type,lower:rc(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:rc(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}):t}return r(r({},n),{schema:r(r({},i),{primaryKey:t,indexes:o,getIndexByKeyPath:function(e){return(e=s[tL(e)])&&e[0]}}),count:function(e){return n.count(h(e))},query:function(e){return n.query(h(e))},openCursor:function(t){var r=t.query.index,i=r.keyTail,s=r.isVirtual,o=r.keyLength;return s?n.openCursor(h(t)).then(function(r){var n;return r&&Object.create(n=r,{continue:{value:function(r){null!=r?n.continue(rc(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(rc(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:function(){return n.value}}})}):n.openCursor(t)}})}})}};function rd(e,t,r,n){return r=r||{},n=n||"",s(e).forEach(function(i){var s,o,a;c(t,i)?(s=e[i],o=t[i],"object"==typeof s&&"object"==typeof o&&s&&o?(a=_(s))!==_(o)?r[n+i]=t[i]:"Object"===a?rd(s,o,r,n+i+"."):s!==o&&(r[n+i]=t[i]):s!==o&&(r[n+i]=t[i])):r[n+i]=void 0}),s(t).forEach(function(i){c(e,i)||(r[n+i]=t[i])}),r}function rf(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var rp={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return r(r({},e),{table:function(t){var i=e.table(t),s=i.schema.primaryKey;return r(r({},i),{mutate:function(e){var o=em.trans,a=o.table(t).hook,l=a.deleting,u=a.creating,h=a.updating;switch(e.type){case"add":if(u.fire===G)break;return o._promise("readwrite",function(){return d(e)},!0);case"put":if(u.fire===G&&h.fire===G)break;return o._promise("readwrite",function(){return d(e)},!0);case"delete":if(l.fire===G)break;return o._promise("readwrite",function(){return d(e)},!0);case"deleteRange":if(l.fire===G)break;return o._promise("readwrite",function(){return function e(t,n,o){return i.query({trans:t,values:!1,query:{index:s,range:n},limit:o}).then(function(i){var s=i.result;return d({type:"delete",keys:s,trans:t}).then(function(i){return 0<i.numFailures?Promise.reject(i.failures[0]):s.length<o?{failures:[],numFailures:0,lastResult:void 0}:e(t,r(r({},n),{lower:s[s.length-1],lowerOpen:!0}),o)})})}(e.trans,e.range,1e4)},!0)}return i.mutate(e);function d(e){var t,o=em.trans,a=e.keys||rf(s,e);if(!a)throw Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?r(r({},e),{keys:a}):r({},e)).type&&(e.values=n([],e.values,!0)),e.keys&&(e.keys=n([],e.keys,!0)),("add"===(t=e).type?Promise.resolve([]):i.getMany({trans:t.trans,keys:a,cache:"immutable"})).then(function(t){var r=a.map(function(r,n){var i,a,d,f=t[n],p={onerror:null,onsuccess:null};return"delete"===e.type?l.fire.call(p,r,f,o):"add"===e.type||void 0===f?(i=u.fire.call(p,r,e.values[n],o),null==r&&null!=i&&(e.keys[n]=r=i,s.outbound||E(e.values[n],s.keyPath,r))):(i=rd(f,e.values[n]),(a=h.fire.call(p,i,r,f,o))&&(d=e.values[n],Object.keys(a).forEach(function(e){c(d,e)?d[e]=a[e]:E(d,e,a[e])}))),p});return i.mutate(e).then(function(n){for(var i=n.failures,s=n.results,o=n.numFailures,n=n.lastResult,l=0;l<a.length;++l){var u=(s||a)[l],c=r[l];null==u?c.onerror&&c.onerror(i[l]):c.onsuccess&&c.onsuccess("put"===e.type&&t[l]?e.values[l]:u)}return{failures:i,results:s,numFailures:o,lastResult:n}}).catch(function(e){return r.forEach(function(t){return t.onerror&&t.onerror(e)}),Promise.reject(e)})})}}})}})}};function rm(e,t,r){try{if(!t||t.keys.length<e.length)return null;for(var n=[],i=0,s=0;i<t.keys.length&&s<e.length;++i)0===e8(t.keys[i],e[s])&&(n.push(r?C(t.values[i]):t.values[i]),++s);return n.length===e.length?n:null}catch(e){return null}}var ry={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return r(r({},n),{getMany:function(e){if(!e.cache)return n.getMany(e);var t=rm(e.keys,e.trans._cache,"clone"===e.cache);return t?ex.resolve(t):n.getMany(e).then(function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?C(t):t},t})},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),n.mutate(e)}})}}}};function rg(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function rv(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var rx={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,n=new t6(e.MIN_KEY,e.MAX_KEY);return r(r({},e),{transaction:function(t,r,n){if(em.subscr&&"readonly"!==r)throw new W.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(em.querier));return e.transaction(t,r,n)},table:function(i){var a=e.table(i),l=a.schema,u=l.primaryKey,c=l.indexes,h=u.extractKey,d=u.outbound,f=u.autoIncrement&&c.filter(function(e){return e.compound&&e.keyPath.includes(u.keyPath)}),p=r(r({},a),{mutate:function(r){function s(e){return p[e="idb://".concat(t,"/").concat(i,"/").concat(e)]||(p[e]=new t6)}var c,h,d=r.trans,p=r.mutatedParts||(r.mutatedParts={}),m=s(""),y=s(":dels"),g=r.type,v="deleteRange"===r.type?[r.range]:"delete"===r.type?[r.keys]:r.values.length<50?[rf(u,r).filter(function(e){return e}),r.values]:[],x=v[0],b=v[1],v=r.trans._cache;return o(x)?(m.addKeys(x),(v="delete"===g||x.length===b.length?rm(x,v):null)||y.addKeys(x),(v||b)&&(c=v,h=b,l.indexes.forEach(function(e){var t=s(e.name||"");function r(t){return null!=t?e.extractKey(t):null}function n(r){return e.multiEntry&&o(r)?r.forEach(function(e){return t.addKey(e)}):t.addKey(r)}(c||h).forEach(function(e,t){var i=c&&r(c[t]),t=h&&r(h[t]);0!==e8(i,t)&&(null!=i&&n(i),null!=t&&n(t))})}))):x?(b={from:null!=(b=x.lower)?b:e.MIN_KEY,to:null!=(b=x.upper)?b:e.MAX_KEY},y.add(b),m.add(b)):(m.add(n),y.add(n),l.indexes.forEach(function(e){return s(e.name).add(n)})),a.mutate(r).then(function(e){return!x||"add"!==r.type&&"put"!==r.type||(m.addKeys(e.results),f&&f.forEach(function(t){for(var n=r.values.map(function(e){return t.extractKey(e)}),i=t.keyPath.findIndex(function(e){return e===u.keyPath}),o=0,a=e.results.length;o<a;++o)n[o][i]=e.results[o];s(t.name).addKeys(n)})),d.mutatedParts=rt(d.mutatedParts||{},p),e})}}),c=function(t){var r=t.query,t=r.index,r=r.range;return[t,new t6(null!=(t=r.lower)?t:e.MIN_KEY,null!=(r=r.upper)?r:e.MAX_KEY)]},m={get:function(e){return[u,new t6(e.key)]},getMany:function(e){return[u,(new t6).addKeys(e.keys)]},count:c,query:c,openCursor:c};return s(m).forEach(function(e){p[e]=function(s){var o=em.subscr,l=!!o,u=rg(em,a)&&rv(e,s)?s.obsSet={}:o;if(l){var c=function(e){return u[e="idb://".concat(t,"/").concat(i,"/").concat(e)]||(u[e]=new t6)},f=c(""),p=c(":dels"),o=m[e](s),l=o[0],o=o[1];if(("query"===e&&l.isPrimaryKey&&!s.values?p:c(l.name||"")).add(o),!l.isPrimaryKey){if("count"!==e){var y="query"===e&&d&&s.values&&a.query(r(r({},s),{values:!1}));return a[e].apply(this,arguments).then(function(t){if("query"===e){if(d&&s.values)return y.then(function(e){return e=e.result,f.addKeys(e),t});var r=s.values?t.result.map(h):t.result;(s.values?f:p).addKeys(r)}else if("openCursor"===e){var n=s.values;return t&&Object.create(t,{key:{get:function(){return p.addKey(t.primaryKey),t.key}},primaryKey:{get:function(){var e=t.primaryKey;return p.addKey(e),e}},value:{get:function(){return n&&f.addKey(t.primaryKey),t.value}}})}return t})}p.add(n)}}return a[e].apply(this,arguments)}}),p}})}};function rb(e,t,n){if(0===n.numFailures)return t;if("deleteRange"===t.type)return null;var i=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return n.numFailures===i?null:(o((t=r({},t)).keys)&&(t.keys=t.keys.filter(function(e,t){return!(t in n.failures)})),"values"in t&&o(t.values)&&(t.values=t.values.filter(function(e,t){return!(t in n.failures)})),t)}function rw(e,t){return(void 0===t.lower||(t.lowerOpen?0<e8(e,t.lower):0<=e8(e,t.lower)))&&(void 0===t.upper||(t.upperOpen?0>e8(e,t.upper):0>=e8(e,t.upper)))}function rE(e,t,r,n,i,s){if(!r||0===r.length)return e;var a=t.query.index,l=a.multiEntry,u=t.query.range,c=n.schema.primaryKey.extractKey,h=a.extractKey,d=(a.lowLevelIndex||a).extractKey,r=r.reduce(function(e,r){var n=e,i=[];if("add"===r.type||"put"===r.type)for(var s=new t6,a=r.values.length-1;0<=a;--a){var d,f=r.values[a],p=c(f);s.hasKey(p)||(d=h(f),(l&&o(d)?d.some(function(e){return rw(e,u)}):rw(d,u))&&(s.addKey(p),i.push(f)))}switch(r.type){case"add":var m=(new t6).addKeys(t.values?e.map(function(e){return c(e)}):e),n=e.concat(t.values?i.filter(function(e){return e=c(e),!m.hasKey(e)&&(m.addKey(e),!0)}):i.map(function(e){return c(e)}).filter(function(e){return!m.hasKey(e)&&(m.addKey(e),!0)}));break;case"put":var y=(new t6).addKeys(r.values.map(function(e){return c(e)}));n=e.filter(function(e){return!y.hasKey(t.values?c(e):e)}).concat(t.values?i:i.map(function(e){return c(e)}));break;case"delete":var g=(new t6).addKeys(r.keys);n=e.filter(function(e){return!g.hasKey(t.values?c(e):e)});break;case"deleteRange":var v=r.range;n=e.filter(function(e){return!rw(c(e),v)})}return n},e);return r===e?e:(r.sort(function(e,t){return e8(d(e),d(t))||e8(c(e),c(t))}),t.limit&&t.limit<1/0&&(r.length>t.limit?r.length=t.limit:e.length===t.limit&&r.length<t.limit&&(i.dirty=!0)),s?Object.freeze(r):r)}function rk(e,t){return 0===e8(e.lower,t.lower)&&0===e8(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}var rj={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return r(r({},e),{transaction:function(r,n,i){var s,o,a=e.transaction(r,n,i);return"readwrite"===n&&(o=(s=new AbortController).signal,i=function(i){return function(){if(s.abort(),"readwrite"===n){for(var o=new Set,l=0;l<r.length;l++){var u=r[l],c=rn["idb://".concat(t,"/").concat(u)];if(c){var h=e.table(u),d=c.optimisticOps.filter(function(e){return e.trans===a});if(a._explicit&&i&&a.mutatedParts)for(var f=0,p=Object.values(c.queries.query);f<p.length;f++)for(var m=0,y=(x=p[f]).slice();m<y.length;m++)rr((b=y[m]).obsSet,a.mutatedParts)&&(M(x,b),b.subscribers.forEach(function(e){return o.add(e)}));else if(0<d.length){c.optimisticOps=c.optimisticOps.filter(function(e){return e.trans!==a});for(var g=0,v=Object.values(c.queries.query);g<v.length;g++)for(var x,b,w,E=0,k=(x=v[g]).slice();E<k.length;E++)null!=(b=k[E]).res&&a.mutatedParts&&(i&&!b.dirty?(w=Object.isFrozen(b.res),w=rE(b.res,b.req,d,h,b,w),b.dirty?(M(x,b),b.subscribers.forEach(function(e){return o.add(e)})):w!==b.res&&(b.res=w,b.promise=ex.resolve({result:w}))):(b.dirty&&M(x,b),b.subscribers.forEach(function(e){return o.add(e)})))}}}o.forEach(function(e){return e()})}}},a.addEventListener("abort",i(!1),{signal:o}),a.addEventListener("error",i(!1),{signal:o}),a.addEventListener("complete",i(!0),{signal:o})),a},table:function(n){var i=e.table(n),s=i.schema.primaryKey;return r(r({},i),{mutate:function(e){var o=em.trans;if(s.outbound||"disabled"===o.db._options.cache||o.explicit||"readwrite"!==o.idbtrans.mode)return i.mutate(e);var a=rn["idb://".concat(t,"/").concat(n)];return a?(o=i.mutate(e),("add"===e.type||"put"===e.type)&&(50<=e.values.length||rf(s,e).some(function(e){return null==e}))?o.then(function(t){var n=rb(0,r(r({},e),{values:e.values.map(function(e,n){var i;return t.failures[n]||E(e=null!=(i=s.keyPath)&&i.includes(".")?C(e):r({},e),s.keyPath,t.results[n]),e})}),t);a.optimisticOps.push(n),queueMicrotask(function(){return e.mutatedParts&&ro(e.mutatedParts)})}):(a.optimisticOps.push(e),e.mutatedParts&&ro(e.mutatedParts),o.then(function(t){0<t.numFailures&&(M(a.optimisticOps,e),(t=rb(0,e,t))&&a.optimisticOps.push(t),e.mutatedParts&&ro(e.mutatedParts))}),o.catch(function(){M(a.optimisticOps,e),e.mutatedParts&&ro(e.mutatedParts)})),o):i.mutate(e)},query:function(e){if(!rg(em,i)||!rv("query",e))return i.query(e);var r,s,o="immutable"===(null==(c=em.trans)?void 0:c.db._options.cache),a=em,l=a.requery,u=a.signal,c=function(e,t,r,n){var i=rn["idb://".concat(e,"/").concat(t)];if(!i)return[];if(!(t=i.queries[r]))return[null,!1,i,null];var s=t[(n.query?n.query.index.name:null)||""];if(!s)return[null,!1,i,null];switch(r){case"query":var o=s.find(function(e){return e.req.limit===n.limit&&e.req.values===n.values&&rk(e.req.query.range,n.query.range)});return o?[o,!0,i,s]:[s.find(function(e){var t,r;return("limit"in e.req?e.req.limit:1/0)>=n.limit&&(!n.values||e.req.values)&&(t=e.req.query.range,r=n.query.range,0>=function(e,t,r,n){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(t=e8(e,t))){if(r&&n)return 0;if(r)return 1;if(n)return -1}return t}(t.lower,r.lower,t.lowerOpen,r.lowerOpen)&&0<=function(e,t,r,n){if(void 0===e)return+(void 0!==t);if(void 0===t)return -1;if(0===(t=e8(e,t))){if(r&&n)return 0;if(r)return -1;if(n)return 1}return t}(t.upper,r.upper,t.upperOpen,r.upperOpen))}),!1,i,s];case"count":return[o=s.find(function(e){return rk(e.req.query.range,n.query.range)}),!!o,i,s]}}(t,n,"query",e),h=c[0],a=c[1],d=c[2],f=c[3];return h&&a?h.obsSet=e.obsSet:(a=i.query(e).then(function(e){var t=e.result;if(h&&(h.res=t),o){for(var r=0,n=t.length;r<n;++r)Object.freeze(t[r]);Object.freeze(t)}else e.result=C(t);return e}).catch(function(e){return f&&h&&M(f,h),Promise.reject(e)}),h={obsSet:e.obsSet,promise:a,subscribers:new Set,type:"query",req:e,dirty:!1},f?f.push(h):(f=[h],(d=d||(rn["idb://".concat(t,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[e.query.index.name||""]=f)),r=h,s=f,r.subscribers.add(l),u.addEventListener("abort",function(){r.subscribers.delete(l),0===r.subscribers.size&&setTimeout(function(){0===r.subscribers.size&&M(s,r)},3e3)}),h.promise.then(function(t){return{result:rE(t.result,e,null==d?void 0:d.optimisticOps,i,h,o)}})}})}})}};function rA(e,t){return new Proxy(e,{get:function(e,r,n){return"db"===r?t:Reflect.get(e,r,n)}})}var rS=(rT.prototype.version=function(e){if(isNaN(e)||e<.1)throw new W.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new W.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,r=t.filter(function(t){return t._cfg.version===e})[0];return r||(r=new this.Version(e),t.push(r),t.sort(tq),r.stores({}),this._state.autoSchema=!1,r)},rT.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||em.letThrough||this._vip)?e():new ex(function(e,r){if(t._state.openComplete)return r(new W.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void r(new W.DatabaseClosed);t.open().catch(G)}t._state.dbReadyPromise.then(e,r)}).then(e)},rT.prototype.use=function(e){var t=e.stack,r=e.create,n=e.level,i=e.name;return i&&this.unuse({stack:t,name:i}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:r,level:null==n?10:n,name:i}),e.sort(function(e,t){return e.level-t.level}),this},rT.prototype.unuse=function(e){var t=e.stack,r=e.name,n=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(e){return n?e.create!==n:!!r&&e.name!==r})),this},rT.prototype.open=function(){var e=this;return e$(ep,function(){return function(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?eQ(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var n=t.openCanceller,i=Math.round(10*e.verno),o=!1;function a(){if(t.openCanceller!==n)throw new W.DatabaseClosed("db.open() was cancelled")}var l,u=t.dbReadyResolve,c=null,h=!1;return ex.race([n,("u"<typeof navigator?ex.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){function t(){return indexedDB.databases().finally(e)}l=setInterval(t,100),t()}).finally(function(){return clearInterval(l)}):Promise.resolve()).then(function n(){return new ex(function(l,u){if(a(),!r)throw new W.MissingAPI;var d=e.name,f=t.autoSchema||!i?r.open(d):r.open(d,i);if(!f)throw new W.MissingAPI;f.onerror=tS(u),f.onblocked=e_(e._fireOnBlocked),f.onupgradeneeded=e_(function(n){var i,a,l,p,m,y,g;c=f.transaction,t.autoSchema&&!e._options.allowEmptyDB?(f.onerror=tT,c.abort(),f.result.close(),(i=r.deleteDatabase(d)).onsuccess=i.onerror=e_(function(){u(new W.NoSuchDatabase("Database ".concat(d," doesnt exist")))})):(c.onerror=tS(u),h=(n=n.oldVersion>0x4000000000000000?0:n.oldVersion)<1,e.idbdb=f.result,o&&function(e,t){tY(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var r=tG(0,e.idbdb,t);tH(e,e._dbSchema,t);for(var n=0,i=t$(r,e._dbSchema).change;n<i.length;n++){var s=function(e){if(e.change.length||e.recreate)return console.warn("Unable to patch indexes of table ".concat(e.name," because it has changes on the type of index or primary key.")),{value:void 0};var r=t.objectStore(e.name);e.add.forEach(function(t){ei&&console.debug("Dexie upgrade patch: Creating missing index ".concat(e.name,".").concat(t.src)),tQ(r,t)})}(i[n]);if("object"==typeof s)return s.value}}(e,c),a=n/10,l=c,p=e._dbSchema,l.objectStoreNames.contains("$meta")&&!p.$meta&&(p.$meta=tO("$meta",tX("")[0],[]),e._storeNames.push("$meta")),(m=e._createTransaction("readwrite",e._storeNames,p)).create(l),m._completion.catch(u),y=m._reject.bind(m),g=em.transless||em,eI(function(){return em.trans=m,em.transless=g,0!==a?(tU(e,l),(m.storeNames.includes("$meta")?m.table("$meta").get("version").then(function(e){return null!=e?e:a}):ex.resolve(a)).then(function(t){var r,n,i;return r=t,n=[],t=e._versions,i=e._dbSchema=tG(0,e.idbdb,l),0!==(t=t.filter(function(e){return e._cfg.version>=r})).length?(t.forEach(function(t){n.push(function(){var n=i,o=t._cfg.dbschema;tH(e,n,l),tH(e,o,l),i=e._dbSchema=o;var a=t$(n,o);a.add.forEach(function(e){tW(l,e[0],e[1].primKey,e[1].indexes)}),a.change.forEach(function(e){if(e.recreate)throw new W.Upgrade("Not yet support for changing primary key");var t=l.objectStore(e.name);e.add.forEach(function(e){return tQ(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),tQ(t,e)}),e.del.forEach(function(e){return t.deleteIndex(e)})});var u=t._cfg.contentUpgrade;if(u&&t._cfg.version>r){tU(e,l),m._memoizedTables={};var c=k(o);a.del.forEach(function(e){c[e]=n[e]}),tz(e,[e.Transaction.prototype]),tK(e,[e.Transaction.prototype],s(c),c),m.schema=c;var h,d=B(u);return d&&eV(),a=ex.follow(function(){var e;(h=u(m))&&d&&(e=eL.bind(null,null),h.then(e,e))}),h&&"function"==typeof h.then?ex.resolve(h):a.then(function(){return h})}}),n.push(function(r){var n=t._cfg.dbschema;[].slice.call(r.db.objectStoreNames).forEach(function(e){return null==n[e]&&r.db.deleteObjectStore(e)}),tz(e,[e.Transaction.prototype]),tK(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),m.schema=e._dbSchema}),n.push(function(r){e.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(e.idbdb.version/10)===t._cfg.version?(e.idbdb.deleteObjectStore("$meta"),delete e._dbSchema.$meta,e._storeNames=e._storeNames.filter(function(e){return"$meta"!==e})):r.objectStore("$meta").put(t._cfg.version,"version"))})}),(function e(){return n.length?ex.resolve(n.shift()(m.idbtrans)).then(e):ex.resolve()})().then(function(){tY(i,l)})):ex.resolve()}).catch(y)):(s(p).forEach(function(e){tW(l,e,p[e].primKey,p[e].indexes)}),tU(e,l),void ex.follow(function(){return e.on.populate.fire(m)}).catch(y))}))},u),f.onsuccess=e_(function(){c=null;var r,a,u,p=e.idbdb=f.result,m=g(p.objectStoreNames);if(0<m.length)try{var y=p.transaction(1===m.length?m[0]:m,"readonly");if(t.autoSchema)r=p,a=y,e.verno=r.version/10,a=e._dbSchema=tG(0,r,a),e._storeNames=g(r.objectStoreNames,0),tK(e,[e._allTables],s(a),a);else if(tH(e,e._dbSchema,y),((u=t$(tG(0,(u=e).idbdb,y),u._dbSchema)).add.length||u.change.some(function(e){return e.add.length||e.change.length}))&&!o)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),p.close(),i=p.version+1,o=!0,l(n());tU(e,y)}catch(e){}eZ.push(e),p.onversionchange=e_(function(r){t.vcFired=!0,e.on("versionchange").fire(r)}),p.onclose=e_(function(){e.close({disableAutoOpen:!1})}),h&&(u=e._deps,y=d,p=u.indexedDB,u=u.IDBKeyRange,t1(p)||y===eJ||t0(p,u).put({name:y}).catch(G)),l()},u)}).catch(function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),n();break;case"VersionError":if(0<i)return i=0,n()}return ex.reject(e)})})]).then(function(){return a(),t.onReadyBeingFired=[],ex.resolve(t5(function(){return e.on.ready.fire(e.vip)})).then(function r(){if(0<t.onReadyBeingFired.length){var n=t.onReadyBeingFired.reduce(en,G);return t.onReadyBeingFired=[],ex.resolve(t5(function(){return n(e.vip)})).then(r)}})}).finally(function(){t.openCanceller===n&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(r){t.dbOpenError=r;try{c&&c.abort()}catch(e){}return n===t.openCanceller&&e._close(),eQ(r)}).finally(function(){t.openComplete=!0,u()}).then(function(){var t;return h&&(t={},e.tables.forEach(function(r){r.schema.indexes.forEach(function(n){n.name&&(t["idb://".concat(e.name,"/").concat(r.name,"/").concat(n.name)]=new t6(-1/0,[[[]]]))}),t["idb://".concat(e.name,"/").concat(r.name,"/")]=t["idb://".concat(e.name,"/").concat(r.name,"/:dels")]=new t6(-1/0,[[[]]])}),tN(tP).fire(t),ra(t,!0)),e})}(e)})},rT.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var e=this._state,t=eZ.indexOf(this);if(0<=t&&eZ.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new ex(function(t){e.dbReadyResolve=t}),e.openCanceller=new ex(function(t,r){e.cancelOpen=r}))},rT.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen,e=this._state;t?(e.isBeingOpened&&e.cancelOpen(new W.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new W.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},rT.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var r=0<arguments.length&&"object"!=typeof arguments[0],n=this._state;return new ex(function(i,s){function o(){t.close(e);var r=t._deps.indexedDB.deleteDatabase(t.name);r.onsuccess=e_(function(){var e,r,n;e=t._deps,r=t.name,n=e.indexedDB,e=e.IDBKeyRange,t1(n)||r===eJ||t0(n,e).delete(r).catch(G),i()}),r.onerror=tS(s),r.onblocked=t._fireOnBlocked}if(r)throw new W.InvalidArgument("Invalid closeOptions argument to db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})},rT.prototype.backendDB=function(){return this.idbdb},rT.prototype.isOpen=function(){return null!==this.idbdb},rT.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},rT.prototype.hasFailed=function(){return null!==this._state.dbOpenError},rT.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(rT.prototype,"tables",{get:function(){var e=this;return s(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),rT.prototype.transaction=function(){var e=(function(e,t,r){var n=arguments.length;if(n<2)throw new W.InvalidArgument("Too few arguments");for(var i=Array(n-1);--n;)i[n-1]=arguments[n];return r=i.pop(),[e,A(i),r]}).apply(this,arguments);return this._transaction.apply(this,e)},rT.prototype._transaction=function(e,t,r){var n=this,i=em.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var s,o,a=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(o=t.map(function(e){if(e=e instanceof n.Table?e.name:e,"string"!=typeof e)throw TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e}),"r"==e||e===e0)s=e0;else{if("rw"!=e&&e!=e1)throw new W.InvalidArgument("Invalid transaction mode: "+e);s=e1}if(i){if(i.mode===e0&&s===e1){if(!a)throw new W.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&o.forEach(function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!a)throw new W.SubTransaction("Table "+e+" not included in parent transaction.");i=null}}),a&&i&&!i.active&&(i=null)}}catch(e){return i?i._promise(null,function(t,r){r(e)}):eQ(e)}var l=(function e(t,r,n,i,s){return ex.resolve().then(function(){var o=em.transless||em,a=t._createTransaction(r,n,t._dbSchema,i);if(a.explicit=!0,o={trans:a,transless:o},i)a.idbtrans=i.idbtrans;else try{a.create(),a.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(i){return i.name===$.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,r,n,null,s)})):eQ(i)}var l,u=B(s);return u&&eV(),o=ex.follow(function(){var e;(l=s.call(a,a))&&(u?(e=eL.bind(null,null),l.then(e,e)):"function"==typeof l.next&&"function"==typeof l.throw&&(l=ru(l)))},o),(l&&"function"==typeof l.then?ex.resolve(l).then(function(e){return a.active?e:eQ(new W.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):o.then(function(){return l})).then(function(e){return i&&a._resolve(),a._completion.then(function(){return e})}).catch(function(e){return a._reject(e),eQ(e)})})}).bind(null,this,s,o,i,r);return i?i._promise(s,l,"lock"):em.trans?e$(em.transless,function(){return n._whenReady(l)}):this._whenReady(l)},rT.prototype.table=function(e){if(!c(this._allTables,e))throw new W.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},rT);function rT(e,t){var n=this;this._middlewares={},this.verno=0;var i=rT.dependencies;this._options=t=r({addons:rT.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},i=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s,o,a,l,u,c={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:G,dbReadyPromise:null,cancelOpen:G,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};c.dbReadyPromise=new ex(function(e){c.dbReadyResolve=e}),c.openCanceller=new ex(function(e,t){c.cancelOpen=t}),this._state=c,this.name=e,this.on=ts(this,"populate","blocked","versionchange","close",{ready:[en,G]}),this.once=function(e,t){var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];n.on(e).unsubscribe(r),t.apply(n,i)};return n.on(e,r)},this.on.ready.subscribe=v(this.on.ready.subscribe,function(e){return function(t,r){rT.vip(function(){var i=n._state;i.openComplete?(i.dbOpenError||ex.resolve().then(t),r&&e(t)):i.onReadyBeingFired?(i.onReadyBeingFired.push(t),r&&e(t)):(e(t),r||e(function e(){n.on.ready.unsubscribe(t),n.on.ready.unsubscribe(e)}))})}}),this.Collection=(s=this,to(tp.prototype,function(e,t){this.db=s;var r=e2,n=null;if(t)try{r=t()}catch(e){n=e}var i=e._ctx,t=i.table,e=t.hook.reading.fire;this._ctx={table:t,index:i.index,isPrimKey:!i.index||t.schema.primKey.keyPath&&i.index===t.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:e!==H?e:null}})),this.Table=(o=this,to(tn.prototype,function(e,t,r){this.db=o,this._tx=r,this.name=e,this.schema=t,this.hook=o._allTables[e]?o._allTables[e].hook:ts(null,{creating:[J,G],reading:[X,H],updating:[et,G],deleting:[ee,G]})})),this.Transaction=(a=this,to(t_.prototype,function(e,t,r,n,i){var s=this;"readonly"!==e&&t.forEach(function(e){(e=null==(e=r[e])?void 0:e.yProps)&&(t=t.concat(e.map(function(e){return e.updatesTable})))}),this.db=a,this.mode=e,this.storeNames=t,this.schema=r,this.chromeTransactionDurability=n,this.idbtrans=null,this.on=ts(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ex(function(e,t){s._resolve=e,s._reject=t}),this._completion.then(function(){s.active=!1,s.on.complete.fire()},function(e){var t=s.active;return s.active=!1,s.on.error.fire(e),s.parent?s.parent._reject(e):t&&s.idbtrans&&s.idbtrans.abort(),eQ(e)})})),this.Version=(l=this,to(tZ.prototype,function(e){this.db=l,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(u=this,to(tj.prototype,function(e,t,r){if(this.db=u,this._ctx={table:e,index:":id"===t?null:t,or:r},this._cmp=this._ascending=e8,this._descending=function(e,t){return e8(t,e)},this._max=function(e,t){return 0<e8(e,t)?e:t},this._min=function(e,t){return 0>e8(e,t)?e:t},this._IDBKeyRange=u._deps.IDBKeyRange,!this._IDBKeyRange)throw new W.MissingAPI})),this.on("versionchange",function(e){0<e.newVersion?console.warn("Another connection wants to upgrade database '".concat(n.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(n.name,"'. Closing db now to resume the delete request.")),n.close({disableAutoOpen:!1})}),this.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(n.name,"') was blocked")):console.warn("Upgrade '".concat(n.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))}),this._maxKey=tR(t.IDBKeyRange),this._createTransaction=function(e,t,r,i){return new n.Transaction(e,t,r,n._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(e){n.on("blocked").fire(e),eZ.filter(function(e){return e.name===n.name&&e!==n&&!e._state.vcFired}).map(function(t){return t.on("versionchange").fire(e)})},this.use(ry),this.use(rj),this.use(rx),this.use(rh),this.use(rp);var h=new Proxy(this,{get:function(e,t,r){if("_vip"===t)return!0;if("table"===t)return function(e){return rA(n.table(e),h)};var i=Reflect.get(e,t,r);return i instanceof tn?rA(i,h):"tables"===t?i.map(function(e){return rA(e,h)}):"_createTransaction"===t?function(){return rA(i.apply(this,arguments),h)}:i}});this.vip=h,i.forEach(function(e){return e(n)})}var rP,V="u">typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",rC=(rN.prototype.subscribe=function(e,t,r){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:r})},rN.prototype[V]=function(){return this},rN);function rN(e){this._subscribe=e}try{rP={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch(e){rP={indexedDB:null,IDBKeyRange:null}}function r_(e){var t,r=!1,n=new rC(function(n){var i,s=B(e),o=!1,a={},l={},u={get closed(){return o},unsubscribe:function(){o||(o=!0,i&&i.abort(),h&&tN.storagemutated.unsubscribe(f))}};n.start&&n.start(u);var h=!1,d=function(){return eY(p)},f=function(e){rt(a,e),rr(l,a)&&d()},p=function(){var u,p;!o&&rP.indexedDB&&(a={},u={},i&&i.abort(),Promise.resolve(function(t){var r=eT();try{s&&eV();var n=eI(e,t);return n=s?n.finally(eL):n}finally{r&&eP()}}(p={subscr:u,signal:(i=new AbortController).signal,requery:d,querier:e,trans:null})).then(function(e){r=!0,t=e,o||p.signal.aborted||(a={},function(e){for(var t in e)if(c(e,t))return;return 1}(l=u)||h||(tN(tP,f),h=!0),eY(function(){return!o&&n.next&&n.next(e)}))},function(e){r=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||o||eY(function(){o||n.error&&n.error(e)})}))};return setTimeout(d,0),u});return n.hasValue=function(){return r},n.getValue=function(){return t},n}function rF(e){var t=rM;try{rM=!0,tN.storagemutated.fire(e),ra(e,!0)}finally{rM=t}}h(rS,r(r({},Q),{delete:function(e){return new rS(e,{addons:[]}).delete()},exists:function(e){return new rS(e,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){var t,r;try{return r=(t=rS.dependencies).indexedDB,t=t.IDBKeyRange,(t1(r)?Promise.resolve(r.databases()).then(function(e){return e.map(function(e){return e.name}).filter(function(e){return e!==eJ})}):t0(r,t).toCollection().primaryKeys()).then(e)}catch(e){return eQ(new W.MissingAPI)}},defineClass:function(){return function(e){a(this,e)}},ignoreTransaction:function(e){return em.trans?e$(em.transless,e):e()},vip:t5,async:function(e){return function(){try{var t=ru(e.apply(this,arguments));return t&&"function"==typeof t.then?t:ex.resolve(t)}catch(e){return eQ(e)}}},spawn:function(e,t,r){try{var n=ru(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:ex.resolve(n)}catch(e){return eQ(e)}},currentTransaction:{get:function(){return em.trans||null}},waitFor:function(e,t){return t=ex.resolve("function"==typeof e?rS.ignoreTransaction(e):e).timeout(t||6e4),em.trans?em.trans.waitFor(t):t},Promise:ex,debug:{get:function(){return ei},set:function(e){ei=e}},derive:p,extend:a,props:h,override:v,Events:ts,on:tN,liveQuery:r_,extendObservabilitySet:rt,getByKeyPath:w,setByKeyPath:E,delByKeyPath:function(e,t){"string"==typeof t?E(e,t,void 0):"length"in t&&[].map.call(t,function(t){E(e,t,void 0)})},shallowClone:k,deepClone:C,getObjectDiff:rd,cmp:e8,asap:b,minKey:-1/0,addons:[],connections:eZ,errnames:$,dependencies:rP,cache:rn,semVer:"4.2.1",version:"4.2.1".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,2*r)})})),rS.maxKey=tR(rS.dependencies.IDBKeyRange),"u">typeof dispatchEvent&&"u">typeof addEventListener&&(tN(tP,function(e){rM||(e=new CustomEvent(tC,{detail:e}),rM=!0,dispatchEvent(e),rM=!1)}),addEventListener(tC,function(e){e=e.detail,rM||rF(e)}));var rD,rM=!1,rO=function(){};return"u">typeof BroadcastChannel&&((rO=function(){(rD=new BroadcastChannel(tC)).onmessage=function(e){return e.data&&rF(e.data)}})(),"function"==typeof rD.unref&&rD.unref(),tN(tP,function(e){rM||rD.postMessage(e)})),"u">typeof addEventListener&&(addEventListener("pagehide",function(e){if(!rS.disableBfCache&&e.persisted){ei&&console.debug("Dexie: handling persisted pagehide"),null!=rD&&rD.close();for(var t=0;t<eZ.length;t++)eZ[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!rS.disableBfCache&&e.persisted&&(ei&&console.debug("Dexie: handling persisted pageshow"),rO(),rF({all:new t6(-1/0,[[]])}))})),ex.rejectionMapper=function(e,t){return!e||e instanceof U||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Y[e.name]?e:(t=new Y[e.name](t||e.message,e),"stack"in e&&f(t,"stack",{get:function(){return this.inner.stack}}),t)},r(rS,Object.freeze({__proto__:null,Dexie:rS,liveQuery:r_,Entity:e3,cmp:e8,PropModification:te,replacePrefix:function(e,t){return new te({replacePrefix:[e,t]})},add:function(e){return new te({add:e})},remove:function(e){return new te({remove:e})},default:rS,RangeSet:t6,mergeRanges:t8,rangesOverlap:t4}),{default:rS}),rS}()},71058,e=>{"use strict";let t,r,n,i;e.s(["PhotoVaultApp",()=>ab,"dummyBackupPhrase",()=>av],71058);var s,o=e.i(43476),a=e.i(71645);let l=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...c},h)=>(0,a.createElement)("svg",{ref:h,...u,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:l("lucide",i),...c},[...o.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(s)?s:[s]])),h=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...n},i)=>(0,a.createElement)(c,{ref:i,iconNode:t,className:l(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...n}));return r.displayName=`${e}`,r},d=h("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),f={src:e.i(83367).default,width:1877,height:1024,blurWidth:0,blurHeight:0},p={src:e.i(62609).default,width:1877,height:1024,blurWidth:0,blurHeight:0},m={src:e.i(57773).default,width:1408,height:768,blurWidth:0,blurHeight:0},y=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],g=new Set(y),v=(e,t,r)=>r>t?t:r<e?e:r,x={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},b={...x,transform:e=>v(0,1,e)},w={...x,default:1},E=e=>Math.round(1e5*e)/1e5,k=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,j=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,A=(e,t)=>r=>!!("string"==typeof r&&j.test(r)&&r.startsWith(e)||t&&null!=r&&Object.prototype.hasOwnProperty.call(r,t)),S=(e,t,r)=>n=>{if("string"!=typeof n)return n;let[i,s,o,a]=n.match(k);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},T={...x,transform:e=>Math.round(v(0,255,e))},P={test:A("rgb","red"),parse:S("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+T.transform(e)+", "+T.transform(t)+", "+T.transform(r)+", "+E(b.transform(n))+")"},C={test:A("#"),parse:function(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}},transform:P.transform},N=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),_=N("deg"),F=N("%"),D=N("px"),M=N("vh"),O=N("vw"),R={...F,parse:e=>F.parse(e)/100,transform:e=>F.transform(100*e)},B={test:A("hsl","hue"),parse:S("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+F.transform(E(t))+", "+F.transform(E(r))+", "+E(b.transform(n))+")"},I={test:e=>P.test(e)||C.test(e)||B.test(e),parse:e=>P.test(e)?P.parse(e):B.test(e)?B.parse(e):C.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?P.transform(e):B.transform(e),getAnimatableNone:e=>{let t=I.parse(e);return t.alpha=0,I.transform(t)}},V=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,L="number",U="color",K=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function z(e){let t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[],s=0,o=t.replace(K,e=>(I.test(e)?(n.color.push(s),i.push(U),r.push(I.parse(e))):e.startsWith("var(")?(n.var.push(s),i.push("var"),r.push(e)):(n.number.push(s),i.push(L),r.push(parseFloat(e))),++s,"${}")).split("${}");return{values:r,split:o,indexes:n,types:i}}function q(e){return z(e).values}function $(e){let{split:t,types:r}=z(e),n=t.length;return e=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],void 0!==e[s]){let t=r[s];t===L?i+=E(e[s]):t===U?i+=I.transform(e[s]):i+=e[s]}return i}}let W=e=>"number"==typeof e?0:I.test(e)?I.getAnimatableNone(e):e,Y={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(k)?.length||0)+(e.match(V)?.length||0)>0},parse:q,createTransformer:$,getAnimatableNone:function(e){let t=q(e);return $(e)(t.map(W))}},Q=new Set(["brightness","contrast","saturate","opacity"]);function G(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[n]=r.match(k)||[];if(!n)return e;let i=r.replace(n,""),s=+!!Q.has(t);return n!==r&&(s*=100),t+"("+s+i+")"}let H=/\b([a-z-]*)\(.*?\)/gu,X={...Y,getAnimatableNone:e=>{let t=e.match(H);return t?t.map(G).join(" "):e}},Z={...x,transform:Math.round},J={borderWidth:D,borderTopWidth:D,borderRightWidth:D,borderBottomWidth:D,borderLeftWidth:D,borderRadius:D,radius:D,borderTopLeftRadius:D,borderTopRightRadius:D,borderBottomRightRadius:D,borderBottomLeftRadius:D,width:D,maxWidth:D,height:D,maxHeight:D,top:D,right:D,bottom:D,left:D,inset:D,insetBlock:D,insetBlockStart:D,insetBlockEnd:D,insetInline:D,insetInlineStart:D,insetInlineEnd:D,padding:D,paddingTop:D,paddingRight:D,paddingBottom:D,paddingLeft:D,paddingBlock:D,paddingBlockStart:D,paddingBlockEnd:D,paddingInline:D,paddingInlineStart:D,paddingInlineEnd:D,margin:D,marginTop:D,marginRight:D,marginBottom:D,marginLeft:D,marginBlock:D,marginBlockStart:D,marginBlockEnd:D,marginInline:D,marginInlineStart:D,marginInlineEnd:D,backgroundPositionX:D,backgroundPositionY:D,rotate:_,rotateX:_,rotateY:_,rotateZ:_,scale:w,scaleX:w,scaleY:w,scaleZ:w,skew:_,skewX:_,skewY:_,distance:D,translateX:D,translateY:D,translateZ:D,x:D,y:D,z:D,perspective:D,transformPerspective:D,opacity:b,originX:R,originY:R,originZ:D,zIndex:Z,fillOpacity:b,strokeOpacity:b,numOctaves:Z},ee={...J,color:I,backgroundColor:I,outlineColor:I,fill:I,stroke:I,borderColor:I,borderTopColor:I,borderRightColor:I,borderBottomColor:I,borderLeftColor:I,filter:X,WebkitFilter:X},et=e=>ee[e],er=()=>({translate:0,scale:1,origin:0,originPoint:0}),en=()=>({x:er(),y:er()}),ei=()=>({min:0,max:0}),es=()=>({x:ei(),y:ei()}),eo=e=>!!(e&&e.getVelocity),ea=new Set(["width","height","top","left","right","bottom",...y]),el=e=>t=>t.test(e),eu=[x,D,F,_,O,M,{test:e=>"auto"===e,parse:e=>e}],ec=e=>eu.find(el(e));var eh=e.i(47167);let ed=()=>{},ef=()=>{};eh.default;let ep=e=>t=>"string"==typeof t&&t.startsWith(e),em=ep("--"),ey=ep("var(--"),eg=e=>!!ey(e)&&ev.test(e.split("/*")[0].trim()),ev=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ex(e){return"string"==typeof e&&e.split("/*")[0].includes("var(--")}let eb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,ew=e=>180*e/Math.PI,eE=e=>ej(ew(Math.atan2(e[1],e[0]))),ek={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:eE,rotateZ:eE,skewX:e=>ew(Math.atan(e[1])),skewY:e=>ew(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ej=e=>((e%=360)<0&&(e+=360),e),eA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),eS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),eT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eA,scaleY:eS,scale:e=>(eA(e)+eS(e))/2,rotateX:e=>ej(ew(Math.atan2(e[6],e[5]))),rotateY:e=>ej(ew(Math.atan2(-e[2],e[0]))),rotateZ:eE,rotate:eE,skewX:e=>ew(Math.atan(e[4])),skewY:e=>ew(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function eP(e){return+!!e.includes("scale")}function eC(e,t){let r,n;if(!e||"none"===e)return eP(t);let i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(i)r=eT,n=i;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ek,n=t}if(!n)return eP(t);let s=r[t],o=n[1].split(",").map(eN);return"function"==typeof s?s(o):o[s]}function eN(e){return parseFloat(e.trim())}let e_=e=>e===x||e===D,eF=new Set(["x","y","z"]),eD=y.filter(e=>!eF.has(e)),eM={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eC(t,"x"),y:(e,{transform:t})=>eC(t,"y")};eM.translateX=eM.x,eM.translateY=eM.y;let eO=e=>e,eR={},eB=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function eI(e,t){let r=!1,n=!0,i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=eB.reduce((e,r)=>(e[r]=function(e,t){let r=new Set,n=new Set,i=!1,s=!1,o=new WeakSet,a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){o.has(t)&&(c.schedule(t),e()),l++,t(a)}let c={schedule:(e,t=!1,s=!1)=>{let a=s&&i?r:n;return t&&o.add(e),a.has(e)||a.add(e),e},cancel:e=>{n.delete(e),o.delete(e)},process:e=>{if(a=e,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),t,l=0,r.clear(),i=!1,s&&(s=!1,c.process(e))}};return c}(s,t?r:void 0),e),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:f,postRender:p}=o,m=()=>{let s=eR.useManualTiming?i.timestamp:performance.now();r=!1,eR.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(m))};return{schedule:eB.reduce((t,s)=>{let a=o[s];return t[s]=(t,s=!1,o=!1)=>(!r&&(r=!0,n=!0,i.isProcessing||e(m)),a.schedule(t,s,o)),t},{}),cancel:e=>{for(let t=0;t<eB.length;t++)o[eB[t]].cancel(e)},state:i,steps:o}}let{schedule:eV,cancel:eL,state:eU,steps:eK}=eI("u">typeof requestAnimationFrame?requestAnimationFrame:eO,!0),ez=new Set,eq=!1,e$=!1,eW=!1;function eY(){if(e$){let e=Array.from(ez).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t,n=(t=[],eD.forEach(r=>{let n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(+!!r.startsWith("scale")))}),t);n.length&&(r.set(e,n),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{e.getValue(t)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}e$=!1,eq=!1,ez.forEach(e=>e.complete(eW)),ez.clear()}function eQ(){ez.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(e$=!0)})}class eG{constructor(e,t,r,n,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=n,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(ez.add(this),eq||(eq=!0,eV.read(eQ),eV.resolveKeyframes(eY))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:n}=this;if(null===e[0]){let i=n?.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(r&&t){let n=r.readValue(t,s);null!=n&&(e[0]=n)}void 0===e[0]&&(e[0]=s),n&&void 0===i&&n.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ez.delete(this)}cancel(){"scheduled"===this.state&&(ez.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function eH(e,t){let r=et(e);return r!==X&&(r=Y),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let eX=new Set(["auto","none","0"]);class eZ extends eG{constructor(e,t,r,n,i){super(e,t,r,n,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let n=e[r];if("string"==typeof n&&eg(n=n.trim())){let i=function e(t,r,n=1){ef(n<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[i,s]=function(e){let t=eb.exec(e);if(!t)return[,];let[,r,n,i]=t;return[`--${r??n}`,i]}(t);if(!i)return;let o=window.getComputedStyle(r).getPropertyValue(i);if(o){let e=o.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return eg(s)?e(s,r,n+1):s}(n,t.current);void 0!==i&&(e[r]=i),r===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!ea.has(r)||2!==e.length)return;let[n,i]=e,s=ec(n),o=ec(i);if(ex(n)!==ex(i)&&eM[r]){this.needsMeasurement=!0;return}if(s!==o)if(e_(s)&&e_(o))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else eM[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&r.push(t);r.length&&function(e,t,r){let n,i=0;for(;i<e.length&&!n;){let t=e[i];"string"==typeof t&&!eX.has(t)&&z(t).values.length&&(n=e[i]),i++}if(n&&r)for(let i of t)e[i]=eH(r,n)}(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eM[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let n=t[t.length-1];void 0!==n&&e.getValue(r,n).jump(n,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let n=e.getValue(t);n&&n.jump(this.measuredOrigin,!1);let i=r.length-1,s=r[i];r[i]=eM[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,r])=>{e.getValue(t).set(r)}),this.resolveNoneKeyframes()}}function eJ(e,t){-1===e.indexOf(t)&&e.push(t)}function e0(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class e1{constructor(){this.subscriptions=[]}add(e){return eJ(this.subscriptions,e),()=>e0(this.subscriptions,e)}notify(e,t,r){let n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let i=0;i<n;i++){let n=this.subscriptions[i];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let{schedule:e5}=eI(queueMicrotask,!1);function e2(){t=void 0}let e6={now:()=>(void 0===t&&e6.set(eU.isProcessing||eR.useManualTiming?eU.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(e2)}};class e3{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=e6.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=e6.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new e1);let r=this.events[e].add(t);return"change"===e?()=>{r(),eV.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return i&&i.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=e6.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let r=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),r?1e3/r*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function e8(e,t){return new e3(e,t)}let e4=[...eu,I,Y],e7={current:null},e9={current:!1},te="u">typeof window,tt=new WeakMap;function tr(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function tn(e){return"string"==typeof e||Array.isArray(e)}let ti=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ts=["initial",...ti];function to(e){return tr(e.animate)||ts.some(t=>tn(e[t]))}function ta(e){return!!(to(e)||e.variants)}function tl(e){let t=[{},{}];return e?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function tu(e,t,r,n){if("function"==typeof t){let[i,s]=tl(n);t=t(void 0!==r?r:e.custom,i,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[i,s]=tl(n);t=t(void 0!==r?r:e.custom,i,s)}return t}let tc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],th={};class td{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eG,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=e6.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,eV.render(this.render,!1,!0))};const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=to(t),this.isVariantNode=ta(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in c){const t=c[e];void 0!==a[e]&&eo(t)&&t.set(a[e])}}mount(e){this.current=e,tt.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(e9.current||function(){if(e9.current=!0,te)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>e7.current=e.matches;e.addEventListener("change",t),t()}else e7.current=!1}(),this.shouldReduceMotion=e7.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),eL(this.notifyUpdate),eL(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let r;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=g.has(e);n&&this.onBindTransform&&this.onBindTransform();let i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&eV.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});"u">typeof window&&window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in th){let t=th[e];if(!t)continue;let{isEnabled:r,Feature:n}=t;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):es()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<tc.length;t++){let r=tc[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let n=e["on"+r];n&&(this.propEventSubscriptions[r]=this.on(r,n))}this.prevMotionValues=function(e,t,r){for(let n in t){let i=t[n],s=r[n];if(eo(i))e.addValue(n,i);else if(eo(s))e.addValue(n,e8(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){let t=e.getValue(n);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(n);e.addValue(n,e8(void 0!==t?t:i,{owner:e}))}}for(let n in r)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=e8(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=r){let n,i;if("string"==typeof r&&(n=r,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n)||(i=r,/^0[^.\s]+$/u.test(i))))r=parseFloat(r);else{let n;n=r,!e4.find(el(n))&&Y.test(t)&&(r=eH(e,t))}this.setBaseTarget(e,eo(r)?r.get():r)}return eo(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let n=tu(this.props,r,this.presenceContext?.custom);n&&(t=n[e])}if(r&&void 0!==t)return t;let n=this.getBaseTargetFromProps(this.props,e);return void 0===n||eo(n)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new e1),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){e5.render(this.render)}}class tf extends td{constructor(){super(...arguments),this.KeyframeResolver=eZ}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){let r=e.style;return r?r[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;eo(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function tp(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}let tm=(e,t)=>t&&"number"==typeof e?t.transform(e):e,ty={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tg=y.length;function tv(e,t,r){let{style:n,vars:i,transformOrigin:s}=e,o=!1,a=!1;for(let e in t){let r=t[e];if(g.has(e)){o=!0;continue}if(em(e)){i[e]=r;continue}{let t=tm(r,J[e]);e.startsWith("origin")?(a=!0,s[e]=t):n[e]=t}}if(!t.transform&&(o||r?n.transform=function(e,t,r){let n="",i=!0;for(let s=0;s<tg;s++){let o=y[s],a=e[o];if(void 0===a)continue;let l=!0;if("number"==typeof a)l=a===+!!o.startsWith("scale");else{let e=parseFloat(a);l=o.startsWith("scale")?1===e:0===e}if(!l||r){let e=tm(a,J[o]);if(!l){i=!1;let t=ty[o]||o;n+=`${t}(${e}) `}r&&(t[o]=e)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}(t,e.transform,r):n.transform&&(n.transform="none")),a){let{originX:e="50%",originY:t="50%",originZ:r=0}=s;n.transformOrigin=`${e} ${t} ${r}`}}let tx={offset:"stroke-dashoffset",array:"stroke-dasharray"},tb={offset:"strokeDashoffset",array:"strokeDasharray"},tw=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function tE(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(tv(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:h,style:d}=e;for(let e of(h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete h.transformBox),tw))void 0!==h[e]&&(d[e]=h[e],delete h[e]);void 0!==t&&(h.x=t),void 0!==r&&(h.y=r),void 0!==n&&(h.scale=n),void 0!==i&&function(e,t,r=1,n=0,i=!0){e.pathLength=1;let s=i?tx:tb;e[s.offset]=`${-n}`,e[s.array]=`${t} ${r}`}(h,i,s,o,!1)}let tk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),tj=e=>"string"==typeof e&&"svg"===e.toLowerCase();function tA(e,{style:t,vars:r},n,i){let s,o=e.style;for(s in t)o[s]=t[s];for(s in i?.applyProjectionStyles(o,n),r)o.setProperty(s,r[s])}function tS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let tT={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!D.test(e))return e;else e=parseFloat(e);let r=tS(e,t.target.x),n=tS(e,t.target.y);return`${r}% ${n}%`}},tP=(e,t,r)=>e+(t-e)*r,tC={borderRadius:{...tT,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tT,borderTopRightRadius:tT,borderBottomLeftRadius:tT,borderBottomRightRadius:tT,boxShadow:{correct:(e,{treeScale:t,projectionDelta:r})=>{let n=Y.parse(e);if(n.length>5)return e;let i=Y.createTransformer(e),s=+("number"!=typeof n[0]),o=r.x.scale*t.x,a=r.y.scale*t.y;n[0+s]/=o,n[1+s]/=a;let l=tP(o,a,.5);return"number"==typeof n[2+s]&&(n[2+s]/=l),"number"==typeof n[3+s]&&(n[3+s]/=l),i(n)}}};function tN(e,{layout:t,layoutId:r}){return g.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!tC[e]||"opacity"===e)}function t_(e,t,r){let n=e.style,i=t?.style,s={};if(!n)return s;for(let t in n)(eo(n[t])||i&&eo(i[t])||tN(t,e)||r?.getValue(t)?.liveStyle!==void 0)&&(s[t]=n[t]);return s}function tF(e,t,r){let n=t_(e,t,r);for(let r in e)(eo(e[r])||eo(t[r]))&&(n[-1!==y.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return n}class tD extends tf{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=es}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(g.has(t)){let e=et(t);return e&&e.default||0}return t=tk.has(t)?t:tp(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return tF(e,t,r)}build(e,t,r){tE(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,n){for(let r in tA(e,t,void 0,n),t.attrs)e.setAttribute(tk.has(r)?r:tp(r),t.attrs[r])}mount(e){this.isSVGTag=tj(e.tagName),super.mount(e)}}function tM({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function tO(e){return void 0===e||1===e}function tR({scale:e,scaleX:t,scaleY:r}){return!tO(e)||!tO(t)||!tO(r)}function tB(e){return tR(e)||tI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tI(e){var t,r;return(t=e.x)&&"0%"!==t||(r=e.y)&&"0%"!==r}function tV(e,t,r,n,i){return void 0!==i&&(e=n+i*(e-n)),n+r*(e-n)+t}function tL(e,t=0,r=1,n,i){e.min=tV(e.min,t,r,n,i),e.max=tV(e.max,t,r,n,i)}function tU(e,{x:t,y:r}){tL(e.x,t.translate,t.scale,t.originPoint),tL(e.y,r.translate,r.scale,r.originPoint)}function tK(e,t){e.min=e.min+t,e.max=e.max+t}function tz(e,t,r,n,i=.5){let s=tP(e.min,e.max,i);tL(e,t,r,s,n)}function tq(e,t){tz(e.x,t.x,t.scaleX,t.scale,t.originX),tz(e.y,t.y,t.scaleY,t.scale,t.originY)}function t$(e,t){return tM(function(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}class tW extends tf{constructor(){super(...arguments),this.type="html",this.renderInstance=tA}readValueFromInstance(e,t){if(g.has(t))return this.projection?.isProjecting?eP(t):((e,t)=>{let{transform:r="none"}=getComputedStyle(e);return eC(r,t)})(e,t);{let r=window.getComputedStyle(e),n=(em(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof n?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:t}){return t$(e,t)}build(e,t,r){tv(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return t_(e,t,r)}}let tY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tQ(e){if("string"!=typeof e||e.includes("-"));else if(tY.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let tG=(0,a.createContext)({}),tH=(0,a.createContext)({strict:!1}),tX=(0,a.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),tZ=(0,a.createContext)({});function tJ(e){return Array.isArray(e)?e.join(" "):e}let t0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function t1(e,t,r){for(let n in t)eo(t[n])||tN(n,r)||(e[n]=t[n])}let t5=()=>({...t0(),attrs:{}}),t2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function t6(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||t2.has(e)}let t3=e=>!t6(e);try{s=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof s&&(t3=e=>e.startsWith("on")?!t6(e):s(e))}catch{}function t8(e){return eo(e)?e.get():e}let t4=(0,a.createContext)(null),t7=e=>(t,r)=>{let n,i=(0,a.useContext)(tZ),s=(0,a.useContext)(t4),o=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:function(e,t,r,n){let i={},s=n(e,{});for(let e in s)i[e]=t8(s[e]);let{initial:o,animate:a}=e,l=to(e),u=ta(e);t&&u&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let c=!!r&&!1===r.initial,h=(c=c||!1===o)?a:o;if(h&&"boolean"!=typeof h&&!tr(h)){let t=Array.isArray(h)?h:[h];for(let r=0;r<t.length;r++){let n=tu(e,t[r]);if(n){let{transitionEnd:e,transition:t,...r}=n;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=c?t.length-1:0;t=t[e]}null!==t&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}(r,n,i,e),renderState:t()}})(e,t,i,s);return r?o():(null===(n=(0,a.useRef)(null)).current&&(n.current=o()),n.current)},t9=t7({scrapeMotionValuesFromProps:t_,createRenderState:t0}),re=t7({scrapeMotionValuesFromProps:tF,createRenderState:t5}),rt="u">typeof window,rr={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rn=!1;function ri(){return!function(){if(rn)return;let e={};for(let t in rr)e[t]={isEnabled:e=>rr[t].some(t=>!!e[t])};th=e,rn=!0}(),th}let rs=Symbol.for("motionComponentSymbol"),ro="data-"+tp("framerAppearId"),ra=(0,a.createContext)({});function rl(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let ru=rt?a.useLayoutEffect:a.useEffect;function rc(e,{forwardMotionProps:t=!1,type:r}={},n,i){n&&function(e){let t=ri();for(let r in e)t[r]={...t[r],...e[r]};th=t}(n);let s=r?"svg"===r:tQ(e),l=s?re:t9;function u(r,n){var u;let c,h,d,f={...(0,a.useContext)(tX),...r,layoutId:function({layoutId:e}){let t=(0,a.useContext)(tG).id;return t&&void 0!==e?t+"-"+e:e}(r)},{isStatic:p}=f,m=function(e){let{initial:t,animate:r}=function(e,t){if(to(e)){let{initial:t,animate:r}=e;return{initial:!1===t||tn(t)?t:void 0,animate:tn(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)(tZ));return(0,a.useMemo)(()=>({initial:t,animate:r}),[tJ(t),tJ(r)])}(r),y=l(r,p);if(!p&&rt){(0,a.useContext)(tH).strict;let t=function(e){let{drag:t,layout:r}=ri();if(!t&&!r)return{};let n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(f);c=t.MeasureLayout,m.visualElement=function(e,t,r,n,i,s){let{visualElement:o}=(0,a.useContext)(tZ),l=(0,a.useContext)(tH),u=(0,a.useContext)(t4),c=(0,a.useContext)(tX).reducedMotion,h=(0,a.useRef)(null);n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:c,isSVG:s}));let d=h.current,f=(0,a.useContext)(ra);d&&!d.projection&&i&&("html"===d.type||"svg"===d.type)&&function(e,t,r,n){let{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&rl(a),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:l,layoutRoot:u})}(h.current,r,i,f);let p=(0,a.useRef)(!1);(0,a.useInsertionEffect)(()=>{d&&p.current&&d.update(r,u)});let m=r[ro],y=(0,a.useRef)(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return ru(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),(0,a.useEffect)(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1),d.enteringChildren=void 0)}),d}(e,y,f,i,t.ProjectionNode,s)}return(0,o.jsxs)(tZ.Provider,{value:m,children:[c&&m.visualElement?(0,o.jsx)(c,{visualElement:m.visualElement,...f}):null,function(e,t,r,{latestValues:n},i,s=!1,o){let l=(o??tQ(e)?function(e,t,r,n){let i=(0,a.useMemo)(()=>{let r=t5();return tE(r,t,tj(n),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};t1(t,e.style,e),i.style={...t,...i.style}}return i}:function(e,t){let r,n,i={},s=(r=e.style||{},t1(n={},r,e),Object.assign(n,function({transformTemplate:e},t){return(0,a.useMemo)(()=>{let r=t0();return tv(r,t,e),Object.assign({},r.vars,r.style)},[t])}(e,t)),n);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=s,i})(t,n,i,e),u=function(e,t,r){let n={};for(let i in e)("values"!==i||"object"!=typeof e.values)&&(t3(i)||!0===r&&t6(i)||!t&&!t6(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}(t,"string"==typeof e,s),c=e!==a.Fragment?{...u,...l,ref:r}:{},{children:h}=t,d=(0,a.useMemo)(()=>eo(h)?h.get():h,[h]);return(0,a.createElement)(e,{...c,children:d})}(e,r,(u=m.visualElement,h=(0,a.useRef)(n),(0,a.useInsertionEffect)(()=>{h.current=n}),d=(0,a.useRef)(null),(0,a.useCallback)(e=>{e&&y.onMount?.(e),u&&(e?u.mount(e):u.unmount());let t=h.current;if("function"==typeof t)if(e){let r=t(e);"function"==typeof r&&(d.current=r)}else d.current?(d.current(),d.current=null):t(e);else t&&(t.current=e)},[u])),y,p,t,s)]})}u.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let c=(0,a.forwardRef)(u);return c[rs]=e,c}class rh{constructor(e){this.isMounted=!1,this.node=e}update(){}}function rd(e,t,r){let n=e.getProps();return tu(n,t,void 0!==r?r:n.custom,e)}function rf(e,t){return e?.[t]??e?.default??e}let rp=e=>Array.isArray(e);function rm(e,t){let r=e.getValue("willChange");if(eo(r)&&r.add)return r.add(t);if(!r&&eR.WillChange){let r=new eR.WillChange("auto");e.addValue("willChange",r),r.add(t)}}let ry=e=>1e3*e,rg=(e,t)=>r=>t(e(r)),rv=(...e)=>e.reduce(rg),rx={layout:0,mainThread:0,waapi:0};function rb(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function rw(e,t){return r=>r>0?t:e}let rE=(e,t,r)=>{let n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},rk=[C,P,B];function rj(e){let t=rk.find(t=>t.test(e));if(ed(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===B&&(r=function({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,r/=100;let i=0,s=0,o=0;if(t/=100){let n=r<.5?r*(1+t):r+t-r*t,a=2*r-n;i=rb(a,n,e+1/3),s=rb(a,n,e),o=rb(a,n,e-1/3)}else i=s=o=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:n}}(r)),r}let rA=(e,t)=>{let r=rj(e),n=rj(t);if(!r||!n)return rw(e,t);let i={...r};return e=>(i.red=rE(r.red,n.red,e),i.green=rE(r.green,n.green,e),i.blue=rE(r.blue,n.blue,e),i.alpha=tP(r.alpha,n.alpha,e),P.transform(i))},rS=new Set(["none","hidden"]);function rT(e,t){return r=>tP(e,t,r)}function rP(e){return"number"==typeof e?rT:"string"==typeof e?eg(e)?rw:I.test(e)?rA:r_:Array.isArray(e)?rC:"object"==typeof e?I.test(e)?rA:rN:rw}function rC(e,t){let r=[...e],n=r.length,i=e.map((e,r)=>rP(e)(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=i[t](e);return r}}function rN(e,t){let r={...e,...t},n={};for(let i in r)void 0!==e[i]&&void 0!==t[i]&&(n[i]=rP(e[i])(e[i],t[i]));return e=>{for(let t in n)r[t]=n[t](e);return r}}let r_=(e,t)=>{let r=Y.createTransformer(t),n=z(e),i=z(t);if(!(n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length))return ed(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),rw(e,t);if(rS.has(e)&&!i.values.length||rS.has(t)&&!n.values.length)return rS.has(e)?r=>r<=0?e:t:r=>r>=1?t:e;return rv(rC(function(e,t){let r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let s=t.types[i],o=e.indexes[s][n[s]],a=e.values[o]??0;r[i]=a,n[s]++}return r}(n,i),i.values),r)};function rF(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?tP(e,t,r):rP(e)(e,t)}let rD=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>eV.update(t,e),stop:()=>eL(t),now:()=>eU.isProcessing?eU.timestamp:e6.now()}},rM=(e,t,r=10)=>{let n="",i=Math.max(Math.round(t/r),2);for(let t=0;t<i;t++)n+=Math.round(1e4*e(t/(i-1)))/1e4+", ";return`linear(${n.substring(0,n.length-2)})`};function rO(e){let t=0,r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}function rR(e,t,r){var n,i;let s=Math.max(t-5,0);return n=r-e(s),(i=t-s)?1e3/i*n:0}let rB=.01,rI=2,rV=.005,rL=.5;function rU(e,t){return e*Math.sqrt(1-t*t)}let rK=["duration","bounce"],rz=["stiffness","damping","mass"];function rq(e,t){return t.some(t=>void 0!==e[t])}function r$(e=.3,t=.3){let r,n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:i,restDelta:s}=n,o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:c,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!rq(e,rz)&&rq(e,rK))if(e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),n=r*r,i=2*v(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:1,stiffness:n,damping:i}}else{let r=function({duration:e=800,bounce:t=.3,velocity:r=0,mass:n=1}){let i,s;ed(e<=ry(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=v(.05,1,o),e=v(.01,10,e/1e3),o<1?(i=t=>{let n=t*o,i=n*e;return .001-(n-r)/rU(t,o)*Math.exp(-i)},s=t=>{let n=t*o*e,s=Math.pow(o,2)*Math.pow(t,2)*e,a=Math.exp(-n),l=rU(Math.pow(t,2),o);return(n*r+r-s)*a*(-i(t)+.001>0?-1:1)/l}):(i=t=>-.001+Math.exp(-t*e)*((t-r)*e+1),s=t=>e*e*(r-t)*Math.exp(-t*e));let a=function(e,t,r){let n=r;for(let r=1;r<12;r++)n-=e(n)/t(n);return n}(i,s,5/e);if(e=ry(e),isNaN(a))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(a,2)*n;return{stiffness:t,damping:2*o*Math.sqrt(n*t),duration:e}}}(e);(t={...t,...r,mass:1}).isResolvedFromDuration=!0}return t}({...n,velocity:-((n.velocity||0)/1e3)}),m=f||0,y=c/(2*Math.sqrt(u*h)),g=a-o,x=Math.sqrt(u/h)/1e3,b=5>Math.abs(g);if(i||(i=b?rB:rI),s||(s=b?rV:rL),y<1){let e=rU(x,y);r=t=>a-Math.exp(-y*x*t)*((m+y*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(1===y)r=e=>a-Math.exp(-x*e)*(g+(m+x*g)*e);else{let e=x*Math.sqrt(y*y-1);r=t=>{let r=Math.exp(-y*x*t),n=Math.min(e*t,300);return a-r*((m+y*x*g)*Math.sinh(n)+e*g*Math.cosh(n))/e}}let w={calculatedDuration:p&&d||null,next:e=>{let t=r(e);if(p)l.done=e>=d;else{let n=0===e?m:0;y<1&&(n=0===e?ry(m):rR(r,e,t));let o=Math.abs(a-t)<=s;l.done=Math.abs(n)<=i&&o}return l.value=l.done?a:t,l},toString:()=>{let e=Math.min(rO(w),2e4),t=rM(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function rW({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){let h,d,f=e[0],p={done:!1,value:f},m=r*t,y=f+m,g=void 0===o?y:o(y);g!==y&&(m=g-f);let v=e=>-m*Math.exp(-e/n),x=e=>g+v(e),b=e=>{let t=v(e),r=x(e);p.done=Math.abs(t)<=u,p.value=p.done?g:r},w=e=>{let t;if(t=p.value,void 0!==a&&t<a||void 0!==l&&t>l){var r;h=e,d=r$({keyframes:[p.value,(r=p.value,void 0===a?l:void 0===l||Math.abs(a-r)<Math.abs(l-r)?a:l)],velocity:rR(x,e,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c})}};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==h||(t=!0,b(e),w(e)),void 0!==h&&e>=h)?d.next(e-h):(t||b(e),p)}}}r$.applyToOptions=e=>{let t=function(e,t=100,r){let n=r({...e,keyframes:[0,t]}),i=Math.min(rO(n),2e4);return{type:"keyframes",ease:e=>n.next(i*e).value/t,duration:i/1e3}}(e,100,r$);return e.ease=t.ease,e.duration=ry(t.duration),e.type="keyframes",e};let rY=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function rQ(e,t,r,n){return e===t&&r===n?eO:i=>0===i||1===i?i:rY(function(e,t,r,n,i){let s,o,a=0;do(s=rY(o=t+(r-t)/2,n,i)-e)>0?r=o:t=o;while(Math.abs(s)>1e-7&&++a<12)return o}(i,0,1,e,r),t,n)}let rG=rQ(.42,0,1,1),rH=rQ(0,0,.58,1),rX=rQ(.42,0,.58,1),rZ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rJ=e=>t=>1-e(1-t),r0=rQ(.33,1.53,.69,.99),r1=rJ(r0),r5=rZ(r1),r2=e=>(e*=2)<1?.5*r1(e):.5*(2-Math.pow(2,-10*(e-1))),r6=e=>1-Math.sin(Math.acos(e)),r3=rJ(r6),r8=rZ(r6),r4=e=>Array.isArray(e)&&"number"==typeof e[0],r7={linear:eO,easeIn:rG,easeInOut:rX,easeOut:rH,circIn:r6,circInOut:r8,circOut:r3,backIn:r1,backInOut:r5,backOut:r0,anticipate:r2},r9=e=>{if(r4(e)){ef(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,r,n,i]=e;return rQ(t,r,n,i)}return"string"==typeof e?(ef(void 0!==r7[e],`Invalid easing type '${e}'`,"invalid-easing-type"),r7[e]):e},ne=(e,t,r)=>{let n=t-e;return 0===n?1:(r-e)/n};function nt({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){var i;let s,o=Array.isArray(n)&&"number"!=typeof n[0]?n.map(r9):r9(n),a={done:!1,value:t[0]},l=function(e,t,{clamp:r=!0,ease:n,mixer:i}={}){let s=e.length;if(ef(s===t.length,"Both input and output ranges must be the same length","range-length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=function(e,t,r){let n=[],i=r||eR.mix||rF,s=e.length-1;for(let r=0;r<s;r++){let s=i(e[r],e[r+1]);t&&(s=rv(Array.isArray(t)?t[r]||eO:t,s)),n.push(s)}return n}(t,n,i),l=a.length,u=r=>{if(o&&r<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(r<e[n+1]);n++);let i=ne(e[n],e[n+1],r);return a[n](i)};return r?t=>u(v(e[0],e[s-1],t)):u}((i=r&&r.length===t.length?r:(!function(e,t){let r=e[e.length-1];for(let n=1;n<=t;n++){let i=ne(0,t,n);e.push(tP(r,1,i))}}(s=[0],t.length-1),s),i.map(t=>t*e)),t,{ease:Array.isArray(o)?o:t.map(()=>o||rX).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(a.value=l(t),a.done=t>=e,a)}}let nr=e=>null!==e;function nn(e,{repeat:t,repeatType:r="loop"},n,i=1){let s=e.filter(nr),o=i<0||t&&"loop"!==r&&t%2==1?0:s.length-1;return o&&void 0!==n?n:s[o]}let ni={decay:rW,inertia:rW,tween:nt,keyframes:nt,spring:r$};function ns(e){"string"==typeof e.type&&(e.type=ni[e.type])}class no{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let na=e=>e/100;class nl extends no{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==e6.now()&&this.tick(e6.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},rx.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;ns(e);let{type:t=nt,repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:s=0}=e,{keyframes:o}=e,a=t||nt;a!==nt&&"number"!=typeof o[0]&&(this.mixKeyframes=rv(na,rF(o[0],o[1])),o=[0,100]);let l=a({...e,keyframes:o});"mirror"===i&&(this.mirroredGenerator=a({...e,keyframes:[...o].reverse(),velocity:-s})),null===l.calculatedDuration&&(l.calculatedDuration=rO(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:r,totalDuration:n,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return r.next(0);let{delay:l=0,keyframes:u,repeat:c,repeatType:h,repeatDelay:d,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let y=this.currentTime-l*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?y<0:y>n;this.currentTime=Math.max(y,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=n);let x=this.currentTime,b=r;if(c){let e=Math.min(this.currentTime,n)/o,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,c+1))%2&&("reverse"===h?(r=1-r,d&&(r-=d/o)):"mirror"===h&&(b=s)),x=v(0,1,r)*o}let w=g?{done:!1,value:u[0]}:b.next(x);i&&(w.value=i(w.value));let{done:E}=w;g||null===a||(E=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);let k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&E);return k&&f!==rW&&(w.value=nn(u,this.options,m,this.speed)),p&&p(w.value),k&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=ry(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(e6.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=rD,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(e6.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,rx.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function nu(e){let t;return()=>(void 0===t&&(t=e()),t)}let nc=nu(()=>void 0!==window.ScrollTimeline),nh={},nd=(r=nu(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>nh.linearEasing??r()),nf=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,np={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nf([0,.65,.55,1]),circOut:nf([.55,0,1,.45]),backIn:nf([.31,.01,.66,-.59]),backOut:nf([.33,1.53,.69,.99])};function nm(e){return"function"==typeof e&&"applyToOptions"in e}class ny extends no{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:r,keyframes:n,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:a}=e;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=e,ef("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return nm(e)&&nd()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u){let c={[t]:r};l&&(c.offset=l);let h=function e(t,r){if(t)return"function"==typeof t?nd()?rM(t,r):"ease-out":r4(t)?nf(t):Array.isArray(t)?t.map(t=>e(t,r)||np.easeOut):np[t]}(a,i);Array.isArray(h)&&(c.easing=h);let d={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"};u&&(d.pseudoElement=u);let f=e.animate(c,d);return f}(t,r,n,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=nn(n,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):r.startsWith("--")?t.style.setProperty(r,e):t.style[r]=e,this.animation.cancel()}a?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ry(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&nc())?(this.animation.timeline=e,eO):t(this)}}let ng={anticipate:r2,backInOut:r5,circInOut:r8};class nv extends ny{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in ng&&(e.ease=ng[e.ease])}(e),ns(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:r,onComplete:n,element:i,...s}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let o=new nl({...s,autoplay:!1}),a=Math.max(10,e6.now()-this.startTime),l=v(0,10,a-10);t.setWithVelocity(o.sample(Math.max(0,a-l)).value,o.sample(a).value,l),o.stop()}}let nx=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(Y.test(e)||"0"===e)&&!e.startsWith("url("));function nb(e){e.duration=0,e.type="keyframes"}let nw=new Set(["opacity","clipPath","filter","transform"]),nE=nu(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class nk extends no{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:a,motionValue:l,element:u,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=e6.now();const h={autoplay:e,delay:t,type:r,repeat:n,repeatDelay:i,repeatType:s,name:a,motionValue:l,element:u,...c},d=u?.KeyframeResolver||eG;this.keyframeResolver=new d(o,(e,t,r)=>this.onKeyframesResolved(e,t,h,!r),a,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,n){this.keyframeResolver=void 0;let{name:i,type:s,velocity:o,delay:a,isHandoff:l,onUpdate:u}=r;this.resolvedAt=e6.now(),!function(e,t,r,n){let i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;let s=e[e.length-1],o=nx(i,t),a=nx(s,t);return ed(o===a,`You are trying to animate ${t} from "${i}" to "${s}". "${o?s:i}" is not an animatable value.`,"value-not-animatable"),!!o&&!!a&&(function(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||nm(r))&&n)}(e,i,s,o)&&((eR.instantAnimations||!a)&&u?.(nn(e,r,t)),e[0]=e[e.length-1],nb(r),r.repeat=0);let c={startTime:n?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},h=!l&&function(e){let{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:a,transformTemplate:l}=t.owner.getProps();return nE()&&r&&nw.has(r)&&("transform"!==r||!l)&&!a&&!n&&"mirror"!==i&&0!==s&&"inertia"!==o}(c),d=c.motionValue?.owner?.current,f=h?new nv({...c,element:d}):new nl(c);f.finished.then(()=>{this.notifyFinished()}).catch(eO),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eW=!0,eQ(),eY(),eW=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let nj={type:"spring",stiffness:500,damping:25,restSpeed:10},nA={type:"keyframes",duration:.8},nS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nT=e=>null!==e,nP=(e,t,r,n={},i,s)=>o=>{let a=rf(n,e)||{},l=a.delay||n.delay||0,{elapsed:u=0}=n;u-=ry(l);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};!function({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(a)&&Object.assign(c,((e,{keyframes:t})=>t.length>2?nA:g.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:nj:nS)(e,c)),c.duration&&(c.duration=ry(c.duration)),c.repeatDelay&&(c.repeatDelay=ry(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let h=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(nb(c),0===c.delay&&(h=!0)),(eR.instantAnimations||eR.skipAnimations)&&(h=!0,nb(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!s&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:r="loop"},n){let i=e.filter(nT),s=t&&"loop"!==r&&t%2==1?0:i.length-1;return i[s]}(c.keyframes,a);if(void 0!==e)return void eV.update(()=>{c.onUpdate(e),c.onComplete()})}return a.isSync?new nl(c):new nk(c)};function nC(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;n&&(s=n);let l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(let t in a){let n=e.getValue(t,e.latestValues[t]??null),i=a[t];if(void 0===i||u&&function({protectedKeys:e,needsAnimating:t},r){let n=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,n}(u,t))continue;let o={delay:r,...rf(s||{},t)},c=n.get();if(void 0!==c&&!n.isAnimating&&!Array.isArray(i)&&i===c&&!o.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){let r=e.props[ro];if(r){let e=window.MotionHandoffAnimation(r,t,eV);null!==e&&(o.startTime=e,h=!0)}}rm(e,t),n.start(nP(t,n,i,e.shouldReduceMotion&&ea.has(t)?{type:!1}:o,e,h));let d=n.animation;d&&l.push(d)}return o&&Promise.all(l).then(()=>{eV.update(()=>{o&&function(e,t){let{transitionEnd:r={},transition:n={},...i}=rd(e,t)||{};for(let t in i={...i,...r}){var s;let r=rp(s=i[t])?s[s.length-1]||0:s;e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,e8(r))}}(e,o)})}),l}function nN(e,t,r,n=0,i=1){let s=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,a=(o-1)*n;return"function"==typeof r?r(s,o):1===i?s*n:a-s*n}function n_(e,t,r={}){let n=rd(e,t,"exit"===r.type?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);let s=n?()=>Promise.all(nC(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(n=0)=>{let{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t,r=0,n=0,i=0,s=1,o){let a=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),a.push(n_(l,t,{...o,delay:r+("function"==typeof n?0:n)+nN(e.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}(e,t,n,s,o,a,r)}:()=>Promise.resolve(),{when:a}=i;if(!a)return Promise.all([s(),o(r.delay)]);{let[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then(()=>t())}}let nF=ts.length;function nD(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}let nM=[...ti].reverse(),nO=ti.length;function nR(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nB(){return{animate:nR(!0),whileInView:nR(),whileHover:nR(),whileTap:nR(),whileDrag:nR(),whileFocus:nR(),exit:nR()}}let nI=0;function nV(e){return[e("x"),e("y")]}let nL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nU(e){return nL.has(e.tagName)||!0===e.isContentEditable}function nK(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}let nz={x:!1,y:!1};function nq(e){return e.max-e.min}function n$(e,t,r,n=.5){e.origin=n,e.originPoint=tP(t.min,t.max,e.origin),e.scale=nq(r)/nq(t),e.translate=tP(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function nW(e,t,r,n){n$(e.x,t.x,r.x,n?n.originX:void 0),n$(e.y,t.y,r.y,n?n.originY:void 0)}function nY(e,t,r){e.min=r.min+t.min,e.max=e.min+nq(t)}function nQ(e,t,r){e.min=t.min-r.min,e.max=e.min+nq(t)}function nG(e,t,r){nQ(e.x,t.x,r.x),nQ(e.y,t.y,r.y)}let nH=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function nX(e){return{point:{x:e.pageX,y:e.pageY}}}function nZ(e,t,r,n){return nK(e,t,e=>nH(e)&&r(e,nX(e)),n)}let nJ=({current:e})=>e?e.ownerDocument.defaultView:null,n0=(e,t)=>Math.abs(e-t),n1=new Set(["auto","scroll"]);class n5{constructor(e,t,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let r=n3(this.lastMoveEventInfo,this.history),n=null!==this.startEvent,i=(e=r.offset,t={x:0,y:0},Math.sqrt(n0(e.x,t.x)**2+n0(e.y,t.y)**2)>=this.distanceThreshold);if(!n&&!i)return;let{point:s}=r,{timestamp:o}=eU;this.history.push({...s,timestamp:o});let{onStart:a,onMove:l}=this.handlers;n||(a&&a(this.lastMoveEvent,r),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,r)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=n2(t,this.transformPagePoint),eV.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:n,resumeAnimation:i}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=n3("pointercancel"===e.type?this.lastMoveEventInfo:n2(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,s),n&&n(e,s)},!nH(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=n||window;const a=n2(nX(e),this.transformPagePoint),{point:l}=a,{timestamp:u}=eU;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=t;c&&c(e,n3(a,this.history)),this.removeListeners=rv(nZ(this.contextWindow,"pointermove",this.handlePointerMove),nZ(this.contextWindow,"pointerup",this.handlePointerUp),nZ(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(n1.has(e.overflowX)||n1.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let r=e===window,n=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:n.x-t.x,y:n.y-t.y};(0!==i.x||0!==i.y)&&(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,n),eV.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),eL(this.updatePoint)}}function n2(e,t){return t?{point:t(e.point)}:e}function n6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function n3({point:e},t){return{point:e,delta:n6(e,n8(t)),offset:n6(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null,i=n8(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>ry(.1)));)r--;if(!n)return{x:0,y:0};let s=(i.timestamp-n.timestamp)/1e3;if(0===s)return{x:0,y:0};let o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}(t,.1)}}function n8(e){return e[e.length-1]}function n4(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function n7(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function n9(e,t,r){return{min:ie(e,t),max:ie(e,r)}}function ie(e,t){return"number"==typeof e?e:e[t]||0}let it=new WeakMap;class ir{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=es(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){let{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;let i=e=>{t?(this.stopAnimation(),this.snapToCursor(nX(e).point)):this.pauseAnimation()},s=(e,t)=>{this.stopAnimation();let{drag:r,dragPropagation:n,onDragStart:i}=this.getProps();if(r&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(nz[e])return null;else return nz[e]=!0,()=>{nz[e]=!1};return nz.x||nz.y?null:(nz.x=nz.y=!0,()=>{nz.x=nz.y=!1})}(r),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nV(e=>{let t=this.getAxisMotionValue(e).get()||0;if(F.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let n=r.layout.layoutBox[e];n&&(t=nq(n)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&eV.postRender(()=>i(e,t)),rm(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:r,dragDirectionLock:n,onDirectionLock:i,onDrag:s}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:o}=t;if(n&&null===this.currentDirection){this.currentDirection=function(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}(o),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},a=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>nV(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new n5(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:nJ(this.visualElement),element:this.visualElement.current})}stop(e,t){let r=e||this.latestPointerEvent,n=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!r)return;let{velocity:s}=n;this.startAnimation(s);let{onDragEnd:o}=this.getProps();o&&eV.postRender(()=>o(r,n))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,r){let{drag:n}=this.getProps();if(!r||!ii(e,n,this.currentDirection))return;let i=this.getAxisMotionValue(e),s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:r},n){return void 0!==t&&e<t?e=n?tP(t,e,n.min):Math.max(e,t):void 0!==r&&e>r&&(e=n?tP(r,e,n.max):Math.min(e,r)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;e&&rl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(e,{top:t,left:r,bottom:n,right:i}){return{x:n4(e.x,r,i),y:n4(e.y,t,n)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:n9(e,"left","right"),y:n9(e,"top","bottom")}}(t),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nV(e=>{var t,n;let i;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=r.layoutBox[e],n=this.constraints[e],i={},void 0!==n.min&&(i.min=n.min-t.min),void 0!==n.max&&(i.max=n.max-t.min),i))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!rl(t))return!1;let n=t.current;ef(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let s=function(e,t,r){let n=t$(e,r),{scroll:i}=t;return i&&(tK(n.x,i.offset.x),tK(n.y,i.offset.y)),n}(n,i.root,this.visualElement.getTransformPagePoint()),o=(e=i.layout.layoutBox,{x:n7(e.x,s.x),y:n7(e.y,s.y)});if(r){let e=r(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=tM(e))}return o}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{};return Promise.all(nV(o=>{if(!ii(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:r?e[o]:0,bounceStiffness:n?200:1e6,bounceDamping:n?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,u)})).then(o)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return rm(this.visualElement,e),r.start(nP(e,r,0,t,this.visualElement,!1))}stopAnimation(){nV(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nV(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nV(t=>{let{drag:r}=this.getProps();if(!ii(t,r,this.currentDirection))return;let{projection:n}=this.visualElement,i=this.getAxisMotionValue(t);if(n&&n.layout){let{min:r,max:s}=n.layout.layoutBox[t],o=i.get()||0;i.set(e[t]-tP(r,s,.5)+o)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!rl(t)||!r||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};nV(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var r,i;let s,o,a,l=t.get();n[e]=(r={min:l,max:l},i=this.constraints[e],s=.5,o=nq(r),(a=nq(i))>o?s=ne(i.min,i.max-o,r.min):o>a&&(s=ne(r.min,r.max-a,i.min)),v(0,1,s))}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nV(t=>{if(!ii(t,e,null))return;let r=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];r.set(tP(i,s,n[t]))})}addListeners(){if(!this.visualElement.current)return;it.set(this.visualElement,this);let e=this.visualElement.current,t=nZ(e,"pointerdown",t=>{let{drag:r,dragListener:n=!0}=this.getProps(),i=t.target,s=i!==e&&nU(i);r&&n&&!s&&this.start(t)}),r=()=>{let{dragConstraints:e}=this.getProps();rl(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),eV.read(r);let s=nK(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(nV(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{s(),t(),i(),o&&o()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:s=.35,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function ii(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}let is=e=>(t,r)=>{e&&eV.postRender(()=>e(t,r))},io={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var ia=a;let il=!1;class iu extends ia.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),r&&r.register&&n&&r.register(i),il&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),io.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:n,isPresent:i}=this.props,{projection:s}=r;return s&&(s.isPresent=i,il=!0,n||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||eV.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),e5.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;il=!0,n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ic(e){let[t,r]=function(e=!0){let t=(0,a.useContext)(t4);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:n,register:i}=t,s=(0,a.useId)();(0,a.useEffect)(()=>{if(e)return i(s)},[e]);let o=(0,a.useCallback)(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}(),n=(0,ia.useContext)(tG);return(0,o.jsx)(iu,{...e,layoutGroup:n,switchLayoutGroup:(0,ia.useContext)(ra),isPresent:t,safeToRemove:r})}function ih(e,t,r,n,i){return e-=t,e=n+1/r*(e-n),void 0!==i&&(e=n+1/i*(e-n)),e}function id(e,t,[r,n,i],s,o){!function(e,t=0,r=1,n=.5,i,s=e,o=e){if(F.test(t)&&(t=parseFloat(t),t=tP(o.min,o.max,t/100)-o.min),"number"!=typeof t)return;let a=tP(s.min,s.max,n);e===s&&(a-=t),e.min=ih(e.min,t,r,a,i),e.max=ih(e.max,t,r,a,i)}(e,t[r],t[n],t[i],t.scale,s,o)}let ip=["x","scaleX","originX"],im=["y","scaleY","originY"];function iy(e,t,r,n){id(e.x,t,ip,r?r.x:void 0,n?n.x:void 0),id(e.y,t,im,r?r.y:void 0,n?n.y:void 0)}function ig(e,t){e.min=t.min,e.max=t.max}function iv(e,t){ig(e.x,t.x),ig(e.y,t.y)}function ix(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ib(e){return 0===e.translate&&1===e.scale}function iw(e){return ib(e.x)&&ib(e.y)}function iE(e,t){return e.min===t.min&&e.max===t.max}function ik(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ij(e,t){return ik(e.x,t.x)&&ik(e.y,t.y)}function iA(e){return nq(e.x)/nq(e.y)}function iS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}let iT=["TopLeft","TopRight","BottomLeft","BottomRight"],iP=iT.length,iC=e=>"string"==typeof e?parseFloat(e):e,iN=e=>"number"==typeof e||D.test(e);function i_(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let iF=iM(0,.5,r3),iD=iM(.5,.95,eO);function iM(e,t,r){return n=>n<e?0:n>t?1:r(ne(e,t,n))}function iO(e){return"object"==typeof e&&null!==e}function iR(e){return iO(e)&&"ownerSVGElement"in e}let iB=(e,t)=>e.depth-t.depth;class iI{constructor(){this.children=[],this.isDirty=!1}add(e){eJ(this.children,e),this.isDirty=!0}remove(e){e0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iB),this.isDirty=!1,this.children.forEach(e)}}class iV{constructor(){this.members=[]}add(e){eJ(this.members,e),e.scheduleRender()}remove(e){if(e0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let iL=["","X","Y","Z"],iU=0;function iK(e,t,r,n){let{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function iz({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(e={},r=t?.()){this.id=iU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iW),this.nodes.forEach(iJ),this.nodes.forEach(i0),this.nodes.forEach(iY)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new iI)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new e1),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=iR(t)&&!(iR(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:r,layout:n,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(n||r)&&(this.isLayoutDirty=!0),e){let r,n=0,i=()=>this.root.updateBlockedByResize=!1;eV.read(()=>{n=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==n){let t,s;n=e,this.root.updateBlockedByResize=!0,r&&r(),t=e6.now(),s=({timestamp:e})=>{let r=e-t;r>=250&&(eL(s),i(r-250))},eV.setup(s,!0),r=()=>eL(s),io.hasAnimatedSinceResize&&(io.hasAnimatedSinceResize=!1,this.nodes.forEach(iZ))}})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||n)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:r,layout:n})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let s=this.options.transition||i.getDefaultTransition()||i8,{onLayoutAnimationStart:o,onLayoutAnimationComplete:a}=i.getProps(),l=!this.targetLayout||!ij(this.targetLayout,n),u=!t&&r;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...rf(s,"layout"),onPlay:o,onComplete:a};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,u)}else t||iZ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),eL(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(i1),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:r}=t.options;if(!r)return;let n=r.props[ro];if(window.MotionHasOptimisedAnimation(n,"transform")){let{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",eV,!(e||r))}let{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&e(i)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iG);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(iH);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iX),this.nodes.forEach(iq),this.nodes.forEach(i$)):this.nodes.forEach(iH),this.clearAllSnapshots();let e=e6.now();eU.delta=v(0,1e3/60,e-eU.timestamp),eU.timestamp=e,eU.isProcessing=!0,eK.update.process(eU),eK.preRender.process(eU),eK.render.process(eU),eU.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iQ),this.sharedNodes.forEach(i5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,eV.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){eV.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||nq(this.snapshot.measuredBox.x)||nq(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=es(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!iw(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,s=n!==this.prevTransformTemplateValue;e&&this.instance&&(t||tB(this.latestValues)||s)&&(i(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let r=this.measurePageBox(),n=this.removeElementScroll(r);return e&&(n=this.removeTransform(n)),i9((t=n).x),i9(t.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return es();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(st))){let{scroll:e}=this.root;e&&(tK(t.x,e.offset.x),tK(t.y,e.offset.y))}return t}removeElementScroll(e){let t=es();if(iv(t,e),this.scroll?.wasRoot)return t;for(let r=0;r<this.path.length;r++){let n=this.path[r],{scroll:i,options:s}=n;n!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&iv(t,e),tK(t.x,i.offset.x),tK(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let r=es();iv(r,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];!t&&n.options.layoutScroll&&n.scroll&&n!==n.root&&tq(r,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),tB(n.latestValues)&&tq(r,n.latestValues)}return tB(this.latestValues)&&tq(r,this.latestValues),r}removeTransform(e){let t=es();iv(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!tB(r.latestValues))continue;tR(r.latestValues)&&r.updateSnapshot();let n=es();iv(n,r.measurePageBox()),iy(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,n)}return tB(this.latestValues)&&iy(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==eU.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let r=!!this.resumingFrom||this!==t;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:n,layoutId:i}=this.options;if(!this.layout||!(n||i))return;this.resolvedRelativeTargetAt=eU.timestamp;let s=this.getClosestProjectingParent();if(s&&this.linkedParentVersion!==s.layoutVersion&&!s.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(s&&s.layout?this.createRelativeTarget(s,this.layout.layoutBox,s.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=es(),this.targetWithTransforms=es()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var o,a,l;this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,nY(o.x,a.x,l.x),nY(o.y,a.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):iv(this.target,this.layout.layoutBox),tU(this.target,this.targetDelta)):iv(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,s&&!!s.resumingFrom==!!this.resumingFrom&&!s.options.layoutScroll&&s.target&&1!==this.animationProgress?this.createRelativeTarget(s,this.target,s.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||tR(this.parent.latestValues)||tI(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,r){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=es(),this.relativeTargetOrigin=es(),nG(this.relativeTargetOrigin,t,r),iv(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(r=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===eU.timestamp&&(r=!1),r)return;let{layout:n,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(n||i))return;iv(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,o=this.treeScale.y;!function(e,t,r,n=!1){let i,s,o=r.length;if(o){t.x=t.y=1;for(let a=0;a<o;a++){s=(i=r[a]).projectionDelta;let{visualElement:o}=i.options;(!o||!o.props.style||"contents"!==o.props.style.display)&&(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tq(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,tU(e,s)),n&&tB(i.latestValues)&&tq(e,i.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=es());let{target:a}=e;if(!a){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(ix(this.prevProjectionDelta.x,this.projectionDelta.x),ix(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),nW(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&iS(this.projectionDelta.x,this.prevProjectionDelta.x)&&iS(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=en(),this.projectionDelta=en(),this.projectionDeltaWithTransform=en()}setAnimationOrigin(e,t=!1){let r,n=this.snapshot,i=n?n.latestValues:{},s={...this.latestValues},o=en();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let a=es(),l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,h=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(i3));this.animationProgress=0,this.mixTargetDelta=t=>{let n=t/1e3;if(i2(o.x,e.x,n),i2(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,d,f,p,m,y;nG(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=a,y=n,i6(f.x,p.x,m.x,y),i6(f.y,p.y,m.y,y),r&&(u=this.relativeTarget,d=r,iE(u.x,d.x)&&iE(u.y,d.y))&&(this.isProjectionDirty=!1),r||(r=es()),iv(r,this.relativeTarget)}l&&(this.animationValues=s,function(e,t,r,n,i,s){i?(e.opacity=tP(0,r.opacity??1,iF(n)),e.opacityExit=tP(t.opacity??1,0,iD(n))):s&&(e.opacity=tP(t.opacity??1,r.opacity??1,n));for(let i=0;i<iP;i++){let s=`border${iT[i]}Radius`,o=i_(t,s),a=i_(r,s);(void 0!==o||void 0!==a)&&(o||(o=0),a||(a=0),0===o||0===a||iN(o)===iN(a)?(e[s]=Math.max(tP(iC(o),iC(a),n),0),(F.test(a)||F.test(o))&&(e[s]+="%")):e[s]=a)}(t.rotate||r.rotate)&&(e.rotate=tP(t.rotate||0,r.rotate||0,n))}(s,i,this.latestValues,n,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(eL(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eV.update(()=>{var t,r,n;let i;io.hasAnimatedSinceResize=!0,rx.layout++,this.motionValue||(this.motionValue=e8(0)),this.currentAnimation=(t=this.motionValue,r=[0,1e3],n={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{rx.layout--},onComplete:()=>{rx.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(i=eo(t)?t:e8(t)).start(nP("",i,r,n)),i.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:n,latestValues:i}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&se(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||es();let t=nq(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let n=nq(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}iv(t,r),tq(t,i),nW(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new iV),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let n={};r.z&&iK("z",e,n,this.animationValues);for(let t=0;t<iL.length;t++)iK(`rotate${iL[t]}`,e,n,this.animationValues),iK(`skew${iL[t]}`,e,n,this.animationValues);for(let t in e.render(),n)e.setStaticValue(t,n[t]),this.animationValues&&(this.animationValues[t]=n[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let r=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=t8(t?.pointerEvents)||"",e.transform=r?r(this.latestValues,""):"none";return}let n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=t8(t?.pointerEvents)||""),this.hasProjected&&!tB(this.latestValues)&&(e.transform=r?r({},""):"none",this.hasProjected=!1);return}e.visibility="";let i=n.animationValues||n.latestValues;this.applyTransformsToTarget();let s=function(e,t,r){let n="",i=e.x.translate/t.x,s=e.y.translate/t.y,o=r?.z||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(1!==t.x||1!==t.y)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:o,skewY:a}=r;e&&(n=`perspective(${e}px) ${n}`),t&&(n+=`rotate(${t}deg) `),i&&(n+=`rotateX(${i}deg) `),s&&(n+=`rotateY(${s}deg) `),o&&(n+=`skewX(${o}deg) `),a&&(n+=`skewY(${a}deg) `)}let a=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==a||1!==l)&&(n+=`scale(${a}, ${l})`),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);r&&(s=r(i,s)),e.transform=s;let{x:o,y:a}=this.projectionDelta;for(let t in e.transformOrigin=`${100*o.origin}% ${100*a.origin}% 0`,n.animationValues?e.opacity=n===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=n===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0,tC){if(void 0===i[t])continue;let{correct:r,applyTo:o,isCSSVariable:a}=tC[t],l="none"===s?i[t]:r(i[t],n);if(o){let t=o.length;for(let r=0;r<t;r++)e[o[r]]=l}else a?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=n===this?t8(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(iG),this.root.sharedNodes.clear()}}}function iq(e){e.updateLayout()}function i$(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:n}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;"size"===i?nV(e=>{let n=s?t.measuredBox[e]:t.layoutBox[e],i=nq(n);n.min=r[e].min,n.max=n.min+i}):se(i,t.layoutBox,r)&&nV(n=>{let i=s?t.measuredBox[n]:t.layoutBox[n],o=nq(r[n]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+o)});let o=en();nW(o,r,t.layoutBox);let a=en();s?nW(a,e.applyTransform(n,!0),t.measuredBox):nW(a,r,t.layoutBox);let l=!iw(o),u=!1;if(!e.resumeFrom){let n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){let{snapshot:i,layout:s}=n;if(i&&s){let o=es();nG(o,t.layoutBox,i.layoutBox);let a=es();nG(a,r,s.layoutBox),ij(o,a)||(u=!0),n.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function iW(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iQ(e){e.clearSnapshot()}function iG(e){e.clearMeasurements()}function iH(e){e.isLayoutDirty=!1}function iX(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function iZ(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iJ(e){e.resolveTargetDelta()}function i0(e){e.calcProjection()}function i1(e){e.resetSkewAndRotation()}function i5(e){e.removeLeadSnapshot()}function i2(e,t,r){e.translate=tP(t.translate,0,r),e.scale=tP(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function i6(e,t,r,n){e.min=tP(t.min,r.min,n),e.max=tP(t.max,r.max,n)}function i3(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let i8={duration:.45,ease:[.4,0,.1,1]},i4=e=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),i7=i4("applewebkit/")&&!i4("chrome/")?Math.round:eO;function i9(e){e.min=i7(e.min),e.max=i7(e.max)}function se(e,t,r){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(iA(t)-iA(r)))}function st(e){return e!==e.root&&e.scroll?.wasRoot}let sr=iz({attachResizeListener:(e,t)=>nK(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),sn={current:void 0},si=iz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sn.current){let e=new sr({});e.mount(window),e.setOptions({layoutScroll:!0}),sn.current=e}return sn.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function ss(e,t){let r=function(e,t,r){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document,r=(void 0)??t.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e).filter(e=>null!=e)}(e),n=new AbortController;return[r,{passive:!0,...t,signal:n.signal},()=>n.abort()]}function so(e){return!("touch"===e.pointerType||nz.x||nz.y)}function sa(e,t,r){let{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===r);let i=n["onHover"+r];i&&eV.postRender(()=>i(t,nX(t)))}let sl=(e,t)=>!!t&&(e===t||sl(e,t.parentElement)),su=new WeakSet;function sc(e){return t=>{"Enter"===t.key&&e(t)}}function sh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function sd(e){return nH(e)&&!(nz.x||nz.y)}function sf(e,t,r){let{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===r);let i=n["onTap"+("End"===r?"":r)];i&&eV.postRender(()=>i(t,nX(t)))}let sp=new WeakMap,sm=new WeakMap,sy=e=>{let t=sp.get(e.target);t&&t(e)},sg=e=>{e.forEach(sy)},sv={some:0,all:1},sx=function(e,t){if("u"<typeof Proxy)return rc;let r=new Map,n=(r,n)=>rc(r,n,e,t);return new Proxy((e,t)=>n(e,t),{get:(i,s)=>"create"===s?n:(r.has(s)||r.set(s,rc(s,void 0,e,t)),r.get(s))})}({animation:{Feature:class extends rh{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:r})=>(function(e,t,r={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t))n=Promise.all(t.map(t=>n_(e,t,r)));else if("string"==typeof t)n=n_(e,t,r);else{let i="function"==typeof t?rd(e,t,r.custom):t;n=Promise.all(nC(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})})(e,t,r))),r=nB(),n=!0,i=t=>(r,n)=>{let i=rd(e,n,"exit"===t?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...n}=i;r={...r,...n,...t}}return r};function s(s){let{props:o}=e,a=function e(t){if(!t)return;if(!t.isControllingVariants){let r=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(r.initial=t.props.initial),r}let r={};for(let e=0;e<nF;e++){let n=ts[e],i=t.props[n];(tn(i)||!1===i)&&(r[n]=i)}return r}(e.parent)||{},l=[],u=new Set,c={},h=1/0;for(let t=0;t<nO;t++){var d,f;let p=nM[t],m=r[p],y=void 0!==o[p]?o[p]:a[p],g=tn(y),v=p===s?m.isActive:null;!1===v&&(h=t);let x=y===a[p]&&y!==o[p]&&g;if(x&&n&&e.manuallyAnimateOnMount&&(x=!1),m.protectedKeys={...c},!m.isActive&&null===v||!y&&!m.prevProp||tr(y)||"boolean"==typeof y)continue;let b=(d=m.prevProp,"string"==typeof(f=y)?f!==d:!!Array.isArray(f)&&!nD(f,d)),w=b||p===s&&m.isActive&&!x&&g||t>h&&g,E=!1,k=Array.isArray(y)?y:[y],j=k.reduce(i(p),{});!1===v&&(j={});let{prevResolvedValues:A={}}=m,S={...A,...j},T=t=>{w=!0,u.has(t)&&(E=!0,u.delete(t)),m.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in S){let t=j[e],r=A[e];if(!c.hasOwnProperty(e))(rp(t)&&rp(r)?nD(t,r):t===r)?void 0!==t&&u.has(e)?T(e):m.protectedKeys[e]=!0:null!=t?T(e):u.add(e)}m.prevProp=y,m.prevResolvedValues=j,m.isActive&&(c={...c,...j}),n&&e.blockInitialAnimation&&(w=!1);let P=x&&b,C=!P||E;w&&C&&l.push(...k.map(t=>{let r={type:p};if("string"==typeof t&&n&&!P&&e.manuallyAnimateOnMount&&e.parent){let{parent:n}=e,i=rd(n,t);if(n.enteringChildren&&i){let{delayChildren:t}=i.transition||{};r.delay=nN(n.enteringChildren,e,t)}}return{animation:t,options:r}}))}if(u.size){let t={};if("boolean"!=typeof o.initial){let r=rd(e,Array.isArray(o.initial)?o.initial[0]:o.initial);r&&r.transition&&(t.transition=r.transition)}u.forEach(r=>{let n=e.getBaseTarget(r),i=e.getValue(r);i&&(i.liveStyle=!0),t[r]=n??null}),l.push({animation:t})}let p=!!l.length;return n&&(!1===o.initial||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,n){if(r[t].isActive===n)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,n)),r[t].isActive=n;let i=s(t);for(let e in r)r[e].protectedKeys={};return i},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=nB()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();tr(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends rh{constructor(){super(...arguments),this.id=nI++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends rh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:r={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=r,a={root:n?n.current:void 0,rootMargin:i,threshold:"number"==typeof s?s:sv[s]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,o&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),i=t?r:n;i&&i(e)};return e=this.node.current,t=function({root:e,...t}){let r=e||document;sm.has(r)||sm.set(r,{});let n=sm.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(sg,{root:e,...t})),n[i]}(a),sp.set(e,l),t.observe(e),()=>{sp.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends rh{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[n,i,s]=ss(e,r),o=e=>{let n=e.currentTarget;if(!sd(e))return;su.add(n);let s=t(n,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),su.has(n)&&su.delete(n),sd(e)&&"function"==typeof s&&s(e,{success:t})},a=e=>{o(e,n===window||n===document||r.useGlobalTarget||sl(n,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return n.forEach(e=>{(r.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),iO(e)&&"offsetHeight"in e&&(e.addEventListener("focus",e=>((e,t)=>{let r=e.currentTarget;if(!r)return;let n=sc(()=>{if(su.has(r))return;sh(r,"down");let e=sc(()=>{sh(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>sh(r,"cancel"),t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)})(e,i)),nU(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}(e,(e,t)=>(sf(this.node,t,"Start"),(e,{success:t})=>sf(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends rh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rv(nK(this.node.current,"focus",()=>this.onFocus()),nK(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends rh{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[n,i,s]=ss(e,r),o=e=>{if(!so(e))return;let{target:r}=e,n=t(r,e);if("function"!=typeof n||!r)return;let s=e=>{so(e)&&(n(e),r.removeEventListener("pointerleave",s))};r.addEventListener("pointerleave",s,i)};return n.forEach(e=>{e.addEventListener("pointerenter",o,i)}),s}(e,(e,t)=>(sa(this.node,t,"Start"),e=>sa(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends rh{constructor(){super(...arguments),this.removePointerDownListener=eO}onPointerDown(e){this.session=new n5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nJ(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:is(e),onStart:is(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&eV.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=nZ(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends rh{constructor(e){super(e),this.removeGroupControls=eO,this.removeListeners=eO,this.controls=new ir(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eO}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}},ProjectionNode:si,MeasureLayout:ic},layout:{ProjectionNode:si,MeasureLayout:ic}},(e,t)=>t.isSVG??tQ(e)?new tD(t):new tW(t,{allowProjection:e!==a.Fragment})),sb=(e,t)=>{if(0===e.length)return t.classGroupId;let r=e[0],n=t.nextPart.get(r),i=n?sb(e.slice(1),n):void 0;if(i)return i;if(0===t.validators.length)return;let s=e.join("-");return t.validators.find(({validator:e})=>e(s))?.classGroupId},sw=/^\[(.+)\]$/,sE=(e,t,r,n)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:sk(t,e)).classGroupId=r;return}"function"==typeof e?sj(e)?sE(e(n),t,r,n):t.validators.push({validator:e,classGroupId:r}):Object.entries(e).forEach(([e,i])=>{sE(i,sk(t,e),r,n)})})},sk=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},sj=e=>e.isThemeGetter,sA=(e,t)=>t?e.map(([e,r])=>[e,r.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,r])=>[t+e,r])):e)]):e,sS=e=>{if(e.length<=1)return e;let t=[],r=[];return e.forEach(e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t},sT=/\s+/;function sP(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=sC(e))&&(n&&(n+=" "),n+=t);return n}let sC=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=sC(e[n]))&&(r&&(r+=" "),r+=t);return r},sN=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},s_=/^\[(?:([a-z-]+):)?(.+)\]$/i,sF=/^\d+\/\d+$/,sD=new Set(["px","full","screen"]),sM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sV=e=>sU(e)||sD.has(e)||sF.test(e),sL=e=>s0(e,"length",s1),sU=e=>!!e&&!Number.isNaN(Number(e)),sK=e=>s0(e,"number",sU),sz=e=>!!e&&Number.isInteger(Number(e)),sq=e=>e.endsWith("%")&&sU(e.slice(0,-1)),s$=e=>s_.test(e),sW=e=>sM.test(e),sY=new Set(["length","size","percentage"]),sQ=e=>s0(e,sY,s5),sG=e=>s0(e,"position",s5),sH=new Set(["image","url"]),sX=e=>s0(e,sH,s6),sZ=e=>s0(e,"",s2),sJ=()=>!0,s0=(e,t,r)=>{let n=s_.exec(e);return!!n&&(n[1]?"string"==typeof t?n[1]===t:t.has(n[1]):r(n[2]))},s1=e=>sO.test(e)&&!sR.test(e),s5=()=>!1,s2=e=>sB.test(e),s6=e=>sI.test(e),s3=function(e,...t){let r,n,i,s=function(a){let l;return n=(r={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=new Map,n=new Map,i=(i,s)=>{r.set(i,s),++t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(i(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):i(e,t)}}})((l=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{separator:t,experimentalParseClassName:r}=e,n=1===t.length,i=t[0],s=t.length,o=e=>{let r,o=[],a=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===a){if(c===i&&(n||e.slice(u,u+s)===t)){o.push(e.slice(l,u)),l=u+s;continue}if("/"===c){r=u;continue}}"["===c?a++:"]"===c&&a--}let u=0===o.length?e:e.substring(l),c=u.startsWith("!"),h=c?u.substring(1):u;return{modifiers:o,hasImportantModifier:c,baseClassName:h,maybePostfixModifierPosition:r&&r>l?r-l:void 0}};return r?e=>r({className:e,parseClassName:o}):o})(l),...(e=>{let t=(e=>{let{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return sA(Object.entries(e.classGroups),r).forEach(([e,r])=>{sE(r,n,e,t)}),n})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{let r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),sb(r,t)||(e=>{if(sw.test(e)){let t=sw.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}})(e)},getConflictingClassGroupIds:(e,t)=>{let i=r[e]||[];return t&&n[e]?[...i,...n[e]]:i}}})(l)}).cache.get,i=r.cache.set,s=o,o(a)};function o(e){let t=n(e);if(t)return t;let s=((e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(sT),a="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{modifiers:l,hasImportantModifier:u,baseClassName:c,maybePostfixModifierPosition:h}=r(t),d=!!h,f=n(d?c.substring(0,h):c);if(!f){if(!d||!(f=n(c))){a=t+(a.length>0?" "+a:a);continue}d=!1}let p=sS(l).join(":"),m=u?p+"!":p,y=m+f;if(s.includes(y))continue;s.push(y);let g=i(f,d);for(let e=0;e<g.length;++e){let t=g[e];s.push(m+t)}a=t+(a.length>0?" "+a:a)}return a})(e,r);return i(e,s),s}return function(){return s(sP.apply(null,arguments))}}(()=>{let e=sN("colors"),t=sN("spacing"),r=sN("blur"),n=sN("brightness"),i=sN("borderColor"),s=sN("borderRadius"),o=sN("borderSpacing"),a=sN("borderWidth"),l=sN("contrast"),u=sN("grayscale"),c=sN("hueRotate"),h=sN("invert"),d=sN("gap"),f=sN("gradientColorStops"),p=sN("gradientColorStopPositions"),m=sN("inset"),y=sN("margin"),g=sN("opacity"),v=sN("padding"),x=sN("saturate"),b=sN("scale"),w=sN("sepia"),E=sN("skew"),k=sN("space"),j=sN("translate"),A=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",s$,t],P=()=>[s$,t],C=()=>["",sV,sL],N=()=>["auto",sU,s$],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",s$],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[sU,s$];return{cacheSize:500,separator:":",theme:{colors:[sJ],spacing:[sV,sL],blur:["none","",sW,s$],brightness:B(),borderColor:[e],borderRadius:["none","","full",sW,s$],borderSpacing:P(),borderWidth:C(),contrast:B(),grayscale:O(),hueRotate:B(),invert:O(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[sq,sL],inset:T(),margin:T(),opacity:B(),padding:P(),saturate:B(),scale:B(),sepia:O(),skew:B(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",s$]}],container:["container"],columns:[{columns:[sW]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),s$]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sz,s$]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",s$]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",sz,s$]}],"grid-cols":[{"grid-cols":[sJ]}],"col-start-end":[{col:["auto",{span:["full",sz,s$]},s$]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[sJ]}],"row-start-end":[{row:["auto",{span:[sz,s$]},s$]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",s$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",s$]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",s$,t]}],"min-w":[{"min-w":[s$,t,"min","max","fit"]}],"max-w":[{"max-w":[s$,t,"none","full","min","max","fit","prose",{screen:[sW]},sW]}],h:[{h:[s$,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[s$,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[s$,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[s$,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sW,sL]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sK]}],"font-family":[{font:[sJ]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",s$]}],"line-clamp":[{"line-clamp":["none",sU,sK]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sV,s$]}],"list-image":[{"list-image":["none",s$]}],"list-style-type":[{list:["none","disc","decimal",s$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sV,sL]}],"underline-offset":[{"underline-offset":["auto",sV,s$]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",s$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",s$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),sG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sX]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[sV,s$]}],"outline-w":[{outline:[sV,sL]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[sV,sL]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sW,sZ]}],"shadow-color":[{shadow:[sJ]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",sW,s$]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",s$]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",s$]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",s$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[sz,s$]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",s$]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",s$]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",s$]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[sV,sL,sK]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function s8(...e){return s3(function(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}(e))&&(n&&(n+=" "),n+=t);return n}(e))}let s4=({currentStep:e=1,onContinue:t,onBack:r,totalSteps:n=3})=>(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 w-full",children:[(0,o.jsxs)("div",{className:"flex items-center gap-4 relative",children:[Array.from({length:n}).map((t,r)=>{let i=r+1;return(0,o.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,o.jsx)("div",{className:s8("w-2 h-2 rounded-full relative z-10 transition-all",i<=e?"bg-[#007AFF]":"bg-[#E5E5EA]")}),i<n&&(0,o.jsx)("div",{className:s8("w-8 h-0.5 transition-all",i<e?"bg-[#007AFF]":"bg-[#E5E5EA]")})]},i)}),(0,o.jsx)(sx.div,{initial:{width:0},animate:{width:`${e/n*100}%`},className:"absolute left-0 top-1/2 -translate-y-1/2 h-1 bg-[#007AFF]/20 rounded-full",transition:{type:"spring",stiffness:300,damping:30,mass:.5}})]}),(0,o.jsxs)("p",{className:"text-sm text-[#6E6E73]",children:["Schritt ",e," von ",n]})]}),s7=h("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),s9=()=>(0,o.jsxs)("div",{className:"loader-container",children:[(0,o.jsx)("div",{className:"peeking-photo-icon",children:(0,o.jsx)(s7,{strokeWidth:1.5})}),(0,o.jsxs)("div",{className:"shield-container",children:[Array.from({length:150}).map((e,t)=>(0,o.jsx)("div",{className:"particle",style:{animationDelay:`${t%10*.1+.02*Math.floor(t/10)}s`}},t)),(0,o.jsxs)("div",{className:"shield-structure",children:[(0,o.jsx)("div",{className:"structure-line line-1"}),(0,o.jsx)("div",{className:"structure-line line-2"}),(0,o.jsx)("div",{className:"structure-line line-3"}),(0,o.jsx)("div",{className:"structure-line line-4"})]})]}),(0,o.jsx)("div",{className:"loading-text",children:"LDT..."})]});var oe=e.i(96510),ot=e.i(34673);function or(e){let t=(0,ot.encodeBase64)(e);return t.match(/.{1,8}/g)?.join("-")||t}async function on(e,t){var r;let n,i,s=(r=new Uint8Array(await e.arrayBuffer()),n=oe.default.randomBytes(oe.default.secretbox.nonceLength),i=oe.default.secretbox(r,n,t),{ciphertext:(0,ot.encodeBase64)(i),nonce:(0,ot.encodeBase64)(n)});return{encrypted:new Blob([(0,ot.decodeBase64)(s.ciphertext)],{type:"application/octet-stream"}),nonce:s.nonce}}async function oi(e,t,r,n){var i;let s,o,a=new Uint8Array(await e.arrayBuffer()),l=(i={ciphertext:(0,ot.encodeBase64)(a),nonce:t},s=(0,ot.decodeBase64)(i.ciphertext),o=(0,ot.decodeBase64)(i.nonce),oe.default.secretbox.open(s,o,r));return l?new Blob([l],{type:n}):null}function os(e,t){let r=(0,ot.encodeBase64)(e);localStorage.setItem("photovault_secret_key",r)}function oo(){let[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1),[i,s]=(0,a.useState)(null),[o,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=function(){let e=localStorage.getItem("photovault_secret_key");if(!e)return null;try{return(0,ot.decodeBase64)(e)}catch{return null}}();e&&(t(e),s(or(e))),n(!0)},[]);let u=(0,a.useCallback)(()=>new Promise(e=>{l(!0),setTimeout(()=>{let r,n={publicKey:(r=oe.default.box.keyPair()).publicKey,secretKey:r.secretKey}.secretKey;t(n),os(n);let i=or(n);s(i),l(!1),e(i)},1500)}),[]);return{secretKey:e,isInitialized:r,hasKey:!!e,recoveryPhrase:i,isGeneratingKey:o,generateNewKey:u,restoreFromPhrase:(0,a.useCallback)(e=>{try{let r,n=(r=e.replace(/-/g,""),(0,ot.decodeBase64)(r));return t(n),os(n),s(e),!0}catch{return!1}},[]),clearKey:(0,a.useCallback)(()=>{t(null),s(null),localStorage.removeItem("photovault_secret_key")},[])}}function oa({state:e,setState:t,step:r,setStep:n,onComplete:i}){let[s,l]=(0,a.useState)(!1),[u,c]=(0,a.useState)(!1),[h,d]=(0,a.useState)(!1),{isGeneratingKey:f}=oo(),{generateNewKey:p}=oo(),m=async()=>{let e=await p(),r=e?.split("-").slice(0,12)||av;t(t=>({...t,encryptionKey:e||"",backupPhrase:r})),l(!0)};return f?(0,o.jsx)(s9,{}):(0,o.jsxs)("div",{className:"min-h-screen flex flex-col px-6 pt-12 pb-8 safe-area-inset",children:[(0,o.jsx)(s4,{currentStep:s?1:r}),1===r&&!s&&(0,o.jsx)(ol,{onContinue:m,onImport:()=>{console.log("Show import dialog"),d(!0)}}),1===r&&s&&(0,o.jsx)(ou,{phrase:e.backupPhrase,confirmed:u,onConfirmChange:c,onContinue:()=>{console.log("TODO: Verify checkbox, proceed to step 2"),l(!1),c(!1),n(2)}}),2===r&&(0,o.jsx)(oc,{selectedSource:e.photoSource,onSelect:e=>{console.log("Selected photo source:",e),t(t=>({...t,photoSource:e})),n(3)}}),3===r&&(0,o.jsx)(oh,{selectedPlan:e.selectedPlan,onSelect:e=>{console.log("free"===e?"Set Free Plan":"Set Backup+ Plan"),t(t=>({...t,selectedPlan:e})),i()}}),h&&(0,o.jsx)(od,{onClose:()=>d(!1)})]})}function ol({onContinue:e,onImport:t}){return(0,o.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,o.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[(0,o.jsx)("div",{className:"w-20 h-20 rounded-full bg-[#007AFF]/10 flex items-center justify-center mb-6",children:(0,o.jsx)(f,{className:"w-10 h-10 text-[#007AFF]"})}),(0,o.jsx)("h1",{className:"sf-pro-display text-[28px] leading-tight text-[#1D1D1F] mb-3",children:"Erstelle deinen Schlssel"}),(0,o.jsx)("p",{className:"text-[17px] leading-relaxed text-[#6E6E73] max-w-[300px] mb-6",children:"Dieser Schlssel verschlsselt alle Fotos. Speichere ihn gut:"}),(0,o.jsxs)("div",{className:"bg-[#F2F2F7] rounded-xl p-4 w-full max-w-[300px]",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,o.jsx)(f,{className:"w-5 h-5 text-[#007AFF]"}),(0,o.jsx)("span",{className:"text-[15px] text-[#1D1D1F] font-medium",children:"12-Wort Backup-Phrase"})]}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73]",children:"Wird im nchsten Schritt erstellt und angezeigt"})]})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("button",{onClick:e,className:"w-full h-[50px] bg-[#007AFF] text-white text-[17px] font-semibold rounded-xl ios-tap-target",children:"Schlssel erstellen"}),(0,o.jsx)("button",{onClick:t,className:"w-full h-[44px] text-[#007AFF] text-[17px] ios-tap-target",children:"Ich habe bereits einen Schlssel"})]})]})}function ou({phrase:e,confirmed:t,onConfirmChange:r,onContinue:n}){return(0,o.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"text-center mb-6",children:[(0,o.jsx)("h1",{className:"sf-pro-display text-[28px] leading-tight text-[#1D1D1F] mb-2",children:"Notiere diese Wrter"}),(0,o.jsx)("p",{className:"text-[15px] text-[#6E6E73]",children:"Speichere sie sicher ab. Du brauchst sie zur Wiederherstellung."})]}),(0,o.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-6",children:e.map((e,t)=>(0,o.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center border border-[#E5E5EA]",children:[(0,o.jsx)("span",{className:"text-[11px] text-[#8E8E93] block mb-0.5",children:t+1}),(0,o.jsx)("span",{className:"text-[15px] text-[#1D1D1F] font-mono",children:e})]},t))}),(0,o.jsx)("div",{className:"bg-[#FF3B30]/10 rounded-xl p-4 mb-6",children:(0,o.jsx)("p",{className:"text-[13px] text-[#FF3B30] text-center",children:" Teile diese Wrter niemals mit anderen. Wer sie hat, kann auf deine Fotos zugreifen."})}),(0,o.jsxs)("button",{onClick:()=>r(!t),className:"w-full flex items-center gap-3 p-4 bg-white rounded-xl ios-tap-target",children:[(0,o.jsx)("div",{className:`w-6 h-6 rounded-md border-2 flex items-center justify-center ${t?"bg-[#007AFF] border-[#007AFF]":"border-[#C7C7CC]"}`,children:t&&(0,o.jsx)(d,{className:"w-4 h-4 text-white"})}),(0,o.jsx)("span",{className:"text-[17px] text-[#1D1D1F]",children:"Ich habe die Wrter notiert"})]})]}),(0,o.jsx)("button",{onClick:n,disabled:!t,className:`w-full h-[50px] text-[17px] font-semibold rounded-xl ios-tap-target ${t?"bg-[#007AFF] text-white":"bg-[#E5E5EA] text-[#8E8E93]"}`,children:"Weiter"})]})}function oc({selectedSource:e,onSelect:t}){return(0,o.jsx)("div",{className:"flex-1 flex flex-col",children:(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center text-center mb-8",children:[(0,o.jsx)("div",{className:"w-20 h-20 rounded-full bg-[#007AFF]/10 flex items-center justify-center mb-6",children:(0,o.jsx)(p,{className:"w-10 h-10 text-[#007AFF]"})}),(0,o.jsx)("h1",{className:"sf-pro-display text-[28px] leading-tight text-[#1D1D1F] mb-2",children:"Whle Backup-Quelle"}),(0,o.jsx)("p",{className:"text-[17px] leading-relaxed text-[#6E6E73] max-w-[300px]",children:"Wo sind deine Fotos gespeichert?"})]}),(0,o.jsx)("div",{className:"bg-[#F2F2F7] rounded-xl p-4 mb-6",children:(0,o.jsxs)("p",{className:"text-[15px] text-[#6E6E73] text-center",children:[" ",(0,o.jsx)("strong",{children:"Tipp:"}),' Die meisten Nutzer whlen "Fotos-App". Du kannst dies spter in den Einstellungen ndern.']})}),(0,o.jsx)("div",{className:"space-y-3",children:[{id:"photos-app",label:"Fotos-App",description:"Alle Fotos aus der iOS Foto-Bibliothek",details:"Empfohlen fr die meisten Nutzer"},{id:"files-app",label:"Dateien-App",description:"Fotos aus einem bestimmten Ordner",details:"Fr fortgeschrittene Nutzer"}].map(r=>(0,o.jsx)("button",{onClick:()=>t(r.id),className:`w-full p-4 rounded-xl bg-white text-left ios-tap-target transition-all ${e===r.id?"ring-2 ring-[#007AFF] shadow-lg":""}`,children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-[17px] font-medium text-[#1D1D1F]",children:r.label}),(0,o.jsx)("p",{className:"text-[15px] text-[#6E6E73] mt-0.5",children:r.description}),(0,o.jsx)("p",{className:"text-[13px] text-[#8E8E93] mt-1",children:r.details})]}),(0,o.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${e===r.id?"border-[#007AFF] bg-[#007AFF]":"border-[#C7C7CC]"}`,children:e===r.id&&(0,o.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})]})},r.id))})]})})}function oh({selectedPlan:e,onSelect:t}){let[r,n]=(0,a.useState)(e);return(0,o.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center text-center mb-6",children:[(0,o.jsx)("div",{className:"w-20 h-20 rounded-full bg-[#007AFF]/10 flex items-center justify-center mb-6",children:(0,o.jsx)(m,{className:"w-10 h-10 text-[#007AFF]"})}),(0,o.jsx)("h1",{className:"sf-pro-display text-[28px] leading-tight text-[#1D1D1F] mb-2",children:"Whle Speicherplan"}),(0,o.jsx)("p",{className:"text-[17px] leading-relaxed text-[#6E6E73] max-w-[300px]",children:"Du kannst das spter jederzeit ndern"})]}),(0,o.jsx)("div",{className:"bg-[#F2F2F7] rounded-xl p-4 mb-4",children:(0,o.jsxs)("p",{className:"text-[13px] text-[#6E6E73] text-center",children:[" ",(0,o.jsx)("strong",{children:"Empfehlung:"})," Starte mit FREE und upgrade spter, wenn du mehr Speicher brauchst."]})}),(0,o.jsx)("div",{className:"space-y-3",children:[{id:"free",label:"FREE",subtitle:"Auf deinen Gerten",price:"0/Monat",features:["Unbegrenzte Fotos","Zero-Knowledge Verschlsselung","Multi-Device Sync"],description:"Perfekt fr den Start"},{id:"backup-plus",label:"BACKUP+",subtitle:"Dauerhaft im Netz",price:"2,99/Monat",features:["Alles von Free","200 GB Cloud-Backup","Schnellere Synchronisierung"],recommended:!0,description:"Maximale Sicherheit"}].map(e=>(0,o.jsxs)("button",{onClick:()=>n(e.id),className:`w-full p-4 rounded-xl bg-white text-left ios-tap-target relative transition-all ${r===e.id?"ring-2 ring-[#007AFF] shadow-lg":""}`,children:[e.recommended&&(0,o.jsx)("span",{className:"absolute -top-2 left-4 px-2 py-0.5 bg-[#30D158] text-white text-[11px] font-semibold rounded-full",children:"EMPFOHLEN"}),(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-[15px] font-bold text-[#007AFF] tracking-wide",children:e.label}),(0,o.jsx)("p",{className:"text-[17px] font-semibold text-[#1D1D1F] mt-0.5",children:e.subtitle}),(0,o.jsx)("p",{className:"text-[13px] text-[#8E8E93] mt-1",children:e.description}),(0,o.jsx)("ul",{className:"mt-3 space-y-1.5",children:e.features.map(e=>(0,o.jsxs)("li",{className:"text-[15px] text-[#6E6E73] flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-[#30D158]",children:""})," ",e]},e))}),(0,o.jsx)("p",{className:"text-[17px] font-semibold text-[#1D1D1F] mt-4",children:e.price})]}),(0,o.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${r===e.id?"border-[#007AFF] bg-[#007AFF]":"border-[#C7C7CC]"}`,children:r===e.id&&(0,o.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})]})]},e.id))})]}),(0,o.jsx)("button",{onClick:()=>t(r),className:"w-full h-[50px] bg-[#007AFF] text-white text-[17px] font-semibold rounded-xl ios-tap-target mt-4",children:"PhotoVault starten"})]})}function od({onClose:e}){let[t,r]=(0,a.useState)("");return(0,o.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-end justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white w-full max-w-[428px] rounded-t-2xl p-6 pb-10",children:[(0,o.jsx)("h3",{className:"sf-pro-display text-[20px] text-[#1D1D1F] text-center mb-2",children:"Schlssel importieren"}),(0,o.jsx)("p",{className:"text-[15px] text-[#6E6E73] text-center mb-6",children:"Gib deine 12-Wort Backup-Phrase ein"}),(0,o.jsx)("textarea",{value:t,onChange:e=>r(e.target.value),placeholder:"beach ocean sunset cloud tree river...",className:"w-full h-[100px] bg-[#F2F2F7] rounded-xl p-4 text-[15px] text-[#1D1D1F] resize-none mb-4"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("button",{onClick:()=>{console.log("TODO: Import key:",t),e()},className:"w-full h-[50px] bg-[#007AFF] text-white text-[17px] font-semibold rounded-xl ios-tap-target",children:"Importieren"}),(0,o.jsx)("button",{onClick:e,className:"w-full h-[44px] text-[#007AFF] text-[17px] ios-tap-target",children:"Abbrechen"})]})]})})}let of=h("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),op=h("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),om={src:e.i(31522).default,width:1408,height:768,blurWidth:0,blurHeight:0};var oy=e.i(75555),og=e.i(40143),ov=e.i(86491),ox=e.i(15823),ob=e.i(93803),ow=e.i(19273),oE=e.i(80166),ok=class extends ox.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,ob.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#n=void 0;#i=void 0;#s=void 0;#o;#a;#r;#t;#l;#u;#c;#h;#d;#f;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#n.addObserver(this),oj(this.#n,this.options)?this.#m():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oA(this.#n,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oA(this.#n,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#v(),this.#n.removeObserver(this)}setOptions(e){let t=this.options,r=this.#n;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,ow.resolveEnabled)(this.options.enabled,this.#n))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#n.setOptions(this.options),t._defaulted&&!(0,ow.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#n,observer:this});let n=this.hasListeners();n&&oS(this.#n,r,this.options,t)&&this.#m(),this.updateResult(),n&&(this.#n!==r||(0,ow.resolveEnabled)(this.options.enabled,this.#n)!==(0,ow.resolveEnabled)(t.enabled,this.#n)||(0,ow.resolveStaleTime)(this.options.staleTime,this.#n)!==(0,ow.resolveStaleTime)(t.staleTime,this.#n))&&this.#b();let i=this.#w();n&&(this.#n!==r||(0,ow.resolveEnabled)(this.options.enabled,this.#n)!==(0,ow.resolveEnabled)(t.enabled,this.#n)||i!==this.#f)&&this.#E(i)}getOptimisticResult(e){var t,r;let n=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(n,e);return t=this,r=i,(0,ow.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#s=i,this.#a=this.options,this.#o=this.#n.state),i}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#n}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#m(e){this.#x();let t=this.#n.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ow.noop)),t}#b(){this.#g();let e=(0,ow.resolveStaleTime)(this.options.staleTime,this.#n);if(ow.isServer||this.#s.isStale||!(0,ow.isValidTimeout)(e))return;let t=(0,ow.timeUntilStale)(this.#s.dataUpdatedAt,e);this.#h=oE.timeoutManager.setTimeout(()=>{this.#s.isStale||this.updateResult()},t+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#n):this.options.refetchInterval)??!1}#E(e){this.#v(),this.#f=e,!ow.isServer&&!1!==(0,ow.resolveEnabled)(this.options.enabled,this.#n)&&(0,ow.isValidTimeout)(this.#f)&&0!==this.#f&&(this.#d=oE.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||oy.focusManager.isFocused())&&this.#m()},this.#f))}#y(){this.#b(),this.#E(this.#w())}#g(){this.#h&&(oE.timeoutManager.clearTimeout(this.#h),this.#h=void 0)}#v(){this.#d&&(oE.timeoutManager.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){let r,n=this.#n,i=this.options,s=this.#s,o=this.#o,a=this.#a,l=e!==n?e.state:this.#i,{state:u}=e,c={...u},h=!1;if(t._optimisticResults){let r=this.hasListeners(),s=!r&&oj(e,t),o=r&&oS(e,n,t,i);(s||o)&&(c={...c,...(0,ov.fetchState)(u.data,e.options)}),"isRestoring"===t._optimisticResults&&(c.fetchStatus="idle")}let{error:d,errorUpdatedAt:f,status:p}=c;r=c.data;let m=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===p){let e;s?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(e=s.data,m=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,void 0!==e&&(p="success",r=(0,ow.replaceData)(s?.data,e,t),h=!0)}if(t.select&&void 0!==r&&!m)if(s&&r===o?.data&&t.select===this.#l)r=this.#u;else try{this.#l=t.select,r=t.select(r),r=(0,ow.replaceData)(s?.data,r,t),this.#u=r,this.#t=null}catch(e){this.#t=e}this.#t&&(d=this.#t,r=this.#u,f=Date.now(),p="error");let y="fetching"===c.fetchStatus,g="pending"===p,v="error"===p,x=g&&y,b=void 0!==r,w={status:p,fetchStatus:c.fetchStatus,isPending:g,isSuccess:"success"===p,isError:v,isInitialLoading:x,isLoading:x,data:r,dataUpdatedAt:c.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!g,isLoadingError:v&&!b,isPaused:"paused"===c.fetchStatus,isPlaceholderData:h,isRefetchError:v&&b,isStale:oT(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,ow.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==w.data,r="error"===w.status&&!t,i=e=>{r?e.reject(w.error):t&&e.resolve(w.data)},s=()=>{i(this.#r=w.promise=(0,ob.pendingThenable)())},o=this.#r;switch(o.status){case"pending":e.queryHash===n.queryHash&&i(o);break;case"fulfilled":(r||w.data!==o.value)&&s();break;case"rejected":r&&w.error===o.reason||s()}}return w}updateResult(){let e=this.#s,t=this.createResult(this.#n,this.options);if(this.#o=this.#n.state,this.#a=this.options,void 0!==this.#o.data&&(this.#c=this.#n),(0,ow.shallowEqualObjects)(t,e))return;this.#s=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#p.size)return!0;let n=new Set(r??this.#p);return this.options.throwOnError&&n.add("error"),Object.keys(this.#s).some(t=>this.#s[t]!==e[t]&&n.has(t))};this.#k({listeners:r()})}#x(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#n)return;let t=this.#n;this.#n=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#k(e){og.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#n,type:"observerResultsUpdated"})})}};function oj(e,t){return!1!==(0,ow.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&oA(e,t,t.refetchOnMount)}function oA(e,t,r){if(!1!==(0,ow.resolveEnabled)(t.enabled,e)&&"static"!==(0,ow.resolveStaleTime)(t.staleTime,e)){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&oT(e,t)}return!1}function oS(e,t,r,n){return(e!==t||!1===(0,ow.resolveEnabled)(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&oT(e,r)}function oT(e,t){return!1!==(0,ow.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,ow.resolveStaleTime)(t.staleTime,e))}var oP=e.i(12598),oC=a.createContext((n=!1,{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n})),oN=a.createContext(!1);oN.Provider;var o_=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function oF(e,t){return function(e,t,r){let n,i=a.useContext(oN),s=a.useContext(oC),o=(0,oP.useQueryClient)(r),l=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l);let u=o.getQueryCache().get(l.queryHash);if(l._optimisticResults=i?"isRestoring":"optimistic",l.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=l.staleTime;l.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof l.gcTime&&(l.gcTime=Math.max(l.gcTime,1e3))}n=u?.state.error&&"function"==typeof l.throwOnError?(0,ow.shouldThrowError)(l.throwOnError,[u.state.error,u]):l.throwOnError,(l.suspense||l.experimental_prefetchInRender||n)&&!s.isReset()&&(l.retryOnMount=!1),a.useEffect(()=>{s.clearReset()},[s]);let c=!o.getQueryCache().get(l.queryHash),[h]=a.useState(()=>new t(o,l)),d=h.getOptimisticResult(l),f=!i&&!1!==e.subscribed;if(a.useSyncExternalStore(a.useCallback(e=>{let t=f?h.subscribe(og.notifyManager.batchCalls(e)):ow.noop;return h.updateResult(),t},[h,f]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),a.useEffect(()=>{h.setOptions(l)},[l,h]),l?.suspense&&d.isPending)throw o_(l,h,s);if((({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&void 0===e.data||(0,ow.shouldThrowError)(r,[e.error,n])))({result:d,errorResetBoundary:s,throwOnError:l.throwOnError,query:u,suspense:l.suspense}))throw d.error;if(o.getDefaultOptions().queries?._experimental_afterQuery?.(l,d),l.experimental_prefetchInRender&&!ow.isServer&&d.isLoading&&d.isFetching&&!i){let e=c?o_(l,h,s):u?.promise;e?.catch(ow.noop).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?d:h.trackResult(d)}(e,ok,t)}var oD=e.i(14272),oM=ox,oO=class extends oM.Subscribable{#e;#s=void 0;#j;#A;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#S()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,ow.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#j,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,ow.hashKey)(t.mutationKey)!==(0,ow.hashKey)(this.options.mutationKey)?this.reset():this.#j?.state.status==="pending"&&this.#j.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#j?.removeObserver(this)}onMutationUpdate(e){this.#S(),this.#k(e)}getCurrentResult(){return this.#s}reset(){this.#j?.removeObserver(this),this.#j=void 0,this.#S(),this.#k()}mutate(e,t){return this.#A=t,this.#j?.removeObserver(this),this.#j=this.#e.getMutationCache().build(this.#e,this.options),this.#j.addObserver(this),this.#j.execute(e)}#S(){let e=this.#j?.state??(0,oD.getDefaultState)();this.#s={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#k(e){og.notifyManager.batch(()=>{if(this.#A&&this.hasListeners()){let t=this.#s.variables,r=this.#s.context,n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#A.onSuccess?.(e.data,t,r,n)}catch(e){Promise.reject(e)}try{this.#A.onSettled?.(e.data,null,t,r,n)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#A.onError?.(e.error,t,r,n)}catch(e){Promise.reject(e)}try{this.#A.onSettled?.(void 0,e.error,t,r,n)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#s)})})}};function oR(e,t){let r=(0,oP.useQueryClient)(t),[n]=a.useState(()=>new oO(r,e));a.useEffect(()=>{n.setOptions(e)},[n,e]);let i=a.useSyncExternalStore(a.useCallback(e=>n.subscribe(og.notifyManager.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=a.useCallback((e,t)=>{n.mutate(e,t).catch(ow.noop)},[n]);if(i.error&&(0,ow.shouldThrowError)(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var oB=e.i(93560);let oI=Symbol.for("Dexie"),oV=globalThis[oI]||(globalThis[oI]=oB.default);if(oB.default.semVer!==oV.semVer)throw Error(`Two different versions of Dexie loaded in the same app: ${oB.default.semVer} and ${oV.semVer}`);let{liveQuery:oL,mergeRanges:oU,rangesOverlap:oK,RangeSet:oz,cmp:oq,Entity:o$,PropModification:oW,replacePrefix:oY,add:oQ,remove:oG,DexieYProvider:oH}=oV,oX=oV,oZ=new class extends oX{photos;constructor(){super("PhotoVaultDB"),this.version(1).stores({photos:"++id, cid, uploadedAt"})}};async function oJ(e){return await oZ.photos.add(e)}async function o0(){return await oZ.photos.orderBy("uploadedAt").reverse().toArray()}async function o1(e){await oZ.photos.delete(e)}async function o5(){return await oZ.photos.count()}function o2(e){let t=(0,oP.useQueryClient)(),{data:r=[],isLoading:n,error:i}=oF({queryKey:["photos"],queryFn:o0,enabled:!!e}),{data:s=0}=oF({queryKey:["photoCount"],queryFn:o5}),o=oR({mutationFn:async t=>{if(!e)throw Error("No encryption key");let{encrypted:r,nonce:n}=await on(t,e),i={cid:`cid_${Date.now()}_${Math.random().toString(36).slice(2)}`,nonce:n,fileName:t.name,mimeType:t.type,fileSize:t.size,uploadedAt:new Date,encryptedBlob:r};return await oJ(i),i},onSuccess:()=>{t.invalidateQueries({queryKey:["photos"]}),t.invalidateQueries({queryKey:["photoCount"]})}}),l=oR({mutationFn:async e=>{await o1(e)},onSuccess:()=>{t.invalidateQueries({queryKey:["photos"]}),t.invalidateQueries({queryKey:["photoCount"]})}}),u=(0,a.useCallback)(async t=>{if(!e||!t.encryptedBlob)return null;let r=await oi(t.encryptedBlob,t.nonce,e,t.mimeType);return r?URL.createObjectURL(r):null},[e]);return{photos:r,photoCount:s,isLoading:n,error:i,uploadPhoto:o.mutate,deletePhoto:l.mutate,decryptPhoto:u,isUploading:o.isPending}}function o6({state:e,setState:t}){let[r,n]=(0,a.useState)(null),[i,s]=(0,a.useState)(!1),{secretKey:l}=oo(),{photoCount:u}=o2(l),c=u>0?u:e.photosCount;return(0,o.jsxs)("div",{className:"h-full flex flex-col px-5 pt-6 pb-4 overflow-y-auto",children:[(0,o.jsxs)("header",{className:"mb-6",children:[(0,o.jsx)("h1",{className:"sf-pro-display text-[28px] text-[#1D1D1F]",children:"Backup"}),(0,o.jsx)("p",{className:"text-[15px] text-[#6E6E73] mt-1",children:"Verschlsseltes Photo-Backup"})]}),(0,o.jsx)("button",{onClick:()=>{console.log("TODO: Toggle backup with confirmation dialog"),s(!0)},className:"w-full bg-white rounded-xl p-5 mb-3 ios-tap-target",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:`w-14 h-14 rounded-full flex items-center justify-center ${e.backupActive?"bg-[#30D158]/10":"bg-[#E5E5EA]"}`,children:(0,o.jsx)(om,{className:`w-7 h-7 ${e.backupActive?"text-[#30D158]":"text-[#8E8E93]"}`})}),(0,o.jsxs)("div",{className:"text-left",children:[(0,o.jsxs)("p",{className:"text-[17px] font-semibold text-[#1D1D1F]",children:["Backup ",e.backupActive?"Aktiv":"Aus"]}),(0,o.jsx)("p",{className:"text-[15px] text-[#6E6E73]",children:e.backupActive?"Deine Fotos werden geschtzt":"Tippe zum Aktivieren"})]})]}),(0,o.jsx)("div",{className:`w-[51px] h-[31px] rounded-full p-[2px] ${e.backupActive?"bg-[#30D158]":"bg-[#E5E5EA]"}`,children:(0,o.jsx)("div",{className:`w-[27px] h-[27px] rounded-full bg-white shadow-sm ${e.backupActive?"ml-auto":""}`})})]})}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73] px-2 mb-6",children:"Automatisch neue Fotos sichern"}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[(0,o.jsx)(o3,{icon:(0,o.jsx)(s7,{className:"w-5 h-5 text-[#007AFF]"}),value:c.toLocaleString(),label:"Fotos gesichert",tooltip:"Lokal auf deinen Gerten gespeichert",showTooltip:"photos"===r,onTap:()=>n("photos"===r?null:"photos")}),(0,o.jsx)(o3,{icon:(0,o.jsx)(of,{className:"w-5 h-5 text-[#007AFF]"}),value:e.lastBackup,label:"Letztes Backup",tooltip:"Automatisches Backup alle 6 Stunden",showTooltip:"lastBackup"===r,onTap:()=>n("lastBackup"===r?null:"lastBackup")}),(0,o.jsx)(o3,{icon:(0,o.jsx)(om,{className:"w-5 h-5 text-[#007AFF]"}),value:`${e.permanence}%`,label:"Dauerhaft",tooltip:"Fotos sind auf mehreren Gerten gesichert",showTooltip:"permanence"===r,onTap:()=>n("permanence"===r?null:"permanence")})]}),(0,o.jsx)("button",{onClick:()=>{console.log("TODO: Start backup with progress bar"),console.log("Trigger Backup Process"),console.log("Update Backup Metadata"),t(e=>({...e,lastBackup:"Gerade eben",photosCount:e.photosCount+Math.floor(10*Math.random())}))},className:`w-full h-[50px] text-[17px] font-semibold rounded-xl mb-4 ios-tap-target ${e.backupActive?"bg-[#007AFF] text-white":"bg-[#30D158] text-white"}`,children:e.backupActive?"Jetzt sichern":"Backup aktivieren"}),(0,o.jsx)("div",{className:"mt-auto pt-4",children:(0,o.jsxs)("p",{className:"text-[15px] text-[#8E8E93] text-center leading-relaxed",children:["Deine Fotos sind verschlsselt.",(0,o.jsx)("br",{}),"Niemand kann sie sehen."]})}),i&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-8",children:(0,o.jsxs)("div",{className:"bg-white w-full max-w-[270px] rounded-2xl overflow-hidden",children:[(0,o.jsxs)("div",{className:"p-4 text-center",children:[(0,o.jsx)("h3",{className:"sf-pro-display text-[17px] text-[#1D1D1F] mb-1",children:e.backupActive?"Backup deaktivieren?":"Backup aktivieren?"}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73] leading-relaxed",children:e.backupActive?"Neue Fotos werden nicht mehr automatisch gesichert.":"Neue Fotos werden automatisch verschlsselt und gesichert."})]}),(0,o.jsxs)("div",{className:"border-t border-[#E5E5EA]",children:[(0,o.jsx)("button",{onClick:()=>s(!1),className:"w-full py-3 text-[17px] text-[#007AFF] border-b border-[#E5E5EA] ios-tap-target",children:"Abbrechen"}),(0,o.jsx)("button",{onClick:()=>{let r=!e.backupActive;console.log(r?"Activate Backup":"Deactivate Backup"),t(e=>({...e,backupActive:r})),s(!1)},className:`w-full py-3 text-[17px] font-semibold ios-tap-target ${e.backupActive?"text-[#FF3B30]":"text-[#30D158]"}`,children:e.backupActive?"Deaktivieren":"Aktivieren"})]})]})})]})}function o3({icon:e,value:t,label:r,tooltip:n,showTooltip:i,onTap:s}){return(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsxs)("button",{onClick:s,className:"w-full bg-white rounded-xl p-4 text-center ios-tap-target",children:[(0,o.jsxs)("div",{className:"flex justify-center mb-2 relative",children:[e,(0,o.jsx)(op,{className:"w-3 h-3 text-[#C7C7CC] absolute -right-1 -top-1"})]}),(0,o.jsx)("p",{className:"text-[17px] font-semibold text-[#1D1D1F] truncate",children:t}),(0,o.jsx)("p",{className:"text-[11px] text-[#6E6E73]",children:r})]}),i&&(0,o.jsxs)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-[180px] bg-[#1D1D1F] text-white text-[13px] p-3 rounded-lg z-10 text-center",children:[n,(0,o.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-[#1D1D1F]"})]})]})}let o8=h("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),o4=h("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),o7=h("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),o9={src:e.i(97972).default,width:1408,height:768,blurWidth:0,blurHeight:0},ae={src:e.i(53294).default,width:1408,height:768,blurWidth:0,blurHeight:0};function at({state:e,setState:t,onRestartOnboarding:r}){let[n,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[u,c]=(0,a.useState)(!1),[h,d]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!1),[y,g]=(0,a.useState)(!1);return n?(0,o.jsx)(an,{devices:e.devices,onBack:()=>i(!1),onAddDevice:()=>{console.log("Show QR code or key import")}}):(0,o.jsxs)("div",{className:"h-full flex flex-col pb-4 overflow-y-auto",children:[(0,o.jsx)("header",{className:"px-5 pt-6 pb-4 bg-[#F2F2F7]",children:(0,o.jsx)("h1",{className:"sf-pro-display text-[28px] text-[#1D1D1F]",children:"Einstellungen"})}),(0,o.jsxs)("div",{className:"flex-1 px-5",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h2",{className:"text-[13px] font-semibold text-[#6E6E73] uppercase tracking-wide px-4 mb-2",children:"Backup"}),(0,o.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",children:[(0,o.jsx)(ar,{label:"Automatisches Backup",description:"Neue Fotos automatisch sichern",enabled:e.autoBackupEnabled,onToggle:()=>{let r=!e.autoBackupEnabled;console.log("Update Auto-Backup Preference:",r),t(e=>({...e,autoBackupEnabled:r}))}}),(0,o.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,o.jsx)(ar,{label:"Hintergrund-Backup",description:"Weiter sichern wenn App geschlossen",enabled:e.backgroundBackupEnabled,onToggle:()=>{let r=!e.backgroundBackupEnabled;console.log("Update Background Preference:",r),t(e=>({...e,backgroundBackupEnabled:r}))}}),(0,o.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,o.jsxs)("button",{onClick:()=>m(!0),className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)(p,{className:"w-5 h-5 text-[#007AFF]"}),(0,o.jsxs)("div",{className:"text-left",children:[(0,o.jsx)("span",{className:"text-[17px] text-[#1D1D1F] block",children:"Backup-Quelle"}),(0,o.jsx)("span",{className:"text-[13px] text-[#6E6E73]",children:"photos-app"===e.photoSource?"Fotos-App":"Dateien-App"})]})]}),(0,o.jsx)(o8,{className:"w-5 h-5 text-[#C7C7CC]"})]})]})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h2",{className:"text-[13px] font-semibold text-[#6E6E73] uppercase tracking-wide px-4 mb-2",children:"Speicher"}),(0,o.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",children:[(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,o.jsx)("span",{className:"text-[17px] text-[#1D1D1F]",children:"Aktueller Plan"}),(0,o.jsx)("span",{className:"text-[15px] font-semibold text-[#007AFF]",children:"free"===e.selectedPlan?"Free":"Backup+"})]}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73]",children:"free"===e.selectedPlan?"Fotos auf deinen Gerten":"200 GB Cloud-Backup"})]}),(0,o.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,o.jsx)("div",{className:"p-4",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-[15px] text-[#6E6E73]",children:"Verwendet"}),(0,o.jsxs)("span",{className:"text-[15px] text-[#1D1D1F]",children:[e.photosCount.toLocaleString()," Fotos (nur lokal)"]})]})}),(0,o.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,o.jsxs)("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,o.jsx)("span",{className:"text-[17px] text-[#007AFF]",children:"free"===e.selectedPlan?"Upgrade zu Backup+":"Plan verwalten"}),(0,o.jsx)(o8,{className:"w-5 h-5 text-[#C7C7CC]"})]})]})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h2",{className:"text-[13px] font-semibold text-[#6E6E73] uppercase tracking-wide px-4 mb-2",children:"Gerte"}),(0,o.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",children:(0,o.jsxs)("button",{onClick:()=>{console.log("Fetch Device List"),i(!0)},className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)(o9,{className:"w-5 h-5 text-[#007AFF]"}),(0,o.jsx)("span",{className:"text-[17px] text-[#1D1D1F]",children:"Verbundene Gerte"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-[15px] text-[#6E6E73]",children:e.devices.length}),(0,o.jsx)(o8,{className:"w-5 h-5 text-[#C7C7CC]"})]})]})})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h2",{className:"text-[13px] font-semibold text-[#6E6E73] uppercase tracking-wide px-4 mb-2",children:"Sicherheit"}),(0,o.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",children:[(0,o.jsxs)("button",{onClick:()=>l(!0),className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,o.jsx)("span",{className:"text-[17px] text-[#1D1D1F]",children:"Backup-Phrase anzeigen"}),(0,o.jsx)(o8,{className:"w-5 h-5 text-[#C7C7CC]"})]}),(0,o.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,o.jsxs)("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,o.jsx)("span",{className:"text-[17px] text-[#FF3B30]",children:"Neuen Schlssel erstellen"}),(0,o.jsx)(o8,{className:"w-5 h-5 text-[#C7C7CC]"})]})]}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73] px-4 mt-2",children:"Teile diese Wrter niemals mit anderen."})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h2",{className:"text-[13px] font-semibold text-[#6E6E73] uppercase tracking-wide px-4 mb-2",children:"Setup"}),(0,o.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",children:(0,o.jsxs)("button",{onClick:()=>{console.log("TODO: Navigate to onboarding screen 1"),r()},className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)(ae,{className:"w-5 h-5 text-[#007AFF]"}),(0,o.jsx)("span",{className:"text-[17px] text-[#1D1D1F]",children:"Onboarding wiederholen"})]}),(0,o.jsx)(o8,{className:"w-5 h-5 text-[#C7C7CC]"})]})}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73] px-4 mt-2",children:"Schlssel, Quelle und Plan neu einrichten"})]})]}),s&&(0,o.jsx)(ao,{title:"Sicherheitshinweis",message:"Deine Backup-Phrase gibt vollen Zugriff auf deine verschlsselten Fotos. Nur an einem privaten Ort anzeigen.",confirmLabel:"Phrase anzeigen",confirmDestructive:!1,onConfirm:()=>{console.log("Display Backup Phrase"),l(!1),d(!0)},onCancel:()=>l(!1)}),h&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-end justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white w-full max-w-[428px] rounded-t-2xl p-6 pb-10",children:[(0,o.jsx)("h3",{className:"sf-pro-display text-[20px] text-[#1D1D1F] text-center mb-2",children:"Deine Backup-Phrase"}),(0,o.jsx)("p",{className:"text-[15px] text-[#6E6E73] text-center mb-4",children:"Notiere diese Wrter und bewahre sie sicher auf."}),(0,o.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:(e.backupPhrase.length>0?e.backupPhrase:av).map((e,t)=>(0,o.jsxs)("div",{className:"bg-[#F2F2F7] rounded-lg p-2 text-center",children:[(0,o.jsx)("span",{className:"text-[11px] text-[#8E8E93] block",children:t+1}),(0,o.jsx)("span",{className:"text-[14px] text-[#1D1D1F] font-mono",children:e})]},t))}),(0,o.jsx)("div",{className:"bg-[#FF3B30]/10 rounded-xl p-3 mb-4",children:(0,o.jsx)("p",{className:"text-[13px] text-[#FF3B30] text-center",children:" Teile diese Wrter niemals mit anderen"})}),(0,o.jsx)("button",{onClick:()=>d(!1),className:"w-full h-[50px] bg-[#007AFF] text-white text-[17px] font-semibold rounded-xl ios-tap-target",children:"Fertig"})]})}),u&&(0,o.jsx)(ao,{title:"Datenverlust-Warnung",message:"Das Erstellen eines neuen Schlssels lscht alle vorhandenen Backup-Daten permanent. Diese Aktion kann nicht rckgngig gemacht werden.",confirmLabel:"Neuen Schlssel erstellen",confirmDestructive:!0,onConfirm:()=>{console.log("Generate New Encryption Key"),console.log("Clear Existing Backup Data");let e=["mango","noble","ocean","prime","quest","royal","solar","titan","ultra","vivid","world","xenon"],r=e.join(" ");t(t=>({...t,encryptionKey:r,backupPhrase:e,photosCount:0})),c(!1)},onCancel:()=>c(!1)}),f&&(0,o.jsx)(ai,{currentSource:e.photoSource,onSelect:e=>{console.log("TODO: Update backup source preference:",e),t(t=>({...t,photoSource:e})),m(!1)},onClose:()=>m(!1)}),y&&(0,o.jsx)(as,{currentPlan:e.selectedPlan,onSelect:e=>{console.log("TODO: Show plan selection modal",e),t(t=>({...t,selectedPlan:e})),g(!1)},onClose:()=>g(!1)})]})}function ar({label:e,description:t,enabled:r,onToggle:n}){return(0,o.jsxs)("button",{onClick:n,className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,o.jsxs)("div",{className:"text-left",children:[(0,o.jsx)("p",{className:"text-[17px] text-[#1D1D1F]",children:e}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73] mt-0.5",children:t})]}),(0,o.jsx)("div",{className:`w-[51px] h-[31px] rounded-full p-[2px] shrink-0 ${r?"bg-[#30D158]":"bg-[#E5E5EA]"}`,children:(0,o.jsx)("div",{className:`w-[27px] h-[27px] rounded-full bg-white shadow-sm ${r?"ml-auto":""}`})})]})}function an({devices:e,onBack:t,onAddDevice:r}){return(0,o.jsxs)("div",{className:"h-full flex flex-col pb-4 overflow-y-auto",children:[(0,o.jsxs)("header",{className:"px-5 pt-6 pb-4 bg-[#F2F2F7]",children:[(0,o.jsx)("button",{onClick:t,className:"text-[#007AFF] text-[17px] ios-tap-target mb-2",children:" Zurck"}),(0,o.jsx)("h1",{className:"sf-pro-display text-[28px] text-[#1D1D1F]",children:"Gerte"})]}),(0,o.jsxs)("div",{className:"flex-1 px-5",children:[(0,o.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",children:e.map((e,t)=>(0,o.jsxs)("div",{children:[t>0&&(0,o.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,o.jsxs)("div",{className:"flex items-center gap-3 p-4",children:[(0,o.jsx)(o9,{className:"w-8 h-8 text-[#007AFF]"}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-[17px] text-[#1D1D1F]",children:e.name}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73]",children:e.lastActive})]}),e.syncing?(0,o.jsx)(o7,{className:"w-5 h-5 text-[#007AFF] animate-spin"}):"Aktiv"===e.lastActive?(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)(d,{className:"w-4 h-4 text-[#30D158]"}),(0,o.jsx)("span",{className:"text-[13px] text-[#30D158] font-medium",children:"Dieses Gert"})]}):null]})]},e.id))}),(0,o.jsxs)("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 mt-6 p-4 bg-white rounded-xl ios-tap-target",children:[(0,o.jsx)(o4,{className:"w-5 h-5 text-[#007AFF]"}),(0,o.jsx)("span",{className:"text-[17px] text-[#007AFF]",children:"Neues Gert verbinden"})]}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73] text-center mt-3",children:"Scanne den QR-Code oder gib deine Backup-Phrase ein"})]})]})}function ai({currentSource:e,onSelect:t,onClose:r}){return(0,o.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-end justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white w-full max-w-[428px] rounded-t-2xl p-6 pb-10",children:[(0,o.jsx)("h3",{className:"sf-pro-display text-[20px] text-[#1D1D1F] text-center mb-2",children:"Backup-Quelle"}),(0,o.jsx)("p",{className:"text-[15px] text-[#6E6E73] text-center mb-6",children:"Wo sind deine Fotos gespeichert?"}),(0,o.jsx)("div",{className:"space-y-3 mb-6",children:[{id:"photos-app",label:"Fotos-App",description:"Alle Fotos aus der iOS Foto-Bibliothek"},{id:"files-app",label:"Dateien-App",description:"Fotos aus einem bestimmten Ordner"}].map(r=>(0,o.jsx)("button",{onClick:()=>t(r.id),className:`w-full p-4 rounded-xl bg-[#F2F2F7] text-left ios-tap-target ${e===r.id?"ring-2 ring-[#007AFF]":""}`,children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-[17px] font-medium text-[#1D1D1F]",children:r.label}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73] mt-0.5",children:r.description})]}),(0,o.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${e===r.id?"border-[#007AFF] bg-[#007AFF]":"border-[#C7C7CC]"}`,children:e===r.id&&(0,o.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})]})},r.id))}),(0,o.jsx)("button",{onClick:r,className:"w-full h-[44px] text-[#007AFF] text-[17px] ios-tap-target",children:"Abbrechen"})]})})}function as({currentPlan:e,onSelect:t,onClose:r}){return(0,o.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-end justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white w-full max-w-[428px] rounded-t-2xl p-6 pb-10 max-h-[80vh] overflow-y-auto",children:[(0,o.jsx)("h3",{className:"sf-pro-display text-[20px] text-[#1D1D1F] text-center mb-2",children:"Speicherplan"}),(0,o.jsx)("p",{className:"text-[15px] text-[#6E6E73] text-center mb-6",children:"Du kannst jederzeit wechseln"}),(0,o.jsx)("div",{className:"space-y-3 mb-6",children:[{id:"free",label:"FREE",subtitle:"Auf deinen Gerten",price:"0/Monat",features:["Unbegrenzte Fotos","Zero-Knowledge Verschlsselung","Multi-Device Sync"]},{id:"backup-plus",label:"BACKUP+",subtitle:"Dauerhaft im Netz",price:"2,99/Monat",features:["Alles von Free","200 GB Cloud-Backup","Schnellere Synchronisierung"]}].map(r=>(0,o.jsx)("button",{onClick:()=>t(r.id),className:`w-full p-4 rounded-xl bg-[#F2F2F7] text-left ios-tap-target ${e===r.id?"ring-2 ring-[#007AFF]":""}`,children:(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-[13px] font-bold text-[#007AFF] tracking-wide",children:r.label}),(0,o.jsx)("p",{className:"text-[17px] font-semibold text-[#1D1D1F] mt-0.5",children:r.subtitle}),(0,o.jsx)("ul",{className:"mt-2 space-y-1",children:r.features.map(e=>(0,o.jsxs)("li",{className:"text-[13px] text-[#6E6E73] flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-[#30D158]",children:""})," ",e]},e))}),(0,o.jsx)("p",{className:"text-[15px] font-semibold text-[#1D1D1F] mt-3",children:r.price})]}),(0,o.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${e===r.id?"border-[#007AFF] bg-[#007AFF]":"border-[#C7C7CC]"}`,children:e===r.id&&(0,o.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})]})},r.id))}),(0,o.jsx)("button",{onClick:r,className:"w-full h-[44px] text-[#007AFF] text-[17px] ios-tap-target",children:"Abbrechen"})]})})}function ao({title:e,message:t,confirmLabel:r,confirmDestructive:n,onConfirm:i,onCancel:s}){return(0,o.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-8",children:(0,o.jsxs)("div",{className:"bg-white w-full max-w-[270px] rounded-2xl overflow-hidden",children:[(0,o.jsxs)("div",{className:"p-4 text-center",children:[(0,o.jsx)("h3",{className:"sf-pro-display text-[17px] text-[#1D1D1F] mb-1",children:e}),(0,o.jsx)("p",{className:"text-[13px] text-[#6E6E73] leading-relaxed",children:t})]}),(0,o.jsxs)("div",{className:"border-t border-[#E5E5EA]",children:[(0,o.jsx)("button",{onClick:s,className:"w-full py-3 text-[17px] text-[#007AFF] border-b border-[#E5E5EA] ios-tap-target",children:"Abbrechen"}),(0,o.jsx)("button",{onClick:i,className:`w-full py-3 text-[17px] font-semibold ios-tap-target ${n?"text-[#FF3B30]":"text-[#007AFF]"}`,children:r})]})]})})}let aa=h("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),al=h("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),au=h("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ac=h("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ah={src:e.i(87418).default,width:1408,height:768,blurWidth:0,blurHeight:0},ad=e=>{let t={};return e.forEach(e=>{t[e.date]||(t[e.date]=[]),t[e.date].push(e)}),Object.entries(t).map(([e,t])=>({date:e,photos:t,label:af(e)}))},af=e=>{let t=new Date(e),r=new Date,n=new Date(r);return(n.setDate(n.getDate()-1),e===r.toISOString().split("T")[0])?"Heute":e===n.toISOString().split("T")[0]?"Gestern":t.toLocaleDateString("de-DE",{weekday:"long",day:"numeric",month:"long"})};function ap({photosCount:e}){var t;let r,n,i,[s,l]=(0,a.useState)(""),[u,c]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[p,m]=(0,a.useState)(null),[y,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(new Set),[b,w]=(0,a.useState)(null),E=(0,a.useRef)(null),{secretKey:k,hasKey:j}=oo(),{photos:A,uploadPhoto:S,deletePhoto:T,decryptPhoto:P,isUploading:C}=o2(k),N=A.length>0?A.map(e=>({id:e.id?.toString()||e.cid,cid:e.cid,placeholderUrl:"",category:"photo",date:e.uploadedAt.toISOString().split("T")[0],metadata:e})):(t=Math.min(e,50),r=["nature","architecture","travel","food","animals","city","landscape","portrait","ocean","forest"],n=new Date,Array.from({length:t},(e,t)=>{let i=new Date(n);return i.setDate(i.getDate()-Math.floor(t/3)),{id:`photo-${t}`,cid:`Qm${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,placeholderUrl:`https://picsum.photos/seed/${t+100}/400/400`,category:r[t%r.length],date:i.toISOString().split("T")[0],metadata:void 0}}));ad(N);let _=ad(N.filter(e=>(!p||e.category===p)&&(!s||!!e.category.includes(s.toLowerCase())))),F=()=>{E.current&&(clearTimeout(E.current),E.current=null)};return(0,o.jsxs)("div",{className:"flex flex-col h-full bg-[#F2F2F7]",children:[(0,o.jsx)("header",{className:"h-[60px] bg-white border-b border-[#E5E5EA] px-4 flex items-center justify-between shrink-0",children:u?(0,o.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[(0,o.jsxs)("div",{className:"flex-1 bg-[#E5E5EA] rounded-lg px-3 py-2 flex items-center gap-2",children:[(0,o.jsx)(aa,{className:"w-4 h-4 text-[#8E8E93]"}),(0,o.jsx)("input",{type:"text",placeholder:"Suchen...",value:s,onChange:e=>l(e.target.value),className:"flex-1 bg-transparent text-[15px] text-[#1D1D1F] outline-none",autoFocus:!0})]}),(0,o.jsx)("button",{onClick:()=>{c(!1),l("")},className:"text-[17px] text-[#007AFF] ios-tap-target",children:"Abbrechen"})]}):y?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>{g(!1),x(new Set)},className:"text-[17px] text-[#007AFF] ios-tap-target",children:"Abbrechen"}),(0,o.jsxs)("span",{className:"sf-pro-display text-[17px] text-[#1D1D1F]",children:[v.size," ausgewhlt"]}),(0,o.jsx)("button",{onClick:()=>{console.log("TODO: Delete selected photos",Array.from(v))},className:"text-[17px] text-[#FF3B30] ios-tap-target",children:"Lschen"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(ah,{className:"w-5 h-5 text-[#30D158]"}),(0,o.jsx)("h1",{className:"sf-pro-display text-[20px] text-[#1D1D1F]",children:"Galerie"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsxs)("label",{className:"ios-tap-target cursor-pointer",children:[(0,o.jsx)(ac,{className:`w-6 h-6 ${C?"text-[#8E8E93] animate-pulse":"text-[#007AFF]"}`}),(0,o.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{Array.from(e.target.files||[]).forEach(e=>S(e))},className:"hidden",disabled:C})]}),(0,o.jsx)("button",{onClick:()=>c(!0),className:"ios-tap-target",children:(0,o.jsx)(aa,{className:"w-6 h-6 text-[#007AFF]"})}),(0,o.jsx)("button",{onClick:()=>f(!h),className:"ios-tap-target",children:(0,o.jsx)(al,{className:`w-6 h-6 ${p?"text-[#30D158]":"text-[#007AFF]"}`})})]})]})}),h&&(0,o.jsx)("div",{className:"bg-white border-b border-[#E5E5EA] px-4 py-3 shrink-0",children:(0,o.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1",children:[(0,o.jsx)("button",{onClick:()=>m(null),className:`px-4 py-1.5 rounded-full text-[15px] whitespace-nowrap shrink-0 ${null===p?"bg-[#007AFF] text-white":"bg-[#E5E5EA] text-[#1D1D1F]"}`,children:"Alle"}),[{id:"nature",label:"Natur"},{id:"architecture",label:"Architektur"},{id:"travel",label:"Reisen"},{id:"food",label:"Essen"},{id:"animals",label:"Tiere"},{id:"city",label:"Stadt"},{id:"landscape",label:"Landschaft"}].map(e=>(0,o.jsx)("button",{onClick:()=>m(e.id),className:`px-4 py-1.5 rounded-full text-[15px] whitespace-nowrap shrink-0 ${p===e.id?"bg-[#007AFF] text-white":"bg-[#E5E5EA] text-[#1D1D1F]"}`,children:e.label},e.id))]})}),(0,o.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[_.map(e=>(0,o.jsxs)("div",{className:"mb-2",children:[(0,o.jsx)("div",{className:"sticky top-0 bg-[#F2F2F7]/95 backdrop-blur-sm px-3 py-2 z-10",children:(0,o.jsx)("p",{className:"text-[13px] font-semibold text-[#6E6E73]",children:e.label})}),(0,o.jsx)("div",{className:"grid grid-cols-3 gap-[2px] px-[2px]",children:e.photos.map(e=>{let t=void 0!==e.metadata;return(0,o.jsxs)("button",{onClick:()=>{var t,r;return t=e.id,r=e.cid,void(y?x(e=>{let r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r}):(console.log("TODO: Show full photo from IPFS CID:",r),w(t)))},onTouchStart:()=>{var t;return t=e.id,void(E.current=setTimeout(()=>{g(!0),x(new Set([t]))},500))},onTouchEnd:F,onTouchCancel:F,onContextMenu:t=>{t.preventDefault(),g(!0),x(new Set([e.id]))},className:"relative aspect-square overflow-hidden bg-[#E5E5EA]",children:[t?(0,o.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#E5E5EA] to-[#C7C7CC]",children:(0,o.jsx)(ah,{className:"w-8 h-8 text-[#8E8E93]"})}):e.placeholderUrl?(0,o.jsx)("img",{src:e.placeholderUrl,alt:"",className:"w-full h-full object-cover",loading:"lazy"}):null,y&&(0,o.jsx)("div",{className:"absolute inset-0 bg-black/20",children:(0,o.jsx)("div",{className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${v.has(e.id)?"bg-[#007AFF] border-[#007AFF]":"border-white bg-black/30"}`,children:v.has(e.id)&&(0,o.jsx)(d,{className:"w-4 h-4 text-white"})})})]},e.id)})})]},e.date)),(0,o.jsxs)("div",{className:"text-center py-6 px-4",children:[(0,o.jsx)("p",{className:"text-[13px] text-[#8E8E93]",children:"Lange drcken zum Auswhlen  Tippen zum ffnen"}),(0,o.jsxs)("p",{className:"text-[11px] text-[#C7C7CC] mt-1",children:[N.length," Fotos verschlsselt gespeichert"]})]})]}),b&&(0,o.jsxs)("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[(0,o.jsxs)("header",{className:"h-[60px] flex items-center justify-between px-4 bg-black/80",children:[(0,o.jsx)("button",{onClick:()=>w(null),className:"ios-tap-target",children:(0,o.jsx)(au,{className:"w-6 h-6 text-white"})}),(0,o.jsxs)("span",{className:"text-[17px] text-white",children:["Foto ",N.findIndex(e=>e.id===b)+1," von"," ",N.length]}),(0,o.jsx)("div",{className:"w-10"})]}),(0,o.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(i=N.find(e=>e.id===b))?i.metadata?(0,o.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,o.jsx)(ah,{className:"w-16 h-16 text-white/60"}),(0,o.jsx)("p",{className:"text-white/80 text-center",children:"Entschlsselung wird implementiert..."})]}):i.placeholderUrl?(0,o.jsx)("img",{src:i.placeholderUrl,alt:"",className:"max-w-full max-h-full object-contain rounded-lg"}):null:null}),(0,o.jsx)("footer",{className:"h-[80px] flex items-center justify-center bg-black/80",children:(0,o.jsxs)("div",{className:"flex items-center gap-2 text-[13px] text-white/60",children:[(0,o.jsx)(ah,{className:"w-4 h-4"}),(0,o.jsx)("span",{children:"Ende-zu-Ende verschlsselt"})]})})]})]})}let am=h("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]),ay=h("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),ag=h("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),av=["beach","ocean","sunset","cloud","tree","river","mountain","forest","valley","lake","meadow","canyon"],ax={isOnboarded:!1,backupActive:!1,selectedPlan:"free",autoBackupEnabled:!0,backgroundBackupEnabled:!1,photosCount:2847,lastBackup:"vor 2 Stunden",permanence:99.9,encryptionKey:"",backupPhrase:av,devices:[{id:"1",name:"iPhone 14 Pro",lastActive:"Aktiv"},{id:"2",name:"MacBook Pro",lastActive:"Synchronisiert...",syncing:!0}],photoSource:"photos-app"};function ab(){let[e,t]=(0,a.useState)(ax),[r,n]=(0,a.useState)("onboarding"),[i,s]=(0,a.useState)(1),[l,u]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=setTimeout(()=>{"true"===localStorage.getItem("photovault_onboarded")&&(t(e=>({...e,isOnboarded:!0})),n("gallery")),u(!1)},2e3);return()=>clearTimeout(e)},[]),l)?(0,o.jsx)(s9,{}):"onboarding"===r?(0,o.jsx)("div",{className:"min-h-screen ios-bg-gray",children:(0,o.jsx)("div",{className:"max-w-[428px] mx-auto min-h-screen bg-[#F2F2F7]",children:(0,o.jsx)(oa,{state:e,setState:t,step:i,setStep:s,onComplete:()=>{localStorage.setItem("photovault_onboarded","true"),t(e=>({...e,isOnboarded:!0})),n("gallery"),console.log("Onboarding completed with state:",e)}})})}):(0,o.jsx)("div",{className:"min-h-screen ios-bg-gray",children:(0,o.jsxs)("div",{className:"max-w-[428px] mx-auto min-h-screen bg-[#F2F2F7] flex flex-col",children:[(0,o.jsxs)("div",{className:"flex-1 overflow-hidden pb-[80px]",children:["gallery"===r&&(0,o.jsx)(ap,{photosCount:e.photosCount}),"dashboard"===r&&(0,o.jsx)(o6,{state:e,setState:t}),"settings"===r&&(0,o.jsx)(at,{state:e,setState:t,onRestartOnboarding:()=>{console.log("TODO: Navigate to onboarding screen 1"),localStorage.removeItem("photovault_onboarded"),t(e=>({...e,isOnboarded:!1})),s(1),n("onboarding")}})]}),(0,o.jsx)(aw,{currentScreen:r,onNavigate:e=>{n(e)}})]})})}function aw({currentScreen:e,onNavigate:t}){return(0,o.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 h-[80px] bg-white border-t border-[#E5E5EA] flex items-start justify-around pt-2 pb-6 max-w-[428px] mx-auto",children:[{id:"gallery",label:"Galerie",icon:am},{id:"dashboard",label:"Backup",icon:ay},{id:"settings",label:"Einstellungen",icon:ag}].map(r=>{let n=r.icon,i=e===r.id;return(0,o.jsxs)("button",{onClick:()=>t(r.id),className:"flex flex-col items-center gap-1 ios-tap-target px-4",children:[(0,o.jsx)(n,{className:`w-6 h-6 ${i?"text-[#007AFF]":"text-[#6E6E73]"}`}),(0,o.jsx)("span",{className:`text-[10px] ${i?"text-[#007AFF]":"text-[#6E6E73]"}`,children:r.label})]},r.id)})})}}]);