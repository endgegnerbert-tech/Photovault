{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/context/global.mjs"],"sourcesContent":["//#region src/context/global.ts\nconst symbol = Symbol.for(\"better-auth:global\");\nlet bind = null;\nconst __context = {};\nconst __betterAuthVersion = \"1.4.17\";\n/**\n* We store context instance in the globalThis.\n*\n* The reason we do this is that some bundlers, web framework, or package managers might\n* create multiple copies of BetterAuth in the same process intentionally or unintentionally.\n*\n* For example, yarn v1, Next.js, SSR, Vite...\n*\n* @internal\n*/\nfunction __getBetterAuthGlobal() {\n\tif (!globalThis[symbol]) {\n\t\tglobalThis[symbol] = {\n\t\t\tversion: __betterAuthVersion,\n\t\t\tepoch: 1,\n\t\t\tcontext: __context\n\t\t};\n\t\tbind = globalThis[symbol];\n\t}\n\tbind = globalThis[symbol];\n\tif (bind.version !== __betterAuthVersion) {\n\t\tbind.version = __betterAuthVersion;\n\t\tbind.epoch++;\n\t}\n\treturn globalThis[symbol];\n}\nfunction getBetterAuthVersion() {\n\treturn __getBetterAuthGlobal().version;\n}\n\n//#endregion\nexport { __getBetterAuthGlobal, getBetterAuthVersion };"],"names":[],"mappings":";;;;;;AAAA,+BAA+B;AAC/B,MAAM,SAAS,OAAO,GAAG,CAAC;AAC1B,IAAI,OAAO;AACX,MAAM,YAAY,CAAC;AACnB,MAAM,sBAAsB;AAC5B;;;;;;;;;AASA,GACA,SAAS;IACR,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;QACxB,UAAU,CAAC,OAAO,GAAG;YACpB,SAAS;YACT,OAAO;YACP,SAAS;QACV;QACA,OAAO,UAAU,CAAC,OAAO;IAC1B;IACA,OAAO,UAAU,CAAC,OAAO;IACzB,IAAI,KAAK,OAAO,KAAK,qBAAqB;QACzC,KAAK,OAAO,GAAG;QACf,KAAK,KAAK;IACX;IACA,OAAO,UAAU,CAAC,OAAO;AAC1B;AACA,SAAS;IACR,OAAO,wBAAwB,OAAO;AACvC","ignoreList":[0]}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/async_hooks/index.mjs"],"sourcesContent":["//#region src/async_hooks/index.ts\nconst AsyncLocalStoragePromise = import(\n\t/* @vite-ignore */\n\t/* webpackIgnore: true */\n\t\"node:async_hooks\"\n).then((mod) => mod.AsyncLocalStorage).catch((err) => {\n\tif (\"AsyncLocalStorage\" in globalThis) return globalThis.AsyncLocalStorage;\n\tif (typeof window !== \"undefined\") return null;\n\tconsole.warn(\"[better-auth] Warning: AsyncLocalStorage is not available in this environment. Some features may not work as expected.\");\n\tconsole.warn(\"[better-auth] Please read more about this warning at https://better-auth.com/docs/installation#mount-handler\");\n\tconsole.warn(\"[better-auth] If you are using Cloudflare Workers, please see: https://developers.cloudflare.com/workers/configuration/compatibility-flags/#nodejs-compatibility-flag\");\n\tthrow err;\n});\nasync function getAsyncLocalStorage() {\n\tconst mod = await AsyncLocalStoragePromise;\n\tif (mod === null) throw new Error(\"getAsyncLocalStorage is only available in server code\");\n\telse return mod;\n}\n\n//#endregion\nexport { getAsyncLocalStorage };"],"names":[],"mappings":";;;;AAAA,kCAAkC;AAClC,MAAM,2BAA2B,MAAM,CACtC,gBAAgB,GAChB,uBAAuB,GACvB,oBACC,IAAI,CAAC,CAAC,MAAQ,IAAI,iBAAiB,EAAE,KAAK,CAAC,CAAC;IAC7C,IAAI,uBAAuB,YAAY,OAAO,WAAW,iBAAiB;IAC1E;;IACA,QAAQ,IAAI,CAAC;IACb,QAAQ,IAAI,CAAC;IACb,QAAQ,IAAI,CAAC;IACb,MAAM;AACP;AACA,eAAe;IACd,MAAM,MAAM,MAAM;IAClB,IAAI,QAAQ,MAAM,MAAM,IAAI,MAAM;SAC7B,OAAO;AACb","ignoreList":[0]}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/context/endpoint-context.mjs"],"sourcesContent":["import { __getBetterAuthGlobal } from \"./global.mjs\";\nimport { getAsyncLocalStorage } from \"@better-auth/core/async_hooks\";\n\n//#region src/context/endpoint-context.ts\nconst ensureAsyncStorage = async () => {\n\tconst betterAuthGlobal = __getBetterAuthGlobal();\n\tif (!betterAuthGlobal.context.endpointContextAsyncStorage) {\n\t\tconst AsyncLocalStorage$1 = await getAsyncLocalStorage();\n\t\tbetterAuthGlobal.context.endpointContextAsyncStorage = new AsyncLocalStorage$1();\n\t}\n\treturn betterAuthGlobal.context.endpointContextAsyncStorage;\n};\n/**\n* This is for internal use only. Most users should use `getCurrentAuthContext` instead.\n*\n* It is exposed for advanced use cases where you need direct access to the AsyncLocalStorage instance.\n*/\nasync function getCurrentAuthContextAsyncLocalStorage() {\n\treturn ensureAsyncStorage();\n}\nasync function getCurrentAuthContext() {\n\tconst context = (await ensureAsyncStorage()).getStore();\n\tif (!context) throw new Error(\"No auth context found. Please make sure you are calling this function within a `runWithEndpointContext` callback.\");\n\treturn context;\n}\nasync function runWithEndpointContext(context, fn) {\n\treturn (await ensureAsyncStorage()).run(context, fn);\n}\n\n//#endregion\nexport { getCurrentAuthContext, getCurrentAuthContextAsyncLocalStorage, runWithEndpointContext };"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEA,yCAAyC;AACzC,MAAM,qBAAqB;IAC1B,MAAM,mBAAmB,IAAA,iMAAqB;IAC9C,IAAI,CAAC,iBAAiB,OAAO,CAAC,2BAA2B,EAAE;QAC1D,MAAM,sBAAsB,MAAM,IAAA,mMAAoB;QACtD,iBAAiB,OAAO,CAAC,2BAA2B,GAAG,IAAI;IAC5D;IACA,OAAO,iBAAiB,OAAO,CAAC,2BAA2B;AAC5D;AACA;;;;AAIA,GACA,eAAe;IACd,OAAO;AACR;AACA,eAAe;IACd,MAAM,UAAU,CAAC,MAAM,oBAAoB,EAAE,QAAQ;IACrD,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACR;AACA,eAAe,uBAAuB,OAAO,EAAE,EAAE;IAChD,OAAO,CAAC,MAAM,oBAAoB,EAAE,GAAG,CAAC,SAAS;AAClD","ignoreList":[0]}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/context/request-state.mjs"],"sourcesContent":["import { __getBetterAuthGlobal } from \"./global.mjs\";\nimport { getAsyncLocalStorage } from \"@better-auth/core/async_hooks\";\n\n//#region src/context/request-state.ts\nconst ensureAsyncStorage = async () => {\n\tconst betterAuthGlobal = __getBetterAuthGlobal();\n\tif (!betterAuthGlobal.context.requestStateAsyncStorage) {\n\t\tconst AsyncLocalStorage$1 = await getAsyncLocalStorage();\n\t\tbetterAuthGlobal.context.requestStateAsyncStorage = new AsyncLocalStorage$1();\n\t}\n\treturn betterAuthGlobal.context.requestStateAsyncStorage;\n};\nasync function getRequestStateAsyncLocalStorage() {\n\treturn ensureAsyncStorage();\n}\nasync function hasRequestState() {\n\treturn (await ensureAsyncStorage()).getStore() !== void 0;\n}\nasync function getCurrentRequestState() {\n\tconst store = (await ensureAsyncStorage()).getStore();\n\tif (!store) throw new Error(\"No request state found. Please make sure you are calling this function within a `runWithRequestState` callback.\");\n\treturn store;\n}\nasync function runWithRequestState(store, fn) {\n\treturn (await ensureAsyncStorage()).run(store, fn);\n}\nfunction defineRequestState(initFn) {\n\tconst ref = Object.freeze({});\n\treturn {\n\t\tget ref() {\n\t\t\treturn ref;\n\t\t},\n\t\tasync get() {\n\t\t\tconst store = await getCurrentRequestState();\n\t\t\tif (!store.has(ref)) {\n\t\t\t\tconst initialValue = await initFn();\n\t\t\t\tstore.set(ref, initialValue);\n\t\t\t\treturn initialValue;\n\t\t\t}\n\t\t\treturn store.get(ref);\n\t\t},\n\t\tasync set(value) {\n\t\t\t(await getCurrentRequestState()).set(ref, value);\n\t\t}\n\t};\n}\n\n//#endregion\nexport { defineRequestState, getCurrentRequestState, getRequestStateAsyncLocalStorage, hasRequestState, runWithRequestState };"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAEA,sCAAsC;AACtC,MAAM,qBAAqB;IAC1B,MAAM,mBAAmB,IAAA,iMAAqB;IAC9C,IAAI,CAAC,iBAAiB,OAAO,CAAC,wBAAwB,EAAE;QACvD,MAAM,sBAAsB,MAAM,IAAA,mMAAoB;QACtD,iBAAiB,OAAO,CAAC,wBAAwB,GAAG,IAAI;IACzD;IACA,OAAO,iBAAiB,OAAO,CAAC,wBAAwB;AACzD;AACA,eAAe;IACd,OAAO;AACR;AACA,eAAe;IACd,OAAO,CAAC,MAAM,oBAAoB,EAAE,QAAQ,OAAO,KAAK;AACzD;AACA,eAAe;IACd,MAAM,QAAQ,CAAC,MAAM,oBAAoB,EAAE,QAAQ;IACnD,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;IAC5B,OAAO;AACR;AACA,eAAe,oBAAoB,KAAK,EAAE,EAAE;IAC3C,OAAO,CAAC,MAAM,oBAAoB,EAAE,GAAG,CAAC,OAAO;AAChD;AACA,SAAS,mBAAmB,MAAM;IACjC,MAAM,MAAM,OAAO,MAAM,CAAC,CAAC;IAC3B,OAAO;QACN,IAAI,OAAM;YACT,OAAO;QACR;QACA,MAAM;YACL,MAAM,QAAQ,MAAM;YACpB,IAAI,CAAC,MAAM,GAAG,CAAC,MAAM;gBACpB,MAAM,eAAe,MAAM;gBAC3B,MAAM,GAAG,CAAC,KAAK;gBACf,OAAO;YACR;YACA,OAAO,MAAM,GAAG,CAAC;QAClB;QACA,MAAM,KAAI,KAAK;YACd,CAAC,MAAM,wBAAwB,EAAE,GAAG,CAAC,KAAK;QAC3C;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/context/transaction.mjs"],"sourcesContent":["import { __getBetterAuthGlobal } from \"./global.mjs\";\nimport { getAsyncLocalStorage } from \"@better-auth/core/async_hooks\";\n\n//#region src/context/transaction.ts\nconst ensureAsyncStorage = async () => {\n\tconst betterAuthGlobal = __getBetterAuthGlobal();\n\tif (!betterAuthGlobal.context.adapterAsyncStorage) {\n\t\tconst AsyncLocalStorage$1 = await getAsyncLocalStorage();\n\t\tbetterAuthGlobal.context.adapterAsyncStorage = new AsyncLocalStorage$1();\n\t}\n\treturn betterAuthGlobal.context.adapterAsyncStorage;\n};\n/**\n* This is for internal use only. Most users should use `getCurrentAdapter` instead.\n*\n* It is exposed for advanced use cases where you need direct access to the AsyncLocalStorage instance.\n*/\nconst getCurrentDBAdapterAsyncLocalStorage = async () => {\n\treturn ensureAsyncStorage();\n};\nconst getCurrentAdapter = async (fallback) => {\n\treturn ensureAsyncStorage().then((als) => {\n\t\treturn als.getStore() || fallback;\n\t}).catch(() => {\n\t\treturn fallback;\n\t});\n};\nconst runWithAdapter = async (adapter, fn) => {\n\tlet called = true;\n\treturn ensureAsyncStorage().then((als) => {\n\t\tcalled = true;\n\t\treturn als.run(adapter, fn);\n\t}).catch((err) => {\n\t\tif (!called) return fn();\n\t\tthrow err;\n\t});\n};\nconst runWithTransaction = async (adapter, fn) => {\n\tlet called = true;\n\treturn ensureAsyncStorage().then((als) => {\n\t\tcalled = true;\n\t\treturn adapter.transaction(async (trx) => {\n\t\t\treturn als.run(trx, fn);\n\t\t});\n\t}).catch((err) => {\n\t\tif (!called) return fn();\n\t\tthrow err;\n\t});\n};\n\n//#endregion\nexport { getCurrentAdapter, getCurrentDBAdapterAsyncLocalStorage, runWithAdapter, runWithTransaction };"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEA,oCAAoC;AACpC,MAAM,qBAAqB;IAC1B,MAAM,mBAAmB,IAAA,iMAAqB;IAC9C,IAAI,CAAC,iBAAiB,OAAO,CAAC,mBAAmB,EAAE;QAClD,MAAM,sBAAsB,MAAM,IAAA,mMAAoB;QACtD,iBAAiB,OAAO,CAAC,mBAAmB,GAAG,IAAI;IACpD;IACA,OAAO,iBAAiB,OAAO,CAAC,mBAAmB;AACpD;AACA;;;;AAIA,GACA,MAAM,uCAAuC;IAC5C,OAAO;AACR;AACA,MAAM,oBAAoB,OAAO;IAChC,OAAO,qBAAqB,IAAI,CAAC,CAAC;QACjC,OAAO,IAAI,QAAQ,MAAM;IAC1B,GAAG,KAAK,CAAC;QACR,OAAO;IACR;AACD;AACA,MAAM,iBAAiB,OAAO,SAAS;IACtC,IAAI,SAAS;IACb,OAAO,qBAAqB,IAAI,CAAC,CAAC;QACjC,SAAS;QACT,OAAO,IAAI,GAAG,CAAC,SAAS;IACzB,GAAG,KAAK,CAAC,CAAC;QACT;;QACA,MAAM;IACP;AACD;AACA,MAAM,qBAAqB,OAAO,SAAS;IAC1C,IAAI,SAAS;IACb,OAAO,qBAAqB,IAAI,CAAC,CAAC;QACjC,SAAS;QACT,OAAO,QAAQ,WAAW,CAAC,OAAO;YACjC,OAAO,IAAI,GAAG,CAAC,KAAK;QACrB;IACD,GAAG,KAAK,CAAC,CAAC;QACT;;QACA,MAAM;IACP;AACD","ignoreList":[0]}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/context/index.mjs"],"sourcesContent":["import { getBetterAuthVersion } from \"./global.mjs\";\nimport { getCurrentAuthContext, getCurrentAuthContextAsyncLocalStorage, runWithEndpointContext } from \"./endpoint-context.mjs\";\nimport { defineRequestState, getCurrentRequestState, getRequestStateAsyncLocalStorage, hasRequestState, runWithRequestState } from \"./request-state.mjs\";\nimport { getCurrentAdapter, getCurrentDBAdapterAsyncLocalStorage, runWithAdapter, runWithTransaction } from \"./transaction.mjs\";\n\nexport { defineRequestState, getBetterAuthVersion, getCurrentAdapter, getCurrentAuthContext, getCurrentAuthContextAsyncLocalStorage, getCurrentDBAdapterAsyncLocalStorage, getCurrentRequestState, getRequestStateAsyncLocalStorage, hasRequestState, runWithAdapter, runWithEndpointContext, runWithRequestState, runWithTransaction };"],"names":[],"mappings":";AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/utils/error-codes.mjs"],"sourcesContent":["//#region src/utils/error-codes.ts\nfunction defineErrorCodes(codes) {\n\treturn codes;\n}\n\n//#endregion\nexport { defineErrorCodes };"],"names":[],"mappings":";;;;AAAA,kCAAkC;AAClC,SAAS,iBAAiB,KAAK;IAC9B,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/utils/deprecate.mjs"],"sourcesContent":["//#region src/utils/deprecate.ts\n/**\n* Wraps a function to log a deprecation warning at once.\n*/\nfunction deprecate(fn, message, logger) {\n\tlet warned = false;\n\treturn function(...args) {\n\t\tif (!warned) {\n\t\t\t(logger?.warn ?? console.warn)(`[Deprecation] ${message}`);\n\t\t\twarned = true;\n\t\t}\n\t\treturn fn.apply(this, args);\n\t};\n}\n\n//#endregion\nexport { deprecate };"],"names":[],"mappings":";;;;AAAA,gCAAgC;AAChC;;AAEA,GACA,SAAS,UAAU,EAAE,EAAE,OAAO,EAAE,MAAM;IACrC,IAAI,SAAS;IACb,OAAO,SAAS,GAAG,IAAI;QACtB,IAAI,CAAC,QAAQ;YACZ,CAAC,QAAQ,QAAQ,QAAQ,IAAI,EAAE,CAAC,cAAc,EAAE,SAAS;YACzD,SAAS;QACV;QACA,OAAO,GAAG,KAAK,CAAC,IAAI,EAAE;IACvB;AACD","ignoreList":[0]}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/utils/id.mjs"],"sourcesContent":["import { createRandomStringGenerator } from \"@better-auth/utils/random\";\n\n//#region src/utils/id.ts\nconst generateId = (size) => {\n\treturn createRandomStringGenerator(\"a-z\", \"A-Z\", \"0-9\")(size || 32);\n};\n\n//#endregion\nexport { generateId };"],"names":[],"mappings":";;;;AAAA;;AAEA,yBAAyB;AACzB,MAAM,aAAa,CAAC;IACnB,OAAO,IAAA,6LAA2B,EAAC,OAAO,OAAO,OAAO,QAAQ;AACjE","ignoreList":[0]}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/utils/ip.mjs"],"sourcesContent":["import * as z from \"zod\";\n\n//#region src/utils/ip.ts\n/**\n* Checks if an IP is valid IPv4 or IPv6\n*/\nfunction isValidIP(ip) {\n\treturn z.ipv4().safeParse(ip).success || z.ipv6().safeParse(ip).success;\n}\n/**\n* Checks if an IP is IPv6\n*/\nfunction isIPv6(ip) {\n\treturn z.ipv6().safeParse(ip).success;\n}\n/**\n* Converts IPv4-mapped IPv6 address to IPv4\n* e.g., \"::ffff:192.0.2.1\" -> \"192.0.2.1\"\n*/\nfunction extractIPv4FromMapped(ipv6) {\n\tconst lower = ipv6.toLowerCase();\n\tif (lower.startsWith(\"::ffff:\")) {\n\t\tconst ipv4Part = lower.substring(7);\n\t\tif (z.ipv4().safeParse(ipv4Part).success) return ipv4Part;\n\t}\n\tconst parts = ipv6.split(\":\");\n\tif (parts.length === 7 && parts[5]?.toLowerCase() === \"ffff\") {\n\t\tconst ipv4Part = parts[6];\n\t\tif (ipv4Part && z.ipv4().safeParse(ipv4Part).success) return ipv4Part;\n\t}\n\tif (lower.includes(\"::ffff:\") || lower.includes(\":ffff:\")) {\n\t\tconst groups = expandIPv6(ipv6);\n\t\tif (groups.length === 8 && groups[0] === \"0000\" && groups[1] === \"0000\" && groups[2] === \"0000\" && groups[3] === \"0000\" && groups[4] === \"0000\" && groups[5] === \"ffff\" && groups[6] && groups[7]) return `${Number.parseInt(groups[6].substring(0, 2), 16)}.${Number.parseInt(groups[6].substring(2, 4), 16)}.${Number.parseInt(groups[7].substring(0, 2), 16)}.${Number.parseInt(groups[7].substring(2, 4), 16)}`;\n\t}\n\treturn null;\n}\n/**\n* Expands a compressed IPv6 address to full form\n* e.g., \"2001:db8::1\" -> [\"2001\", \"0db8\", \"0000\", \"0000\", \"0000\", \"0000\", \"0000\", \"0001\"]\n*/\nfunction expandIPv6(ipv6) {\n\tif (ipv6.includes(\"::\")) {\n\t\tconst sides = ipv6.split(\"::\");\n\t\tconst left = sides[0] ? sides[0].split(\":\") : [];\n\t\tconst right = sides[1] ? sides[1].split(\":\") : [];\n\t\tconst missingGroups = 8 - left.length - right.length;\n\t\tconst zeros = Array(missingGroups).fill(\"0000\");\n\t\tconst paddedLeft = left.map((g) => g.padStart(4, \"0\"));\n\t\tconst paddedRight = right.map((g) => g.padStart(4, \"0\"));\n\t\treturn [\n\t\t\t...paddedLeft,\n\t\t\t...zeros,\n\t\t\t...paddedRight\n\t\t];\n\t}\n\treturn ipv6.split(\":\").map((g) => g.padStart(4, \"0\"));\n}\n/**\n* Normalizes an IPv6 address to canonical form\n* e.g., \"2001:DB8::1\" -> \"2001:0db8:0000:0000:0000:0000:0000:0001\"\n*/\nfunction normalizeIPv6(ipv6, subnetPrefix) {\n\tconst groups = expandIPv6(ipv6);\n\tif (subnetPrefix && subnetPrefix < 128) {\n\t\tlet bitsRemaining = subnetPrefix;\n\t\treturn groups.map((group) => {\n\t\t\tif (bitsRemaining <= 0) return \"0000\";\n\t\t\tif (bitsRemaining >= 16) {\n\t\t\t\tbitsRemaining -= 16;\n\t\t\t\treturn group;\n\t\t\t}\n\t\t\tconst masked = Number.parseInt(group, 16) & (65535 << 16 - bitsRemaining & 65535);\n\t\t\tbitsRemaining = 0;\n\t\t\treturn masked.toString(16).padStart(4, \"0\");\n\t\t}).join(\":\").toLowerCase();\n\t}\n\treturn groups.join(\":\").toLowerCase();\n}\n/**\n* Normalizes an IP address (IPv4 or IPv6) for consistent rate limiting.\n*\n* @param ip - The IP address to normalize\n* @param options - Normalization options\n* @returns Normalized IP address\n*\n* @example\n* normalizeIP(\"2001:DB8::1\")\n* // -> \"2001:0db8:0000:0000:0000:0000:0000:0000\"\n*\n* @example\n* normalizeIP(\"::ffff:192.0.2.1\")\n* // -> \"192.0.2.1\" (converted to IPv4)\n*\n* @example\n* normalizeIP(\"2001:db8::1\", { ipv6Subnet: 64 })\n* // -> \"2001:0db8:0000:0000:0000:0000:0000:0000\" (subnet /64)\n*/\nfunction normalizeIP(ip, options = {}) {\n\tif (z.ipv4().safeParse(ip).success) return ip.toLowerCase();\n\tif (!isIPv6(ip)) return ip.toLowerCase();\n\tconst ipv4 = extractIPv4FromMapped(ip);\n\tif (ipv4) return ipv4.toLowerCase();\n\treturn normalizeIPv6(ip, options.ipv6Subnet || 64);\n}\n/**\n* Creates a rate limit key from IP and path\n* Uses a separator to prevent collision attacks\n*\n* @param ip - The IP address (should be normalized)\n* @param path - The request path\n* @returns Rate limit key\n*/\nfunction createRateLimitKey(ip, path) {\n\treturn `${ip}|${path}`;\n}\n\n//#endregion\nexport { createRateLimitKey, isValidIP, normalizeIP };"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/env/env-impl.mjs"],"sourcesContent":["//#region src/env/env-impl.ts\nconst _envShim = Object.create(null);\nconst _getEnv = (useShim) => globalThis.process?.env || globalThis.Deno?.env.toObject() || globalThis.__env__ || (useShim ? _envShim : globalThis);\nconst env = new Proxy(_envShim, {\n\tget(_, prop) {\n\t\treturn _getEnv()[prop] ?? _envShim[prop];\n\t},\n\thas(_, prop) {\n\t\treturn prop in _getEnv() || prop in _envShim;\n\t},\n\tset(_, prop, value) {\n\t\tconst env$1 = _getEnv(true);\n\t\tenv$1[prop] = value;\n\t\treturn true;\n\t},\n\tdeleteProperty(_, prop) {\n\t\tif (!prop) return false;\n\t\tconst env$1 = _getEnv(true);\n\t\tdelete env$1[prop];\n\t\treturn true;\n\t},\n\townKeys() {\n\t\tconst env$1 = _getEnv(true);\n\t\treturn Object.keys(env$1);\n\t}\n});\nfunction toBoolean(val) {\n\treturn val ? val !== \"false\" : false;\n}\nconst nodeENV = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV || \"\";\n/** Detect if `NODE_ENV` environment variable is `production` */\nconst isProduction = nodeENV === \"production\";\n/** Detect if `NODE_ENV` environment variable is `dev` or `development` */\nconst isDevelopment = () => nodeENV === \"dev\" || nodeENV === \"development\";\n/** Detect if `NODE_ENV` environment variable is `test` */\nconst isTest = () => nodeENV === \"test\" || toBoolean(env.TEST);\n/**\n* Get environment variable with fallback\n*/\nfunction getEnvVar(key, fallback) {\n\tif (typeof process !== \"undefined\" && process.env) return process.env[key] ?? fallback;\n\tif (typeof Deno !== \"undefined\") return Deno.env.get(key) ?? fallback;\n\tif (typeof Bun !== \"undefined\") return Bun.env[key] ?? fallback;\n\treturn fallback;\n}\n/**\n* Get boolean environment variable\n*/\nfunction getBooleanEnvVar(key, fallback = true) {\n\tconst value = getEnvVar(key);\n\tif (!value) return fallback;\n\treturn value !== \"0\" && value.toLowerCase() !== \"false\" && value !== \"\";\n}\n/**\n* Common environment variables used in Better Auth\n*/\nconst ENV = Object.freeze({\n\tget BETTER_AUTH_SECRET() {\n\t\treturn getEnvVar(\"BETTER_AUTH_SECRET\");\n\t},\n\tget AUTH_SECRET() {\n\t\treturn getEnvVar(\"AUTH_SECRET\");\n\t},\n\tget BETTER_AUTH_TELEMETRY() {\n\t\treturn getEnvVar(\"BETTER_AUTH_TELEMETRY\");\n\t},\n\tget BETTER_AUTH_TELEMETRY_ID() {\n\t\treturn getEnvVar(\"BETTER_AUTH_TELEMETRY_ID\");\n\t},\n\tget NODE_ENV() {\n\t\treturn getEnvVar(\"NODE_ENV\", \"development\");\n\t},\n\tget PACKAGE_VERSION() {\n\t\treturn getEnvVar(\"PACKAGE_VERSION\", \"0.0.0\");\n\t},\n\tget BETTER_AUTH_TELEMETRY_ENDPOINT() {\n\t\treturn getEnvVar(\"BETTER_AUTH_TELEMETRY_ENDPOINT\", \"https://telemetry.better-auth.com/v1/track\");\n\t}\n});\n\n//#endregion\nexport { ENV, env, getBooleanEnvVar, getEnvVar, isDevelopment, isProduction, isTest, nodeENV };"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,6BAA6B;AAC7B,MAAM,WAAW,OAAO,MAAM,CAAC;AAC/B,MAAM,UAAU,CAAC,UAAY,WAAW,OAAO,EAAE,OAAO,WAAW,IAAI,EAAE,IAAI,cAAc,WAAW,OAAO,IAAI,CAAC,UAAU,WAAW,UAAU;AACjJ,MAAM,MAAM,IAAI,MAAM,UAAU;IAC/B,KAAI,CAAC,EAAE,IAAI;QACV,OAAO,SAAS,CAAC,KAAK,IAAI,QAAQ,CAAC,KAAK;IACzC;IACA,KAAI,CAAC,EAAE,IAAI;QACV,OAAO,QAAQ,aAAa,QAAQ;IACrC;IACA,KAAI,CAAC,EAAE,IAAI,EAAE,KAAK;QACjB,MAAM,QAAQ,QAAQ;QACtB,KAAK,CAAC,KAAK,GAAG;QACd,OAAO;IACR;IACA,gBAAe,CAAC,EAAE,IAAI;QACrB,IAAI,CAAC,MAAM,OAAO;QAClB,MAAM,QAAQ,QAAQ;QACtB,OAAO,KAAK,CAAC,KAAK;QAClB,OAAO;IACR;IACA;QACC,MAAM,QAAQ,QAAQ;QACtB,OAAO,OAAO,IAAI,CAAC;IACpB;AACD;AACA,SAAS,UAAU,GAAG;IACrB,OAAO,MAAM,QAAQ,UAAU;AAChC;AACA,MAAM,UAAU,OAAO,YAAY,eAAe,QAAQ,GAAG,uDAA4B;AACzF,8DAA8D,GAC9D,MAAM,eAAe,YAAY;AACjC,wEAAwE,GACxE,MAAM,gBAAgB,IAAM,YAAY,SAAS,YAAY;AAC7D,wDAAwD,GACxD,MAAM,SAAS,IAAM,YAAY,UAAU,UAAU,IAAI,IAAI;AAC7D;;AAEA,GACA,SAAS,UAAU,GAAG,EAAE,QAAQ;IAC/B,IAAI,OAAO,YAAY,eAAe,QAAQ,GAAG,EAAE,OAAO,QAAQ,GAAG,CAAC,IAAI,IAAI;IAC9E,IAAI,OAAO,SAAS,aAAa,OAAO,KAAK,GAAG,CAAC,GAAG,CAAC,QAAQ;IAC7D,IAAI,OAAO,QAAQ,aAAa,OAAO,IAAI,GAAG,CAAC,IAAI,IAAI;IACvD,OAAO;AACR;AACA;;AAEA,GACA,SAAS,iBAAiB,GAAG,EAAE,WAAW,IAAI;IAC7C,MAAM,QAAQ,UAAU;IACxB,IAAI,CAAC,OAAO,OAAO;IACnB,OAAO,UAAU,OAAO,MAAM,WAAW,OAAO,WAAW,UAAU;AACtE;AACA;;AAEA,GACA,MAAM,MAAM,OAAO,MAAM,CAAC;IACzB,IAAI,sBAAqB;QACxB,OAAO,UAAU;IAClB;IACA,IAAI,eAAc;QACjB,OAAO,UAAU;IAClB;IACA,IAAI,yBAAwB;QAC3B,OAAO,UAAU;IAClB;IACA,IAAI,4BAA2B;QAC9B,OAAO,UAAU;IAClB;IACA,IAAI,YAAW;QACd,OAAO,UAAU,YAAY;IAC9B;IACA,IAAI,mBAAkB;QACrB,OAAO,UAAU,mBAAmB;IACrC;IACA,IAAI,kCAAiC;QACpC,OAAO,UAAU,kCAAkC;IACpD;AACD","ignoreList":[0]}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/env/color-depth.mjs"],"sourcesContent":["import { env, getEnvVar } from \"./env-impl.mjs\";\n\n//#region src/env/color-depth.ts\nconst COLORS_2 = 1;\nconst COLORS_16 = 4;\nconst COLORS_256 = 8;\nconst COLORS_16m = 24;\nconst TERM_ENVS = {\n\teterm: COLORS_16,\n\tcons25: COLORS_16,\n\tconsole: COLORS_16,\n\tcygwin: COLORS_16,\n\tdtterm: COLORS_16,\n\tgnome: COLORS_16,\n\thurd: COLORS_16,\n\tjfbterm: COLORS_16,\n\tkonsole: COLORS_16,\n\tkterm: COLORS_16,\n\tmlterm: COLORS_16,\n\tmosh: COLORS_16m,\n\tputty: COLORS_16,\n\tst: COLORS_16,\n\t\"rxvt-unicode-24bit\": COLORS_16m,\n\tterminator: COLORS_16m,\n\t\"xterm-kitty\": COLORS_16m\n};\nconst CI_ENVS_MAP = new Map(Object.entries({\n\tAPPVEYOR: COLORS_256,\n\tBUILDKITE: COLORS_256,\n\tCIRCLECI: COLORS_16m,\n\tDRONE: COLORS_256,\n\tGITEA_ACTIONS: COLORS_16m,\n\tGITHUB_ACTIONS: COLORS_16m,\n\tGITLAB_CI: COLORS_256,\n\tTRAVIS: COLORS_256\n}));\nconst TERM_ENVS_REG_EXP = [\n\t/ansi/,\n\t/color/,\n\t/linux/,\n\t/direct/,\n\t/^con[0-9]*x[0-9]/,\n\t/^rxvt/,\n\t/^screen/,\n\t/^xterm/,\n\t/^vt100/,\n\t/^vt220/\n];\nfunction getColorDepth() {\n\tif (getEnvVar(\"FORCE_COLOR\") !== void 0) switch (getEnvVar(\"FORCE_COLOR\")) {\n\t\tcase \"\":\n\t\tcase \"1\":\n\t\tcase \"true\": return COLORS_16;\n\t\tcase \"2\": return COLORS_256;\n\t\tcase \"3\": return COLORS_16m;\n\t\tdefault: return COLORS_2;\n\t}\n\tif (getEnvVar(\"NODE_DISABLE_COLORS\") !== void 0 && getEnvVar(\"NODE_DISABLE_COLORS\") !== \"\" || getEnvVar(\"NO_COLOR\") !== void 0 && getEnvVar(\"NO_COLOR\") !== \"\" || getEnvVar(\"TERM\") === \"dumb\") return COLORS_2;\n\tif (getEnvVar(\"TMUX\")) return COLORS_16m;\n\tif (\"TF_BUILD\" in env && \"AGENT_NAME\" in env) return COLORS_16;\n\tif (\"CI\" in env) {\n\t\tfor (const { 0: envName, 1: colors } of CI_ENVS_MAP) if (envName in env) return colors;\n\t\tif (getEnvVar(\"CI_NAME\") === \"codeship\") return COLORS_256;\n\t\treturn COLORS_2;\n\t}\n\tif (\"TEAMCITY_VERSION\" in env) return /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.exec(getEnvVar(\"TEAMCITY_VERSION\")) !== null ? COLORS_16 : COLORS_2;\n\tswitch (getEnvVar(\"TERM_PROGRAM\")) {\n\t\tcase \"iTerm.app\":\n\t\t\tif (!getEnvVar(\"TERM_PROGRAM_VERSION\") || /^[0-2]\\./.exec(getEnvVar(\"TERM_PROGRAM_VERSION\")) !== null) return COLORS_256;\n\t\t\treturn COLORS_16m;\n\t\tcase \"HyperTerm\":\n\t\tcase \"MacTerm\": return COLORS_16m;\n\t\tcase \"Apple_Terminal\": return COLORS_256;\n\t}\n\tif (getEnvVar(\"COLORTERM\") === \"truecolor\" || getEnvVar(\"COLORTERM\") === \"24bit\") return COLORS_16m;\n\tif (getEnvVar(\"TERM\")) {\n\t\tif (/truecolor/.exec(getEnvVar(\"TERM\")) !== null) return COLORS_16m;\n\t\tif (/^xterm-256/.exec(getEnvVar(\"TERM\")) !== null) return COLORS_256;\n\t\tconst termEnv = getEnvVar(\"TERM\").toLowerCase();\n\t\tif (TERM_ENVS[termEnv]) return TERM_ENVS[termEnv];\n\t\tif (TERM_ENVS_REG_EXP.some((term) => term.exec(termEnv) !== null)) return COLORS_16;\n\t}\n\tif (getEnvVar(\"COLORTERM\")) return COLORS_16;\n\treturn COLORS_2;\n}\n\n//#endregion\nexport { getColorDepth };"],"names":[],"mappings":";;;;AAAA;;AAEA,gCAAgC;AAChC,MAAM,WAAW;AACjB,MAAM,YAAY;AAClB,MAAM,aAAa;AACnB,MAAM,aAAa;AACnB,MAAM,YAAY;IACjB,OAAO;IACP,QAAQ;IACR,SAAS;IACT,QAAQ;IACR,QAAQ;IACR,OAAO;IACP,MAAM;IACN,SAAS;IACT,SAAS;IACT,OAAO;IACP,QAAQ;IACR,MAAM;IACN,OAAO;IACP,IAAI;IACJ,sBAAsB;IACtB,YAAY;IACZ,eAAe;AAChB;AACA,MAAM,cAAc,IAAI,IAAI,OAAO,OAAO,CAAC;IAC1C,UAAU;IACV,WAAW;IACX,UAAU;IACV,OAAO;IACP,eAAe;IACf,gBAAgB;IAChB,WAAW;IACX,QAAQ;AACT;AACA,MAAM,oBAAoB;IACzB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACA;AACD,SAAS;IACR,IAAI,IAAA,sLAAS,EAAC,mBAAmB,KAAK,GAAG,OAAQ,IAAA,sLAAS,EAAC;QAC1D,KAAK;QACL,KAAK;QACL,KAAK;YAAQ,OAAO;QACpB,KAAK;YAAK,OAAO;QACjB,KAAK;YAAK,OAAO;QACjB;YAAS,OAAO;IACjB;IACA,IAAI,IAAA,sLAAS,EAAC,2BAA2B,KAAK,KAAK,IAAA,sLAAS,EAAC,2BAA2B,MAAM,IAAA,sLAAS,EAAC,gBAAgB,KAAK,KAAK,IAAA,sLAAS,EAAC,gBAAgB,MAAM,IAAA,sLAAS,EAAC,YAAY,QAAQ,OAAO;IACvM,IAAI,IAAA,sLAAS,EAAC,SAAS,OAAO;IAC9B,IAAI,cAAc,gLAAG,IAAI,gBAAgB,gLAAG,EAAE,OAAO;IACrD,IAAI,QAAQ,gLAAG,EAAE;QAChB,KAAK,MAAM,EAAE,GAAG,OAAO,EAAE,GAAG,MAAM,EAAE,IAAI,YAAa,IAAI,WAAW,gLAAG,EAAE,OAAO;QAChF,IAAI,IAAA,sLAAS,EAAC,eAAe,YAAY,OAAO;QAChD,OAAO;IACR;IACA,IAAI,sBAAsB,gLAAG,EAAE,OAAO,gCAAgC,IAAI,CAAC,IAAA,sLAAS,EAAC,yBAAyB,OAAO,YAAY;IACjI,OAAQ,IAAA,sLAAS,EAAC;QACjB,KAAK;YACJ,IAAI,CAAC,IAAA,sLAAS,EAAC,2BAA2B,WAAW,IAAI,CAAC,IAAA,sLAAS,EAAC,6BAA6B,MAAM,OAAO;YAC9G,OAAO;QACR,KAAK;QACL,KAAK;YAAW,OAAO;QACvB,KAAK;YAAkB,OAAO;IAC/B;IACA,IAAI,IAAA,sLAAS,EAAC,iBAAiB,eAAe,IAAA,sLAAS,EAAC,iBAAiB,SAAS,OAAO;IACzF,IAAI,IAAA,sLAAS,EAAC,SAAS;QACtB,IAAI,YAAY,IAAI,CAAC,IAAA,sLAAS,EAAC,aAAa,MAAM,OAAO;QACzD,IAAI,aAAa,IAAI,CAAC,IAAA,sLAAS,EAAC,aAAa,MAAM,OAAO;QAC1D,MAAM,UAAU,IAAA,sLAAS,EAAC,QAAQ,WAAW;QAC7C,IAAI,SAAS,CAAC,QAAQ,EAAE,OAAO,SAAS,CAAC,QAAQ;QACjD,IAAI,kBAAkB,IAAI,CAAC,CAAC,OAAS,KAAK,IAAI,CAAC,aAAa,OAAO,OAAO;IAC3E;IACA,IAAI,IAAA,sLAAS,EAAC,cAAc,OAAO;IACnC,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 624, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/env/logger.mjs"],"sourcesContent":["import { getColorDepth } from \"./color-depth.mjs\";\n\n//#region src/env/logger.ts\nconst TTY_COLORS = {\n\treset: \"\\x1B[0m\",\n\tbright: \"\\x1B[1m\",\n\tdim: \"\\x1B[2m\",\n\tundim: \"\\x1B[22m\",\n\tunderscore: \"\\x1B[4m\",\n\tblink: \"\\x1B[5m\",\n\treverse: \"\\x1B[7m\",\n\thidden: \"\\x1B[8m\",\n\tfg: {\n\t\tblack: \"\\x1B[30m\",\n\t\tred: \"\\x1B[31m\",\n\t\tgreen: \"\\x1B[32m\",\n\t\tyellow: \"\\x1B[33m\",\n\t\tblue: \"\\x1B[34m\",\n\t\tmagenta: \"\\x1B[35m\",\n\t\tcyan: \"\\x1B[36m\",\n\t\twhite: \"\\x1B[37m\"\n\t},\n\tbg: {\n\t\tblack: \"\\x1B[40m\",\n\t\tred: \"\\x1B[41m\",\n\t\tgreen: \"\\x1B[42m\",\n\t\tyellow: \"\\x1B[43m\",\n\t\tblue: \"\\x1B[44m\",\n\t\tmagenta: \"\\x1B[45m\",\n\t\tcyan: \"\\x1B[46m\",\n\t\twhite: \"\\x1B[47m\"\n\t}\n};\nconst levels = [\n\t\"debug\",\n\t\"info\",\n\t\"success\",\n\t\"warn\",\n\t\"error\"\n];\nfunction shouldPublishLog(currentLogLevel, logLevel) {\n\treturn levels.indexOf(logLevel) >= levels.indexOf(currentLogLevel);\n}\nconst levelColors = {\n\tinfo: TTY_COLORS.fg.blue,\n\tsuccess: TTY_COLORS.fg.green,\n\twarn: TTY_COLORS.fg.yellow,\n\terror: TTY_COLORS.fg.red,\n\tdebug: TTY_COLORS.fg.magenta\n};\nconst formatMessage = (level, message, colorsEnabled) => {\n\tconst timestamp = (/* @__PURE__ */ new Date()).toISOString();\n\tif (colorsEnabled) return `${TTY_COLORS.dim}${timestamp}${TTY_COLORS.reset} ${levelColors[level]}${level.toUpperCase()}${TTY_COLORS.reset} ${TTY_COLORS.bright}[Better Auth]:${TTY_COLORS.reset} ${message}`;\n\treturn `${timestamp} ${level.toUpperCase()} [Better Auth]: ${message}`;\n};\nconst createLogger = (options) => {\n\tconst enabled = options?.disabled !== true;\n\tconst logLevel = options?.level ?? \"error\";\n\tconst colorsEnabled = options?.disableColors !== void 0 ? !options.disableColors : getColorDepth() !== 1;\n\tconst LogFunc = (level, message, args = []) => {\n\t\tif (!enabled || !shouldPublishLog(logLevel, level)) return;\n\t\tconst formattedMessage = formatMessage(level, message, colorsEnabled);\n\t\tif (!options || typeof options.log !== \"function\") {\n\t\t\tif (level === \"error\") console.error(formattedMessage, ...args);\n\t\t\telse if (level === \"warn\") console.warn(formattedMessage, ...args);\n\t\t\telse console.log(formattedMessage, ...args);\n\t\t\treturn;\n\t\t}\n\t\toptions.log(level === \"success\" ? \"info\" : level, message, ...args);\n\t};\n\treturn {\n\t\t...Object.fromEntries(levels.map((level) => [level, (...[message, ...args]) => LogFunc(level, message, args)])),\n\t\tget level() {\n\t\t\treturn logLevel;\n\t\t}\n\t};\n};\nconst logger = createLogger();\n\n//#endregion\nexport { TTY_COLORS, createLogger, levels, logger, shouldPublishLog };"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEA,2BAA2B;AAC3B,MAAM,aAAa;IAClB,OAAO;IACP,QAAQ;IACR,KAAK;IACL,OAAO;IACP,YAAY;IACZ,OAAO;IACP,SAAS;IACT,QAAQ;IACR,IAAI;QACH,OAAO;QACP,KAAK;QACL,OAAO;QACP,QAAQ;QACR,MAAM;QACN,SAAS;QACT,MAAM;QACN,OAAO;IACR;IACA,IAAI;QACH,OAAO;QACP,KAAK;QACL,OAAO;QACP,QAAQ;QACR,MAAM;QACN,SAAS;QACT,MAAM;QACN,OAAO;IACR;AACD;AACA,MAAM,SAAS;IACd;IACA;IACA;IACA;IACA;CACA;AACD,SAAS,iBAAiB,eAAe,EAAE,QAAQ;IAClD,OAAO,OAAO,OAAO,CAAC,aAAa,OAAO,OAAO,CAAC;AACnD;AACA,MAAM,cAAc;IACnB,MAAM,WAAW,EAAE,CAAC,IAAI;IACxB,SAAS,WAAW,EAAE,CAAC,KAAK;IAC5B,MAAM,WAAW,EAAE,CAAC,MAAM;IAC1B,OAAO,WAAW,EAAE,CAAC,GAAG;IACxB,OAAO,WAAW,EAAE,CAAC,OAAO;AAC7B;AACA,MAAM,gBAAgB,CAAC,OAAO,SAAS;IACtC,MAAM,YAAY,AAAC,aAAa,GAAG,IAAI,OAAQ,WAAW;IAC1D,IAAI,eAAe,OAAO,GAAG,WAAW,GAAG,GAAG,YAAY,WAAW,KAAK,CAAC,CAAC,EAAE,WAAW,CAAC,MAAM,GAAG,MAAM,WAAW,KAAK,WAAW,KAAK,CAAC,CAAC,EAAE,WAAW,MAAM,CAAC,cAAc,EAAE,WAAW,KAAK,CAAC,CAAC,EAAE,SAAS;IAC5M,OAAO,GAAG,UAAU,CAAC,EAAE,MAAM,WAAW,GAAG,gBAAgB,EAAE,SAAS;AACvE;AACA,MAAM,eAAe,CAAC;IACrB,MAAM,UAAU,SAAS,aAAa;IACtC,MAAM,WAAW,SAAS,SAAS;IACnC,MAAM,gBAAgB,SAAS,kBAAkB,KAAK,IAAI,CAAC,QAAQ,aAAa,GAAG,IAAA,6LAAa,QAAO;IACvG,MAAM,UAAU,CAAC,OAAO,SAAS,OAAO,EAAE;QACzC,IAAI,CAAC,WAAW,CAAC,iBAAiB,UAAU,QAAQ;QACpD,MAAM,mBAAmB,cAAc,OAAO,SAAS;QACvD,IAAI,CAAC,WAAW,OAAO,QAAQ,GAAG,KAAK,YAAY;YAClD,IAAI,UAAU,SAAS,QAAQ,KAAK,CAAC,qBAAqB;iBACrD,IAAI,UAAU,QAAQ,QAAQ,IAAI,CAAC,qBAAqB;iBACxD,QAAQ,GAAG,CAAC,qBAAqB;YACtC;QACD;QACA,QAAQ,GAAG,CAAC,UAAU,YAAY,SAAS,OAAO,YAAY;IAC/D;IACA,OAAO;QACN,GAAG,OAAO,WAAW,CAAC,OAAO,GAAG,CAAC,CAAC,QAAU;gBAAC;gBAAO,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,GAAK,QAAQ,OAAO,SAAS;aAAM,EAAE;QAC/G,IAAI,SAAQ;YACX,OAAO;QACR;IACD;AACD;AACA,MAAM,SAAS","ignoreList":[0]}},
    {"offset": {"line": 722, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/env/index.mjs"],"sourcesContent":["import { ENV, env, getBooleanEnvVar, getEnvVar, isDevelopment, isProduction, isTest, nodeENV } from \"./env-impl.mjs\";\nimport { getColorDepth } from \"./color-depth.mjs\";\nimport { TTY_COLORS, createLogger, levels, logger, shouldPublishLog } from \"./logger.mjs\";\n\nexport { ENV, TTY_COLORS, createLogger, env, getBooleanEnvVar, getColorDepth, getEnvVar, isDevelopment, isProduction, isTest, levels, logger, nodeENV, shouldPublishLog };"],"names":[],"mappings":";AAAA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 734, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/utils/json.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\n\n//#region src/utils/json.ts\nfunction safeJSONParse(data) {\n\tfunction reviver(_, value) {\n\t\tif (typeof value === \"string\") {\n\t\t\tif (/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$/.test(value)) {\n\t\t\t\tconst date = new Date(value);\n\t\t\t\tif (!isNaN(date.getTime())) return date;\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t}\n\ttry {\n\t\tif (typeof data !== \"string\") return data;\n\t\treturn JSON.parse(data, reviver);\n\t} catch (e) {\n\t\tlogger.error(\"Error parsing JSON\", { error: e });\n\t\treturn null;\n\t}\n}\n\n//#endregion\nexport { safeJSONParse };"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,2BAA2B;AAC3B,SAAS,cAAc,IAAI;IAC1B,SAAS,QAAQ,CAAC,EAAE,KAAK;QACxB,IAAI,OAAO,UAAU,UAAU;YAC9B,IAAI,mDAAmD,IAAI,CAAC,QAAQ;gBACnE,MAAM,OAAO,IAAI,KAAK;gBACtB,IAAI,CAAC,MAAM,KAAK,OAAO,KAAK,OAAO;YACpC;QACD;QACA,OAAO;IACR;IACA,IAAI;QACH,IAAI,OAAO,SAAS,UAAU,OAAO;QACrC,OAAO,KAAK,KAAK,CAAC,MAAM;IACzB,EAAE,OAAO,GAAG;QACX,8KAAM,CAAC,KAAK,CAAC,sBAAsB;YAAE,OAAO;QAAE;QAC9C,OAAO;IACR;AACD","ignoreList":[0]}},
    {"offset": {"line": 768, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/utils/string.mjs"],"sourcesContent":["//#region src/utils/string.ts\nfunction capitalizeFirstLetter(str) {\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n//#endregion\nexport { capitalizeFirstLetter };"],"names":[],"mappings":";;;;AAAA,6BAA6B;AAC7B,SAAS,sBAAsB,GAAG;IACjC,OAAO,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC;AAChD","ignoreList":[0]}},
    {"offset": {"line": 781, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/utils/url.mjs"],"sourcesContent":["//#region src/utils/url.ts\n/**\n* Normalizes a request pathname by removing the basePath prefix and trailing slashes.\n* This is useful for matching paths against configured path lists.\n*\n* @param requestUrl - The full request URL\n* @param basePath - The base path of the auth API (e.g., \"/api/auth\")\n* @returns The normalized path without basePath prefix or trailing slashes,\n*          or \"/\" if URL parsing fails\n*\n* @example\n* normalizePathname(\"http://localhost:3000/api/auth/sso/saml2/callback/provider1\", \"/api/auth\")\n* // Returns: \"/sso/saml2/callback/provider1\"\n*\n* normalizePathname(\"http://localhost:3000/sso/saml2/callback/provider1/\", \"/\")\n* // Returns: \"/sso/saml2/callback/provider1\"\n*/\nfunction normalizePathname(requestUrl, basePath) {\n\tlet pathname;\n\ttry {\n\t\tpathname = new URL(requestUrl).pathname.replace(/\\/+$/, \"\") || \"/\";\n\t} catch {\n\t\treturn \"/\";\n\t}\n\tif (basePath === \"/\" || basePath === \"\") return pathname;\n\tif (pathname === basePath) return \"/\";\n\tif (pathname.startsWith(basePath + \"/\")) return pathname.slice(basePath.length).replace(/\\/+$/, \"\") || \"/\";\n\treturn pathname;\n}\n\n//#endregion\nexport { normalizePathname };"],"names":[],"mappings":";;;;AAAA,0BAA0B;AAC1B;;;;;;;;;;;;;;;AAeA,GACA,SAAS,kBAAkB,UAAU,EAAE,QAAQ;IAC9C,IAAI;IACJ,IAAI;QACH,WAAW,IAAI,IAAI,YAAY,QAAQ,CAAC,OAAO,CAAC,QAAQ,OAAO;IAChE,EAAE,OAAM;QACP,OAAO;IACR;IACA,IAAI,aAAa,OAAO,aAAa,IAAI,OAAO;IAChD,IAAI,aAAa,UAAU,OAAO;IAClC,IAAI,SAAS,UAAU,CAAC,WAAW,MAAM,OAAO,SAAS,KAAK,CAAC,SAAS,MAAM,EAAE,OAAO,CAAC,QAAQ,OAAO;IACvG,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 818, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/utils/index.mjs"],"sourcesContent":["import { deprecate } from \"./deprecate.mjs\";\nimport { defineErrorCodes } from \"./error-codes.mjs\";\nimport { generateId } from \"./id.mjs\";\nimport { createRateLimitKey, isValidIP, normalizeIP } from \"./ip.mjs\";\nimport { safeJSONParse } from \"./json.mjs\";\nimport { capitalizeFirstLetter } from \"./string.mjs\";\nimport { normalizePathname } from \"./url.mjs\";\n\nexport { capitalizeFirstLetter, createRateLimitKey, defineErrorCodes, deprecate, generateId, isValidIP, normalizeIP, normalizePathname, safeJSONParse };"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 838, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/error/codes.mjs"],"sourcesContent":["import { defineErrorCodes } from \"../utils/error-codes.mjs\";\nimport \"../utils/index.mjs\";\n\n//#region src/error/codes.ts\nconst BASE_ERROR_CODES = defineErrorCodes({\n\tUSER_NOT_FOUND: \"User not found\",\n\tFAILED_TO_CREATE_USER: \"Failed to create user\",\n\tFAILED_TO_CREATE_SESSION: \"Failed to create session\",\n\tFAILED_TO_UPDATE_USER: \"Failed to update user\",\n\tFAILED_TO_GET_SESSION: \"Failed to get session\",\n\tINVALID_PASSWORD: \"Invalid password\",\n\tINVALID_EMAIL: \"Invalid email\",\n\tINVALID_EMAIL_OR_PASSWORD: \"Invalid email or password\",\n\tSOCIAL_ACCOUNT_ALREADY_LINKED: \"Social account already linked\",\n\tPROVIDER_NOT_FOUND: \"Provider not found\",\n\tINVALID_TOKEN: \"Invalid token\",\n\tID_TOKEN_NOT_SUPPORTED: \"id_token not supported\",\n\tFAILED_TO_GET_USER_INFO: \"Failed to get user info\",\n\tUSER_EMAIL_NOT_FOUND: \"User email not found\",\n\tEMAIL_NOT_VERIFIED: \"Email not verified\",\n\tPASSWORD_TOO_SHORT: \"Password too short\",\n\tPASSWORD_TOO_LONG: \"Password too long\",\n\tUSER_ALREADY_EXISTS: \"User already exists.\",\n\tUSER_ALREADY_EXISTS_USE_ANOTHER_EMAIL: \"User already exists. Use another email.\",\n\tEMAIL_CAN_NOT_BE_UPDATED: \"Email can not be updated\",\n\tCREDENTIAL_ACCOUNT_NOT_FOUND: \"Credential account not found\",\n\tSESSION_EXPIRED: \"Session expired. Re-authenticate to perform this action.\",\n\tFAILED_TO_UNLINK_LAST_ACCOUNT: \"You can't unlink your last account\",\n\tACCOUNT_NOT_FOUND: \"Account not found\",\n\tUSER_ALREADY_HAS_PASSWORD: \"User already has a password. Provide that to delete the account.\",\n\tCROSS_SITE_NAVIGATION_LOGIN_BLOCKED: \"Cross-site navigation login blocked. This request appears to be a CSRF attack.\",\n\tVERIFICATION_EMAIL_NOT_ENABLED: \"Verification email isn't enabled\",\n\tEMAIL_ALREADY_VERIFIED: \"Email is already verified\",\n\tEMAIL_MISMATCH: \"Email mismatch\",\n\tSESSION_NOT_FRESH: \"Session is not fresh\",\n\tLINKED_ACCOUNT_ALREADY_EXISTS: \"Linked account already exists\",\n\tINVALID_ORIGIN: \"Invalid origin\",\n\tINVALID_CALLBACK_URL: \"Invalid callbackURL\",\n\tINVALID_REDIRECT_URL: \"Invalid redirectURL\",\n\tINVALID_ERROR_CALLBACK_URL: \"Invalid errorCallbackURL\",\n\tINVALID_NEW_USER_CALLBACK_URL: \"Invalid newUserCallbackURL\",\n\tMISSING_OR_NULL_ORIGIN: \"Missing or null Origin\",\n\tCALLBACK_URL_REQUIRED: \"callbackURL is required\",\n\tFAILED_TO_CREATE_VERIFICATION: \"Unable to create verification\",\n\tFIELD_NOT_ALLOWED: \"Field not allowed to be set\",\n\tASYNC_VALIDATION_NOT_SUPPORTED: \"Async validation is not supported\",\n\tVALIDATION_ERROR: \"Validation Error\",\n\tMISSING_FIELD: \"Field is required\"\n});\n\n//#endregion\nexport { BASE_ERROR_CODES };"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,4BAA4B;AAC5B,MAAM,mBAAmB,IAAA,kMAAgB,EAAC;IACzC,gBAAgB;IAChB,uBAAuB;IACvB,0BAA0B;IAC1B,uBAAuB;IACvB,uBAAuB;IACvB,kBAAkB;IAClB,eAAe;IACf,2BAA2B;IAC3B,+BAA+B;IAC/B,oBAAoB;IACpB,eAAe;IACf,wBAAwB;IACxB,yBAAyB;IACzB,sBAAsB;IACtB,oBAAoB;IACpB,oBAAoB;IACpB,mBAAmB;IACnB,qBAAqB;IACrB,uCAAuC;IACvC,0BAA0B;IAC1B,8BAA8B;IAC9B,iBAAiB;IACjB,+BAA+B;IAC/B,mBAAmB;IACnB,2BAA2B;IAC3B,qCAAqC;IACrC,gCAAgC;IAChC,wBAAwB;IACxB,gBAAgB;IAChB,mBAAmB;IACnB,+BAA+B;IAC/B,gBAAgB;IAChB,sBAAsB;IACtB,sBAAsB;IACtB,4BAA4B;IAC5B,+BAA+B;IAC/B,wBAAwB;IACxB,uBAAuB;IACvB,+BAA+B;IAC/B,mBAAmB;IACnB,gCAAgC;IAChC,kBAAkB;IAClB,eAAe;AAChB","ignoreList":[0]}},
    {"offset": {"line": 897, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/error/index.mjs"],"sourcesContent":["import { BASE_ERROR_CODES } from \"./codes.mjs\";\n\n//#region src/error/index.ts\nvar BetterAuthError = class extends Error {\n\tconstructor(message, options) {\n\t\tsuper(message, options);\n\t\tthis.name = \"BetterAuthError\";\n\t\tthis.message = message;\n\t\tthis.stack = \"\";\n\t}\n};\n\n//#endregion\nexport { BASE_ERROR_CODES, BetterAuthError };"],"names":[],"mappings":";;;;AAAA;;AAEA,4BAA4B;AAC5B,IAAI,kBAAkB,cAAc;IACnC,YAAY,OAAO,EAAE,OAAO,CAAE;QAC7B,KAAK,CAAC,SAAS;QACf,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,KAAK,GAAG;IACd;AACD","ignoreList":[0]}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/get-tables.mjs"],"sourcesContent":["//#region src/db/get-tables.ts\nconst getAuthTables = (options) => {\n\tconst pluginSchema = (options.plugins ?? []).reduce((acc, plugin) => {\n\t\tconst schema = plugin.schema;\n\t\tif (!schema) return acc;\n\t\tfor (const [key, value] of Object.entries(schema)) acc[key] = {\n\t\t\tfields: {\n\t\t\t\t...acc[key]?.fields,\n\t\t\t\t...value.fields\n\t\t\t},\n\t\t\tmodelName: value.modelName || key\n\t\t};\n\t\treturn acc;\n\t}, {});\n\tconst shouldAddRateLimitTable = options.rateLimit?.storage === \"database\";\n\tconst rateLimitTable = { rateLimit: {\n\t\tmodelName: options.rateLimit?.modelName || \"rateLimit\",\n\t\tfields: {\n\t\t\tkey: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tfieldName: options.rateLimit?.fields?.key || \"key\"\n\t\t\t},\n\t\t\tcount: {\n\t\t\t\ttype: \"number\",\n\t\t\t\tfieldName: options.rateLimit?.fields?.count || \"count\"\n\t\t\t},\n\t\t\tlastRequest: {\n\t\t\t\ttype: \"number\",\n\t\t\t\tbigint: true,\n\t\t\t\tfieldName: options.rateLimit?.fields?.lastRequest || \"lastRequest\"\n\t\t\t}\n\t\t}\n\t} };\n\tconst { user, session, account, verification, ...pluginTables } = pluginSchema;\n\tconst sessionTable = { session: {\n\t\tmodelName: options.session?.modelName || \"session\",\n\t\tfields: {\n\t\t\texpiresAt: {\n\t\t\t\ttype: \"date\",\n\t\t\t\trequired: true,\n\t\t\t\tfieldName: options.session?.fields?.expiresAt || \"expiresAt\"\n\t\t\t},\n\t\t\ttoken: {\n\t\t\t\ttype: \"string\",\n\t\t\t\trequired: true,\n\t\t\t\tfieldName: options.session?.fields?.token || \"token\",\n\t\t\t\tunique: true\n\t\t\t},\n\t\t\tcreatedAt: {\n\t\t\t\ttype: \"date\",\n\t\t\t\trequired: true,\n\t\t\t\tfieldName: options.session?.fields?.createdAt || \"createdAt\",\n\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date()\n\t\t\t},\n\t\t\tupdatedAt: {\n\t\t\t\ttype: \"date\",\n\t\t\t\trequired: true,\n\t\t\t\tfieldName: options.session?.fields?.updatedAt || \"updatedAt\",\n\t\t\t\tonUpdate: () => /* @__PURE__ */ new Date()\n\t\t\t},\n\t\t\tipAddress: {\n\t\t\t\ttype: \"string\",\n\t\t\t\trequired: false,\n\t\t\t\tfieldName: options.session?.fields?.ipAddress || \"ipAddress\"\n\t\t\t},\n\t\t\tuserAgent: {\n\t\t\t\ttype: \"string\",\n\t\t\t\trequired: false,\n\t\t\t\tfieldName: options.session?.fields?.userAgent || \"userAgent\"\n\t\t\t},\n\t\t\tuserId: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tfieldName: options.session?.fields?.userId || \"userId\",\n\t\t\t\treferences: {\n\t\t\t\t\tmodel: options.user?.modelName || \"user\",\n\t\t\t\t\tfield: \"id\",\n\t\t\t\t\tonDelete: \"cascade\"\n\t\t\t\t},\n\t\t\t\trequired: true,\n\t\t\t\tindex: true\n\t\t\t},\n\t\t\t...session?.fields,\n\t\t\t...options.session?.additionalFields\n\t\t},\n\t\torder: 2\n\t} };\n\treturn {\n\t\tuser: {\n\t\t\tmodelName: options.user?.modelName || \"user\",\n\t\t\tfields: {\n\t\t\t\tname: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.user?.fields?.name || \"name\",\n\t\t\t\t\tsortable: true\n\t\t\t\t},\n\t\t\t\temail: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\tunique: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.user?.fields?.email || \"email\",\n\t\t\t\t\tsortable: true\n\t\t\t\t},\n\t\t\t\temailVerified: {\n\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\tdefaultValue: false,\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.user?.fields?.emailVerified || \"emailVerified\",\n\t\t\t\t\tinput: false\n\t\t\t\t},\n\t\t\t\timage: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\tfieldName: options.user?.fields?.image || \"image\"\n\t\t\t\t},\n\t\t\t\tcreatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.user?.fields?.createdAt || \"createdAt\"\n\t\t\t\t},\n\t\t\t\tupdatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\tonUpdate: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.user?.fields?.updatedAt || \"updatedAt\"\n\t\t\t\t},\n\t\t\t\t...user?.fields,\n\t\t\t\t...options.user?.additionalFields\n\t\t\t},\n\t\t\torder: 1\n\t\t},\n\t\t...!options.secondaryStorage || options.session?.storeSessionInDatabase ? sessionTable : {},\n\t\taccount: {\n\t\t\tmodelName: options.account?.modelName || \"account\",\n\t\t\tfields: {\n\t\t\t\taccountId: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.account?.fields?.accountId || \"accountId\"\n\t\t\t\t},\n\t\t\t\tproviderId: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.account?.fields?.providerId || \"providerId\"\n\t\t\t\t},\n\t\t\t\tuserId: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\treferences: {\n\t\t\t\t\t\tmodel: options.user?.modelName || \"user\",\n\t\t\t\t\t\tfield: \"id\",\n\t\t\t\t\t\tonDelete: \"cascade\"\n\t\t\t\t\t},\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.account?.fields?.userId || \"userId\",\n\t\t\t\t\tindex: true\n\t\t\t\t},\n\t\t\t\taccessToken: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\treturned: false,\n\t\t\t\t\tfieldName: options.account?.fields?.accessToken || \"accessToken\"\n\t\t\t\t},\n\t\t\t\trefreshToken: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\treturned: false,\n\t\t\t\t\tfieldName: options.account?.fields?.refreshToken || \"refreshToken\"\n\t\t\t\t},\n\t\t\t\tidToken: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\treturned: false,\n\t\t\t\t\tfieldName: options.account?.fields?.idToken || \"idToken\"\n\t\t\t\t},\n\t\t\t\taccessTokenExpiresAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\treturned: false,\n\t\t\t\t\tfieldName: options.account?.fields?.accessTokenExpiresAt || \"accessTokenExpiresAt\"\n\t\t\t\t},\n\t\t\t\trefreshTokenExpiresAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\treturned: false,\n\t\t\t\t\tfieldName: options.account?.fields?.refreshTokenExpiresAt || \"refreshTokenExpiresAt\"\n\t\t\t\t},\n\t\t\t\tscope: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\tfieldName: options.account?.fields?.scope || \"scope\"\n\t\t\t\t},\n\t\t\t\tpassword: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: false,\n\t\t\t\t\treturned: false,\n\t\t\t\t\tfieldName: options.account?.fields?.password || \"password\"\n\t\t\t\t},\n\t\t\t\tcreatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.account?.fields?.createdAt || \"createdAt\",\n\t\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date()\n\t\t\t\t},\n\t\t\t\tupdatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.account?.fields?.updatedAt || \"updatedAt\",\n\t\t\t\t\tonUpdate: () => /* @__PURE__ */ new Date()\n\t\t\t\t},\n\t\t\t\t...account?.fields,\n\t\t\t\t...options.account?.additionalFields\n\t\t\t},\n\t\t\torder: 3\n\t\t},\n\t\tverification: {\n\t\t\tmodelName: options.verification?.modelName || \"verification\",\n\t\t\tfields: {\n\t\t\t\tidentifier: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.verification?.fields?.identifier || \"identifier\",\n\t\t\t\t\tindex: true\n\t\t\t\t},\n\t\t\t\tvalue: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.verification?.fields?.value || \"value\"\n\t\t\t\t},\n\t\t\t\texpiresAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tfieldName: options.verification?.fields?.expiresAt || \"expiresAt\"\n\t\t\t\t},\n\t\t\t\tcreatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\tfieldName: options.verification?.fields?.createdAt || \"createdAt\"\n\t\t\t\t},\n\t\t\t\tupdatedAt: {\n\t\t\t\t\ttype: \"date\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tdefaultValue: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\tonUpdate: () => /* @__PURE__ */ new Date(),\n\t\t\t\t\tfieldName: options.verification?.fields?.updatedAt || \"updatedAt\"\n\t\t\t\t},\n\t\t\t\t...verification?.fields,\n\t\t\t\t...options.verification?.additionalFields\n\t\t\t},\n\t\t\torder: 4\n\t\t},\n\t\t...pluginTables,\n\t\t...shouldAddRateLimitTable ? rateLimitTable : {}\n\t};\n};\n\n//#endregion\nexport { getAuthTables };"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1187, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/schema/shared.mjs"],"sourcesContent":["import * as z from \"zod\";\n\n//#region src/db/schema/shared.ts\nconst coreSchema = z.object({\n\tid: z.string(),\n\tcreatedAt: z.date().default(() => /* @__PURE__ */ new Date()),\n\tupdatedAt: z.date().default(() => /* @__PURE__ */ new Date())\n});\n\n//#endregion\nexport { coreSchema };"],"names":[],"mappings":";;;;AAAA;;AAEA,iCAAiC;AACjC,MAAM,aAAa,2JAAQ,CAAC;IAC3B,IAAI,2JAAQ;IACZ,WAAW,yJAAM,GAAG,OAAO,CAAC,IAAM,aAAa,GAAG,IAAI;IACtD,WAAW,yJAAM,GAAG,OAAO,CAAC,IAAM,aAAa,GAAG,IAAI;AACvD","ignoreList":[0]}},
    {"offset": {"line": 1204, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/schema/account.mjs"],"sourcesContent":["import { coreSchema } from \"./shared.mjs\";\nimport * as z from \"zod\";\n\n//#region src/db/schema/account.ts\nconst accountSchema = coreSchema.extend({\n\tproviderId: z.string(),\n\taccountId: z.string(),\n\tuserId: z.coerce.string(),\n\taccessToken: z.string().nullish(),\n\trefreshToken: z.string().nullish(),\n\tidToken: z.string().nullish(),\n\taccessTokenExpiresAt: z.date().nullish(),\n\trefreshTokenExpiresAt: z.date().nullish(),\n\tscope: z.string().nullish(),\n\tpassword: z.string().nullish()\n});\n\n//#endregion\nexport { accountSchema };"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;AAEA,kCAAkC;AAClC,MAAM,gBAAgB,2LAAU,CAAC,MAAM,CAAC;IACvC,YAAY,2JAAQ;IACpB,WAAW,2JAAQ;IACnB,QAAQ,4JAAQ,CAAC,MAAM;IACvB,aAAa,2JAAQ,GAAG,OAAO;IAC/B,cAAc,2JAAQ,GAAG,OAAO;IAChC,SAAS,2JAAQ,GAAG,OAAO;IAC3B,sBAAsB,yJAAM,GAAG,OAAO;IACtC,uBAAuB,yJAAM,GAAG,OAAO;IACvC,OAAO,2JAAQ,GAAG,OAAO;IACzB,UAAU,2JAAQ,GAAG,OAAO;AAC7B","ignoreList":[0]}},
    {"offset": {"line": 1231, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/schema/rate-limit.mjs"],"sourcesContent":["import * as z from \"zod\";\n\n//#region src/db/schema/rate-limit.ts\nconst rateLimitSchema = z.object({\n\tkey: z.string(),\n\tcount: z.number(),\n\tlastRequest: z.number()\n});\n\n//#endregion\nexport { rateLimitSchema };"],"names":[],"mappings":";;;;AAAA;;AAEA,qCAAqC;AACrC,MAAM,kBAAkB,2JAAQ,CAAC;IAChC,KAAK,2JAAQ;IACb,OAAO,2JAAQ;IACf,aAAa,2JAAQ;AACtB","ignoreList":[0]}},
    {"offset": {"line": 1248, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/schema/session.mjs"],"sourcesContent":["import { coreSchema } from \"./shared.mjs\";\nimport * as z from \"zod\";\n\n//#region src/db/schema/session.ts\nconst sessionSchema = coreSchema.extend({\n\tuserId: z.coerce.string(),\n\texpiresAt: z.date(),\n\ttoken: z.string(),\n\tipAddress: z.string().nullish(),\n\tuserAgent: z.string().nullish()\n});\n\n//#endregion\nexport { sessionSchema };"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;AAEA,kCAAkC;AAClC,MAAM,gBAAgB,2LAAU,CAAC,MAAM,CAAC;IACvC,QAAQ,4JAAQ,CAAC,MAAM;IACvB,WAAW,yJAAM;IACjB,OAAO,2JAAQ;IACf,WAAW,2JAAQ,GAAG,OAAO;IAC7B,WAAW,2JAAQ,GAAG,OAAO;AAC9B","ignoreList":[0]}},
    {"offset": {"line": 1270, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/schema/user.mjs"],"sourcesContent":["import { coreSchema } from \"./shared.mjs\";\nimport * as z from \"zod\";\n\n//#region src/db/schema/user.ts\nconst userSchema = coreSchema.extend({\n\temail: z.string().transform((val) => val.toLowerCase()),\n\temailVerified: z.boolean().default(false),\n\tname: z.string(),\n\timage: z.string().nullish()\n});\n\n//#endregion\nexport { userSchema };"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,+BAA+B;AAC/B,MAAM,aAAa,2LAAU,CAAC,MAAM,CAAC;IACpC,OAAO,2JAAQ,GAAG,SAAS,CAAC,CAAC,MAAQ,IAAI,WAAW;IACpD,eAAe,4JAAS,GAAG,OAAO,CAAC;IACnC,MAAM,2JAAQ;IACd,OAAO,2JAAQ,GAAG,OAAO;AAC1B","ignoreList":[0]}},
    {"offset": {"line": 1290, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/schema/verification.mjs"],"sourcesContent":["import { coreSchema } from \"./shared.mjs\";\nimport * as z from \"zod\";\n\n//#region src/db/schema/verification.ts\nconst verificationSchema = coreSchema.extend({\n\tvalue: z.string(),\n\texpiresAt: z.date(),\n\tidentifier: z.string()\n});\n\n//#endregion\nexport { verificationSchema };"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,uCAAuC;AACvC,MAAM,qBAAqB,2LAAU,CAAC,MAAM,CAAC;IAC5C,OAAO,2JAAQ;IACf,WAAW,yJAAM;IACjB,YAAY,2JAAQ;AACrB","ignoreList":[0]}},
    {"offset": {"line": 1309, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/index.mjs"],"sourcesContent":["import { getAuthTables } from \"./get-tables.mjs\";\nimport { coreSchema } from \"./schema/shared.mjs\";\nimport { accountSchema } from \"./schema/account.mjs\";\nimport { rateLimitSchema } from \"./schema/rate-limit.mjs\";\nimport { sessionSchema } from \"./schema/session.mjs\";\nimport { userSchema } from \"./schema/user.mjs\";\nimport { verificationSchema } from \"./schema/verification.mjs\";\n\nexport { accountSchema, coreSchema, getAuthTables, rateLimitSchema, sessionSchema, userSchema, verificationSchema };"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 1329, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/api/index.mjs"],"sourcesContent":["import { runWithEndpointContext } from \"../context/endpoint-context.mjs\";\nimport \"../context/index.mjs\";\nimport { createEndpoint, createMiddleware } from \"better-call\";\n\n//#region src/api/index.ts\nconst optionsMiddleware = createMiddleware(async () => {\n\t/**\n\t* This will be passed on the instance of\n\t* the context. Used to infer the type\n\t* here.\n\t*/\n\treturn {};\n});\nconst createAuthMiddleware = createMiddleware.create({ use: [optionsMiddleware, createMiddleware(async () => {\n\treturn {};\n})] });\nconst use = [optionsMiddleware];\nfunction createAuthEndpoint(pathOrOptions, handlerOrOptions, handlerOrNever) {\n\tconst path = typeof pathOrOptions === \"string\" ? pathOrOptions : void 0;\n\tconst options = typeof handlerOrOptions === \"object\" ? handlerOrOptions : pathOrOptions;\n\tconst handler = typeof handlerOrOptions === \"function\" ? handlerOrOptions : handlerOrNever;\n\tif (path) return createEndpoint(path, {\n\t\t...options,\n\t\tuse: [...options?.use || [], ...use]\n\t}, async (ctx) => runWithEndpointContext(ctx, () => handler(ctx)));\n\treturn createEndpoint({\n\t\t...options,\n\t\tuse: [...options?.use || [], ...use]\n\t}, async (ctx) => runWithEndpointContext(ctx, () => handler(ctx)));\n}\n\n//#endregion\nexport { createAuthEndpoint, createAuthMiddleware, optionsMiddleware };"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;;;;AAEA,0BAA0B;AAC1B,MAAM,oBAAoB,IAAA,2KAAgB,EAAC;IAC1C;;;;CAIA,GACA,OAAO,CAAC;AACT;AACA,MAAM,uBAAuB,2KAAgB,CAAC,MAAM,CAAC;IAAE,KAAK;QAAC;QAAmB,IAAA,2KAAgB,EAAC;YAChG,OAAO,CAAC;QACT;KAAG;AAAC;AACJ,MAAM,MAAM;IAAC;CAAkB;AAC/B,SAAS,mBAAmB,aAAa,EAAE,gBAAgB,EAAE,cAAc;IAC1E,MAAM,OAAO,OAAO,kBAAkB,WAAW,gBAAgB,KAAK;IACtE,MAAM,UAAU,OAAO,qBAAqB,WAAW,mBAAmB;IAC1E,MAAM,UAAU,OAAO,qBAAqB,aAAa,mBAAmB;IAC5E,IAAI,MAAM,OAAO,IAAA,uKAAc,EAAC,MAAM;QACrC,GAAG,OAAO;QACV,KAAK;eAAI,SAAS,OAAO,EAAE;eAAK;SAAI;IACrC,GAAG,OAAO,MAAQ,IAAA,+MAAsB,EAAC,KAAK,IAAM,QAAQ;IAC5D,OAAO,IAAA,uKAAc,EAAC;QACrB,GAAG,OAAO;QACV,KAAK;eAAI,SAAS,OAAO,EAAE;eAAK;SAAI;IACrC,GAAG,OAAO,MAAQ,IAAA,+MAAsB,EAAC,KAAK,IAAM,QAAQ;AAC7D","ignoreList":[0]}},
    {"offset": {"line": 1388, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/adapter/get-default-model-name.mjs"],"sourcesContent":["import { BetterAuthError } from \"../../error/index.mjs\";\n\n//#region src/db/adapter/get-default-model-name.ts\nconst initGetDefaultModelName = ({ usePlural, schema }) => {\n\t/**\n\t* This function helps us get the default model name from the schema defined by devs.\n\t* Often times, the user will be using the `modelName` which could had been customized by the users.\n\t* This function helps us get the actual model name useful to match against the schema. (eg: schema[model])\n\t*\n\t* If it's still unclear what this does:\n\t*\n\t* 1. User can define a custom modelName.\n\t* 2. When using a custom modelName, doing something like `schema[model]` will not work.\n\t* 3. Using this function helps us get the actual model name based on the user's defined custom modelName.\n\t*/\n\tconst getDefaultModelName = (model) => {\n\t\tif (usePlural && model.charAt(model.length - 1) === \"s\") {\n\t\t\tconst pluralessModel = model.slice(0, -1);\n\t\t\tlet m$1 = schema[pluralessModel] ? pluralessModel : void 0;\n\t\t\tif (!m$1) m$1 = Object.entries(schema).find(([_, f]) => f.modelName === pluralessModel)?.[0];\n\t\t\tif (m$1) return m$1;\n\t\t}\n\t\tlet m = schema[model] ? model : void 0;\n\t\tif (!m) m = Object.entries(schema).find(([_, f]) => f.modelName === model)?.[0];\n\t\tif (!m) throw new BetterAuthError(`Model \"${model}\" not found in schema`);\n\t\treturn m;\n\t};\n\treturn getDefaultModelName;\n};\n\n//#endregion\nexport { initGetDefaultModelName };"],"names":[],"mappings":";;;;AAAA;;AAEA,kDAAkD;AAClD,MAAM,0BAA0B,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE;IACrD;;;;;;;;;;CAUA,GACA,MAAM,sBAAsB,CAAC;QAC5B,IAAI,aAAa,MAAM,MAAM,CAAC,MAAM,MAAM,GAAG,OAAO,KAAK;YACxD,MAAM,iBAAiB,MAAM,KAAK,CAAC,GAAG,CAAC;YACvC,IAAI,MAAM,MAAM,CAAC,eAAe,GAAG,iBAAiB,KAAK;YACzD,IAAI,CAAC,KAAK,MAAM,OAAO,OAAO,CAAC,QAAQ,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,GAAK,EAAE,SAAS,KAAK,iBAAiB,CAAC,EAAE;YAC5F,IAAI,KAAK,OAAO;QACjB;QACA,IAAI,IAAI,MAAM,CAAC,MAAM,GAAG,QAAQ,KAAK;QACrC,IAAI,CAAC,GAAG,IAAI,OAAO,OAAO,CAAC,QAAQ,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,GAAK,EAAE,SAAS,KAAK,QAAQ,CAAC,EAAE;QAC/E,IAAI,CAAC,GAAG,MAAM,IAAI,wMAAe,CAAC,CAAC,OAAO,EAAE,MAAM,qBAAqB,CAAC;QACxE,OAAO;IACR;IACA,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 1425, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/adapter/get-default-field-name.mjs"],"sourcesContent":["import { BetterAuthError } from \"../../error/index.mjs\";\nimport { initGetDefaultModelName } from \"./get-default-model-name.mjs\";\n\n//#region src/db/adapter/get-default-field-name.ts\nconst initGetDefaultFieldName = ({ schema, usePlural }) => {\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tschema,\n\t\tusePlural\n\t});\n\t/**\n\t* This function helps us get the default field name from the schema defined by devs.\n\t* Often times, the user will be using the `fieldName` which could had been customized by the users.\n\t* This function helps us get the actual field name useful to match against the schema. (eg: schema[model].fields[field])\n\t*\n\t* If it's still unclear what this does:\n\t*\n\t* 1. User can define a custom fieldName.\n\t* 2. When using a custom fieldName, doing something like `schema[model].fields[field]` will not work.\n\t*/\n\tconst getDefaultFieldName = ({ field, model: unsafeModel }) => {\n\t\tif (field === \"id\" || field === \"_id\") return \"id\";\n\t\tconst model = getDefaultModelName(unsafeModel);\n\t\tlet f = schema[model]?.fields[field];\n\t\tif (!f) {\n\t\t\tconst result = Object.entries(schema[model].fields).find(([_, f$1]) => f$1.fieldName === field);\n\t\t\tif (result) {\n\t\t\t\tf = result[1];\n\t\t\t\tfield = result[0];\n\t\t\t}\n\t\t}\n\t\tif (!f) throw new BetterAuthError(`Field ${field} not found in model ${model}`);\n\t\treturn field;\n\t};\n\treturn getDefaultFieldName;\n};\n\n//#endregion\nexport { initGetDefaultFieldName };"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,kDAAkD;AAClD,MAAM,0BAA0B,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE;IACrD,MAAM,sBAAsB,IAAA,kOAAuB,EAAC;QACnD;QACA;IACD;IACA;;;;;;;;;CASA,GACA,MAAM,sBAAsB,CAAC,EAAE,KAAK,EAAE,OAAO,WAAW,EAAE;QACzD,IAAI,UAAU,QAAQ,UAAU,OAAO,OAAO;QAC9C,MAAM,QAAQ,oBAAoB;QAClC,IAAI,IAAI,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,MAAM;QACpC,IAAI,CAAC,GAAG;YACP,MAAM,SAAS,OAAO,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAK,IAAI,SAAS,KAAK;YACzF,IAAI,QAAQ;gBACX,IAAI,MAAM,CAAC,EAAE;gBACb,QAAQ,MAAM,CAAC,EAAE;YAClB;QACD;QACA,IAAI,CAAC,GAAG,MAAM,IAAI,wMAAe,CAAC,CAAC,MAAM,EAAE,MAAM,oBAAoB,EAAE,OAAO;QAC9E,OAAO;IACR;IACA,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 1469, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/adapter/get-id-field.mjs"],"sourcesContent":["import { logger } from \"../../env/logger.mjs\";\nimport \"../../env/index.mjs\";\nimport { generateId } from \"../../utils/id.mjs\";\nimport \"../../utils/index.mjs\";\nimport { initGetDefaultModelName } from \"./get-default-model-name.mjs\";\n\n//#region src/db/adapter/get-id-field.ts\nconst initGetIdField = ({ usePlural, schema, disableIdGeneration, options, customIdGenerator, supportsUUIDs }) => {\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tusePlural,\n\t\tschema\n\t});\n\tconst idField = ({ customModelName, forceAllowId }) => {\n\t\tconst useNumberId = options.advanced?.database?.useNumberId || options.advanced?.database?.generateId === \"serial\";\n\t\tconst useUUIDs = options.advanced?.database?.generateId === \"uuid\";\n\t\tconst shouldGenerateId = (() => {\n\t\t\tif (disableIdGeneration) return false;\n\t\t\telse if (useNumberId && !forceAllowId) return false;\n\t\t\telse if (useUUIDs) return !supportsUUIDs;\n\t\t\telse return true;\n\t\t})();\n\t\tconst model = getDefaultModelName(customModelName ?? \"id\");\n\t\treturn {\n\t\t\ttype: useNumberId ? \"number\" : \"string\",\n\t\t\trequired: shouldGenerateId ? true : false,\n\t\t\t...shouldGenerateId ? { defaultValue() {\n\t\t\t\tif (disableIdGeneration) return void 0;\n\t\t\t\tconst generateId$1 = options.advanced?.database?.generateId;\n\t\t\t\tif (generateId$1 === false || useNumberId) return void 0;\n\t\t\t\tif (typeof generateId$1 === \"function\") return generateId$1({ model });\n\t\t\t\tif (customIdGenerator) return customIdGenerator({ model });\n\t\t\t\tif (generateId$1 === \"uuid\") return crypto.randomUUID();\n\t\t\t\treturn generateId();\n\t\t\t} } : {},\n\t\t\ttransform: {\n\t\t\t\tinput: (value) => {\n\t\t\t\t\tif (!value) return void 0;\n\t\t\t\t\tif (useNumberId) {\n\t\t\t\t\t\tconst numberValue = Number(value);\n\t\t\t\t\t\tif (isNaN(numberValue)) return;\n\t\t\t\t\t\treturn numberValue;\n\t\t\t\t\t}\n\t\t\t\t\tif (useUUIDs) {\n\t\t\t\t\t\tif (shouldGenerateId && !forceAllowId) return value;\n\t\t\t\t\t\tif (disableIdGeneration) return void 0;\n\t\t\t\t\t\tif (supportsUUIDs) return void 0;\n\t\t\t\t\t\tif (forceAllowId && typeof value === \"string\") if (/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(value)) return value;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconst stack = (/* @__PURE__ */ new Error()).stack?.split(\"\\n\").filter((_, i) => i !== 1).join(\"\\n\").replace(\"Error:\", \"\");\n\t\t\t\t\t\t\tlogger.warn(\"[Adapter Factory] - Invalid UUID value for field `id` provided when `forceAllowId` is true. Generating a new UUID.\", stack);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof value !== \"string\" && !supportsUUIDs) return crypto.randomUUID();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\toutput: (value) => {\n\t\t\t\t\tif (!value) return void 0;\n\t\t\t\t\treturn String(value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\treturn idField;\n};\n\n//#endregion\nexport { initGetIdField };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,wCAAwC;AACxC,MAAM,iBAAiB,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,OAAO,EAAE,iBAAiB,EAAE,aAAa,EAAE;IAC5G,MAAM,sBAAsB,IAAA,kOAAuB,EAAC;QACnD;QACA;IACD;IACA,MAAM,UAAU,CAAC,EAAE,eAAe,EAAE,YAAY,EAAE;QACjD,MAAM,cAAc,QAAQ,QAAQ,EAAE,UAAU,eAAe,QAAQ,QAAQ,EAAE,UAAU,eAAe;QAC1G,MAAM,WAAW,QAAQ,QAAQ,EAAE,UAAU,eAAe;QAC5D,MAAM,mBAAmB,CAAC;YACzB,IAAI,qBAAqB,OAAO;iBAC3B,IAAI,eAAe,CAAC,cAAc,OAAO;iBACzC,IAAI,UAAU,OAAO,CAAC;iBACtB,OAAO;QACb,CAAC;QACD,MAAM,QAAQ,oBAAoB,mBAAmB;QACrD,OAAO;YACN,MAAM,cAAc,WAAW;YAC/B,UAAU,mBAAmB,OAAO;YACpC,GAAG,mBAAmB;gBAAE;oBACvB,IAAI,qBAAqB,OAAO,KAAK;oBACrC,MAAM,eAAe,QAAQ,QAAQ,EAAE,UAAU;oBACjD,IAAI,iBAAiB,SAAS,aAAa,OAAO,KAAK;oBACvD,IAAI,OAAO,iBAAiB,YAAY,OAAO,aAAa;wBAAE;oBAAM;oBACpE,IAAI,mBAAmB,OAAO,kBAAkB;wBAAE;oBAAM;oBACxD,IAAI,iBAAiB,QAAQ,OAAO,OAAO,UAAU;oBACrD,OAAO,IAAA,gLAAU;gBAClB;YAAE,IAAI,CAAC,CAAC;YACR,WAAW;gBACV,OAAO,CAAC;oBACP,IAAI,CAAC,OAAO,OAAO,KAAK;oBACxB,IAAI,aAAa;wBAChB,MAAM,cAAc,OAAO;wBAC3B,IAAI,MAAM,cAAc;wBACxB,OAAO;oBACR;oBACA,IAAI,UAAU;wBACb,IAAI,oBAAoB,CAAC,cAAc,OAAO;wBAC9C,IAAI,qBAAqB,OAAO,KAAK;wBACrC,IAAI,eAAe,OAAO,KAAK;wBAC/B,IAAI,gBAAgB,OAAO,UAAU,UAAU,IAAI,6EAA6E,IAAI,CAAC,QAAQ,OAAO;6BAC/I;4BACJ,MAAM,QAAQ,AAAC,aAAa,GAAG,IAAI,QAAS,KAAK,EAAE,MAAM,MAAM,OAAO,CAAC,GAAG,IAAM,MAAM,GAAG,KAAK,MAAM,QAAQ,UAAU;4BACtH,8KAAM,CAAC,IAAI,CAAC,sHAAsH;wBACnI;wBACA,IAAI,OAAO,UAAU,YAAY,CAAC,eAAe,OAAO,OAAO,UAAU;wBACzE;oBACD;oBACA,OAAO;gBACR;gBACA,QAAQ,CAAC;oBACR,IAAI,CAAC,OAAO,OAAO,KAAK;oBACxB,OAAO,OAAO;gBACf;YACD;QACD;IACD;IACA,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 1553, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/adapter/get-field-attributes.mjs"],"sourcesContent":["import { BetterAuthError } from \"../../error/index.mjs\";\nimport { initGetDefaultModelName } from \"./get-default-model-name.mjs\";\nimport { initGetDefaultFieldName } from \"./get-default-field-name.mjs\";\nimport { initGetIdField } from \"./get-id-field.mjs\";\n\n//#region src/db/adapter/get-field-attributes.ts\nconst initGetFieldAttributes = ({ usePlural, schema, options, customIdGenerator, disableIdGeneration }) => {\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tusePlural,\n\t\tschema\n\t});\n\tconst getDefaultFieldName = initGetDefaultFieldName({\n\t\tusePlural,\n\t\tschema\n\t});\n\tconst idField = initGetIdField({\n\t\tusePlural,\n\t\tschema,\n\t\toptions,\n\t\tcustomIdGenerator,\n\t\tdisableIdGeneration\n\t});\n\tconst getFieldAttributes = ({ model, field }) => {\n\t\tconst defaultModelName = getDefaultModelName(model);\n\t\tconst defaultFieldName = getDefaultFieldName({\n\t\t\tfield,\n\t\t\tmodel: defaultModelName\n\t\t});\n\t\tconst fields = schema[defaultModelName].fields;\n\t\tfields.id = idField({ customModelName: defaultModelName });\n\t\tconst fieldAttributes = fields[defaultFieldName];\n\t\tif (!fieldAttributes) throw new BetterAuthError(`Field ${field} not found in model ${model}`);\n\t\treturn fieldAttributes;\n\t};\n\treturn getFieldAttributes;\n};\n\n//#endregion\nexport { initGetFieldAttributes };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,gDAAgD;AAChD,MAAM,yBAAyB,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,iBAAiB,EAAE,mBAAmB,EAAE;IACrG,MAAM,sBAAsB,IAAA,kOAAuB,EAAC;QACnD;QACA;IACD;IACA,MAAM,sBAAsB,IAAA,kOAAuB,EAAC;QACnD;QACA;IACD;IACA,MAAM,UAAU,IAAA,4MAAc,EAAC;QAC9B;QACA;QACA;QACA;QACA;IACD;IACA,MAAM,qBAAqB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE;QAC3C,MAAM,mBAAmB,oBAAoB;QAC7C,MAAM,mBAAmB,oBAAoB;YAC5C;YACA,OAAO;QACR;QACA,MAAM,SAAS,MAAM,CAAC,iBAAiB,CAAC,MAAM;QAC9C,OAAO,EAAE,GAAG,QAAQ;YAAE,iBAAiB;QAAiB;QACxD,MAAM,kBAAkB,MAAM,CAAC,iBAAiB;QAChD,IAAI,CAAC,iBAAiB,MAAM,IAAI,wMAAe,CAAC,CAAC,MAAM,EAAE,MAAM,oBAAoB,EAAE,OAAO;QAC5F,OAAO;IACR;IACA,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 1603, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/adapter/get-field-name.mjs"],"sourcesContent":["import { initGetDefaultModelName } from \"./get-default-model-name.mjs\";\nimport { initGetDefaultFieldName } from \"./get-default-field-name.mjs\";\n\n//#region src/db/adapter/get-field-name.ts\nconst initGetFieldName = ({ schema, usePlural }) => {\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tschema,\n\t\tusePlural\n\t});\n\tconst getDefaultFieldName = initGetDefaultFieldName({\n\t\tschema,\n\t\tusePlural\n\t});\n\t/**\n\t* Get the field name which is expected to be saved in the database based on the user's schema.\n\t*\n\t* This function is useful if you need to save the field name to the database.\n\t*\n\t* For example, if the user has defined a custom field name for the `user` model, then you can use this function to get the actual field name from the schema.\n\t*/\n\tfunction getFieldName({ model: modelName, field: fieldName }) {\n\t\tconst model = getDefaultModelName(modelName);\n\t\tconst field = getDefaultFieldName({\n\t\t\tmodel,\n\t\t\tfield: fieldName\n\t\t});\n\t\treturn schema[model]?.fields[field]?.fieldName || field;\n\t}\n\treturn getFieldName;\n};\n\n//#endregion\nexport { initGetFieldName };"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,0CAA0C;AAC1C,MAAM,mBAAmB,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE;IAC9C,MAAM,sBAAsB,IAAA,kOAAuB,EAAC;QACnD;QACA;IACD;IACA,MAAM,sBAAsB,IAAA,kOAAuB,EAAC;QACnD;QACA;IACD;IACA;;;;;;CAMA,GACA,SAAS,aAAa,EAAE,OAAO,SAAS,EAAE,OAAO,SAAS,EAAE;QAC3D,MAAM,QAAQ,oBAAoB;QAClC,MAAM,QAAQ,oBAAoB;YACjC;YACA,OAAO;QACR;QACA,OAAO,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,MAAM,EAAE,aAAa;IACnD;IACA,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 1642, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/adapter/get-model-name.mjs"],"sourcesContent":["import { initGetDefaultModelName } from \"./get-default-model-name.mjs\";\n\n//#region src/db/adapter/get-model-name.ts\nconst initGetModelName = ({ usePlural, schema }) => {\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tschema,\n\t\tusePlural\n\t});\n\t/**\n\t* Users can overwrite the default model of some tables. This function helps find the correct model name.\n\t* Furthermore, if the user passes `usePlural` as true in their adapter config,\n\t* then we should return the model name ending with an `s`.\n\t*/\n\tconst getModelName = (model) => {\n\t\tconst defaultModelKey = getDefaultModelName(model);\n\t\tif (schema && schema[defaultModelKey] && schema[defaultModelKey].modelName !== model) return usePlural ? `${schema[defaultModelKey].modelName}s` : schema[defaultModelKey].modelName;\n\t\treturn usePlural ? `${model}s` : model;\n\t};\n\treturn getModelName;\n};\n\n//#endregion\nexport { initGetModelName };"],"names":[],"mappings":";;;;AAAA;;AAEA,0CAA0C;AAC1C,MAAM,mBAAmB,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE;IAC9C,MAAM,sBAAsB,IAAA,kOAAuB,EAAC;QACnD;QACA;IACD;IACA;;;;CAIA,GACA,MAAM,eAAe,CAAC;QACrB,MAAM,kBAAkB,oBAAoB;QAC5C,IAAI,UAAU,MAAM,CAAC,gBAAgB,IAAI,MAAM,CAAC,gBAAgB,CAAC,SAAS,KAAK,OAAO,OAAO,YAAY,GAAG,MAAM,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,gBAAgB,CAAC,SAAS;QACpL,OAAO,YAAY,GAAG,MAAM,CAAC,CAAC,GAAG;IAClC;IACA,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 1670, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/adapter/utils.mjs"],"sourcesContent":["//#region src/db/adapter/utils.ts\nfunction withApplyDefault(value, field, action) {\n\tif (action === \"update\") {\n\t\tif (value === void 0 && field.onUpdate !== void 0) {\n\t\t\tif (typeof field.onUpdate === \"function\") return field.onUpdate();\n\t\t\treturn field.onUpdate;\n\t\t}\n\t\treturn value;\n\t}\n\tif (action === \"create\") {\n\t\tif (value === void 0 || field.required === true && value === null) {\n\t\t\tif (field.defaultValue !== void 0) {\n\t\t\t\tif (typeof field.defaultValue === \"function\") return field.defaultValue();\n\t\t\t\treturn field.defaultValue;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n}\nfunction isObject(item) {\n\treturn item !== null && typeof item === \"object\" && !Array.isArray(item);\n}\nfunction deepmerge(target, source) {\n\tif (Array.isArray(target) && Array.isArray(source)) return [...target, ...source];\n\telse if (isObject(target) && isObject(source)) {\n\t\tconst result = { ...target };\n\t\tfor (const [key, value] of Object.entries(source)) {\n\t\t\tif (value === void 0) continue;\n\t\t\tif (key in target) result[key] = deepmerge(target[key], value);\n\t\t\telse result[key] = value;\n\t\t}\n\t\treturn result;\n\t}\n\treturn source;\n}\n\n//#endregion\nexport { deepmerge, withApplyDefault };"],"names":[],"mappings":";;;;;;AAAA,iCAAiC;AACjC,SAAS,iBAAiB,KAAK,EAAE,KAAK,EAAE,MAAM;IAC7C,IAAI,WAAW,UAAU;QACxB,IAAI,UAAU,KAAK,KAAK,MAAM,QAAQ,KAAK,KAAK,GAAG;YAClD,IAAI,OAAO,MAAM,QAAQ,KAAK,YAAY,OAAO,MAAM,QAAQ;YAC/D,OAAO,MAAM,QAAQ;QACtB;QACA,OAAO;IACR;IACA,IAAI,WAAW,UAAU;QACxB,IAAI,UAAU,KAAK,KAAK,MAAM,QAAQ,KAAK,QAAQ,UAAU,MAAM;YAClE,IAAI,MAAM,YAAY,KAAK,KAAK,GAAG;gBAClC,IAAI,OAAO,MAAM,YAAY,KAAK,YAAY,OAAO,MAAM,YAAY;gBACvE,OAAO,MAAM,YAAY;YAC1B;QACD;IACD;IACA,OAAO;AACR;AACA,SAAS,SAAS,IAAI;IACrB,OAAO,SAAS,QAAQ,OAAO,SAAS,YAAY,CAAC,MAAM,OAAO,CAAC;AACpE;AACA,SAAS,UAAU,MAAM,EAAE,MAAM;IAChC,IAAI,MAAM,OAAO,CAAC,WAAW,MAAM,OAAO,CAAC,SAAS,OAAO;WAAI;WAAW;KAAO;SAC5E,IAAI,SAAS,WAAW,SAAS,SAAS;QAC9C,MAAM,SAAS;YAAE,GAAG,MAAM;QAAC;QAC3B,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,QAAS;YAClD,IAAI,UAAU,KAAK,GAAG;YACtB,IAAI,OAAO,QAAQ,MAAM,CAAC,IAAI,GAAG,UAAU,MAAM,CAAC,IAAI,EAAE;iBACnD,MAAM,CAAC,IAAI,GAAG;QACpB;QACA,OAAO;IACR;IACA,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 1721, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/adapter/factory.mjs"],"sourcesContent":["import { getAuthTables } from \"../get-tables.mjs\";\nimport { getColorDepth } from \"../../env/color-depth.mjs\";\nimport { TTY_COLORS, createLogger } from \"../../env/logger.mjs\";\nimport \"../../env/index.mjs\";\nimport { safeJSONParse } from \"../../utils/json.mjs\";\nimport { BetterAuthError } from \"../../error/index.mjs\";\nimport { initGetDefaultModelName } from \"./get-default-model-name.mjs\";\nimport { initGetDefaultFieldName } from \"./get-default-field-name.mjs\";\nimport { initGetIdField } from \"./get-id-field.mjs\";\nimport { initGetFieldAttributes } from \"./get-field-attributes.mjs\";\nimport { initGetFieldName } from \"./get-field-name.mjs\";\nimport { initGetModelName } from \"./get-model-name.mjs\";\nimport { withApplyDefault } from \"./utils.mjs\";\n\n//#region src/db/adapter/factory.ts\nlet debugLogs = [];\nlet transactionId = -1;\nconst createAsIsTransaction = (adapter) => (fn) => fn(adapter);\nconst createAdapterFactory = ({ adapter: customAdapter, config: cfg }) => (options) => {\n\tconst uniqueAdapterFactoryInstanceId = Math.random().toString(36).substring(2, 15);\n\tconst config = {\n\t\t...cfg,\n\t\tsupportsBooleans: cfg.supportsBooleans ?? true,\n\t\tsupportsDates: cfg.supportsDates ?? true,\n\t\tsupportsJSON: cfg.supportsJSON ?? false,\n\t\tadapterName: cfg.adapterName ?? cfg.adapterId,\n\t\tsupportsNumericIds: cfg.supportsNumericIds ?? true,\n\t\tsupportsUUIDs: cfg.supportsUUIDs ?? false,\n\t\tsupportsArrays: cfg.supportsArrays ?? false,\n\t\ttransaction: cfg.transaction ?? false,\n\t\tdisableTransformInput: cfg.disableTransformInput ?? false,\n\t\tdisableTransformOutput: cfg.disableTransformOutput ?? false,\n\t\tdisableTransformJoin: cfg.disableTransformJoin ?? false\n\t};\n\tif ((options.advanced?.database?.useNumberId === true || options.advanced?.database?.generateId === \"serial\") && config.supportsNumericIds === false) throw new BetterAuthError(`[${config.adapterName}] Your database or database adapter does not support numeric ids. Please disable \"useNumberId\" in your config.`);\n\tconst schema = getAuthTables(options);\n\tconst debugLog = (...args) => {\n\t\tif (config.debugLogs === true || typeof config.debugLogs === \"object\") {\n\t\t\tconst logger$1 = createLogger({ level: \"info\" });\n\t\t\tif (typeof config.debugLogs === \"object\" && \"isRunningAdapterTests\" in config.debugLogs) {\n\t\t\t\tif (config.debugLogs.isRunningAdapterTests) {\n\t\t\t\t\targs.shift();\n\t\t\t\t\tdebugLogs.push({\n\t\t\t\t\t\tinstance: uniqueAdapterFactoryInstanceId,\n\t\t\t\t\t\targs\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (typeof config.debugLogs === \"object\" && config.debugLogs.logCondition && !config.debugLogs.logCondition?.()) return;\n\t\t\tif (typeof args[0] === \"object\" && \"method\" in args[0]) {\n\t\t\t\tconst method = args.shift().method;\n\t\t\t\tif (typeof config.debugLogs === \"object\") {\n\t\t\t\t\tif (method === \"create\" && !config.debugLogs.create) return;\n\t\t\t\t\telse if (method === \"update\" && !config.debugLogs.update) return;\n\t\t\t\t\telse if (method === \"updateMany\" && !config.debugLogs.updateMany) return;\n\t\t\t\t\telse if (method === \"findOne\" && !config.debugLogs.findOne) return;\n\t\t\t\t\telse if (method === \"findMany\" && !config.debugLogs.findMany) return;\n\t\t\t\t\telse if (method === \"delete\" && !config.debugLogs.delete) return;\n\t\t\t\t\telse if (method === \"deleteMany\" && !config.debugLogs.deleteMany) return;\n\t\t\t\t\telse if (method === \"count\" && !config.debugLogs.count) return;\n\t\t\t\t}\n\t\t\t\tlogger$1.info(`[${config.adapterName}]`, ...args);\n\t\t\t} else logger$1.info(`[${config.adapterName}]`, ...args);\n\t\t}\n\t};\n\tconst logger = createLogger(options.logger);\n\tconst getDefaultModelName = initGetDefaultModelName({\n\t\tusePlural: config.usePlural,\n\t\tschema\n\t});\n\tconst getDefaultFieldName = initGetDefaultFieldName({\n\t\tusePlural: config.usePlural,\n\t\tschema\n\t});\n\tconst getModelName = initGetModelName({\n\t\tusePlural: config.usePlural,\n\t\tschema\n\t});\n\tconst getFieldName = initGetFieldName({\n\t\tschema,\n\t\tusePlural: config.usePlural\n\t});\n\tconst idField = initGetIdField({\n\t\tschema,\n\t\toptions,\n\t\tusePlural: config.usePlural,\n\t\tdisableIdGeneration: config.disableIdGeneration,\n\t\tcustomIdGenerator: config.customIdGenerator,\n\t\tsupportsUUIDs: config.supportsUUIDs\n\t});\n\tconst getFieldAttributes = initGetFieldAttributes({\n\t\tschema,\n\t\toptions,\n\t\tusePlural: config.usePlural,\n\t\tdisableIdGeneration: config.disableIdGeneration,\n\t\tcustomIdGenerator: config.customIdGenerator\n\t});\n\tconst transformInput = async (data, defaultModelName, action, forceAllowId) => {\n\t\tconst transformedData = {};\n\t\tconst fields = schema[defaultModelName].fields;\n\t\tconst newMappedKeys = config.mapKeysTransformInput ?? {};\n\t\tconst useNumberId = options.advanced?.database?.useNumberId || options.advanced?.database?.generateId === \"serial\";\n\t\tfields.id = idField({\n\t\t\tcustomModelName: defaultModelName,\n\t\t\tforceAllowId: forceAllowId && \"id\" in data\n\t\t});\n\t\tfor (const field in fields) {\n\t\t\tlet value = data[field];\n\t\t\tconst fieldAttributes = fields[field];\n\t\t\tconst newFieldName = newMappedKeys[field] || fields[field].fieldName || field;\n\t\t\tif (value === void 0 && (fieldAttributes.defaultValue === void 0 && !fieldAttributes.transform?.input && !(action === \"update\" && fieldAttributes.onUpdate) || action === \"update\" && !fieldAttributes.onUpdate)) continue;\n\t\t\tif (fieldAttributes && fieldAttributes.type === \"date\" && !(value instanceof Date) && typeof value === \"string\") try {\n\t\t\t\tvalue = new Date(value);\n\t\t\t} catch {\n\t\t\t\tlogger.error(\"[Adapter Factory] Failed to convert string to date\", {\n\t\t\t\t\tvalue,\n\t\t\t\t\tfield\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet newValue = withApplyDefault(value, fieldAttributes, action);\n\t\t\tif (fieldAttributes.transform?.input) newValue = await fieldAttributes.transform.input(newValue);\n\t\t\tif (fieldAttributes.references?.field === \"id\" && useNumberId) if (Array.isArray(newValue)) newValue = newValue.map((x) => x !== null ? Number(x) : null);\n\t\t\telse newValue = newValue !== null ? Number(newValue) : null;\n\t\t\telse if (config.supportsJSON === false && typeof newValue === \"object\" && fieldAttributes.type === \"json\") newValue = JSON.stringify(newValue);\n\t\t\telse if (config.supportsArrays === false && Array.isArray(newValue) && (fieldAttributes.type === \"string[]\" || fieldAttributes.type === \"number[]\")) newValue = JSON.stringify(newValue);\n\t\t\telse if (config.supportsDates === false && newValue instanceof Date && fieldAttributes.type === \"date\") newValue = newValue.toISOString();\n\t\t\telse if (config.supportsBooleans === false && typeof newValue === \"boolean\") newValue = newValue ? 1 : 0;\n\t\t\tif (config.customTransformInput) newValue = config.customTransformInput({\n\t\t\t\tdata: newValue,\n\t\t\t\taction,\n\t\t\t\tfield: newFieldName,\n\t\t\t\tfieldAttributes,\n\t\t\t\tmodel: getModelName(defaultModelName),\n\t\t\t\tschema,\n\t\t\t\toptions\n\t\t\t});\n\t\t\tif (newValue !== void 0) transformedData[newFieldName] = newValue;\n\t\t}\n\t\treturn transformedData;\n\t};\n\tconst transformOutput = async (data, unsafe_model, select = [], join) => {\n\t\tconst transformSingleOutput = async (data$1, unsafe_model$1, select$1 = []) => {\n\t\t\tif (!data$1) return null;\n\t\t\tconst newMappedKeys = config.mapKeysTransformOutput ?? {};\n\t\t\tconst transformedData$1 = {};\n\t\t\tconst tableSchema = schema[getDefaultModelName(unsafe_model$1)].fields;\n\t\t\tconst idKey = Object.entries(newMappedKeys).find(([_, v]) => v === \"id\")?.[0];\n\t\t\ttableSchema[idKey ?? \"id\"] = { type: options.advanced?.database?.useNumberId || options.advanced?.database?.generateId === \"serial\" ? \"number\" : \"string\" };\n\t\t\tfor (const key in tableSchema) {\n\t\t\t\tif (select$1.length && !select$1.includes(key)) continue;\n\t\t\t\tconst field = tableSchema[key];\n\t\t\t\tif (field) {\n\t\t\t\t\tconst originalKey = field.fieldName || key;\n\t\t\t\t\tlet newValue = data$1[Object.entries(newMappedKeys).find(([_, v]) => v === originalKey)?.[0] || originalKey];\n\t\t\t\t\tif (field.transform?.output) newValue = await field.transform.output(newValue);\n\t\t\t\t\tconst newFieldName = newMappedKeys[key] || key;\n\t\t\t\t\tif (originalKey === \"id\" || field.references?.field === \"id\") {\n\t\t\t\t\t\tif (typeof newValue !== \"undefined\" && newValue !== null) newValue = String(newValue);\n\t\t\t\t\t} else if (config.supportsJSON === false && typeof newValue === \"string\" && field.type === \"json\") newValue = safeJSONParse(newValue);\n\t\t\t\t\telse if (config.supportsArrays === false && typeof newValue === \"string\" && (field.type === \"string[]\" || field.type === \"number[]\")) newValue = safeJSONParse(newValue);\n\t\t\t\t\telse if (config.supportsDates === false && typeof newValue === \"string\" && field.type === \"date\") newValue = new Date(newValue);\n\t\t\t\t\telse if (config.supportsBooleans === false && typeof newValue === \"number\" && field.type === \"boolean\") newValue = newValue === 1;\n\t\t\t\t\tif (config.customTransformOutput) newValue = config.customTransformOutput({\n\t\t\t\t\t\tdata: newValue,\n\t\t\t\t\t\tfield: newFieldName,\n\t\t\t\t\t\tfieldAttributes: field,\n\t\t\t\t\t\tselect: select$1,\n\t\t\t\t\t\tmodel: getModelName(unsafe_model$1),\n\t\t\t\t\t\tschema,\n\t\t\t\t\t\toptions\n\t\t\t\t\t});\n\t\t\t\t\ttransformedData$1[newFieldName] = newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn transformedData$1;\n\t\t};\n\t\tif (!join || Object.keys(join).length === 0) return await transformSingleOutput(data, unsafe_model, select);\n\t\tunsafe_model = getDefaultModelName(unsafe_model);\n\t\tconst transformedData = await transformSingleOutput(data, unsafe_model, select);\n\t\tconst requiredModels = Object.entries(join).map(([model, joinConfig]) => ({\n\t\t\tmodelName: getModelName(model),\n\t\t\tdefaultModelName: getDefaultModelName(model),\n\t\t\tjoinConfig\n\t\t}));\n\t\tif (!data) return null;\n\t\tfor (const { modelName, defaultModelName, joinConfig } of requiredModels) {\n\t\t\tlet joinedData = await (async () => {\n\t\t\t\tif (options.experimental?.joins) return data[modelName];\n\t\t\t\telse return await handleFallbackJoin({\n\t\t\t\t\tbaseModel: unsafe_model,\n\t\t\t\t\tbaseData: transformedData,\n\t\t\t\t\tjoinModel: modelName,\n\t\t\t\t\tspecificJoinConfig: joinConfig\n\t\t\t\t});\n\t\t\t})();\n\t\t\tif (joinedData === void 0 || joinedData === null) joinedData = joinConfig.relation === \"one-to-one\" ? null : [];\n\t\t\tif (joinConfig.relation === \"one-to-many\" && !Array.isArray(joinedData)) joinedData = [joinedData];\n\t\t\tconst transformed = [];\n\t\t\tif (Array.isArray(joinedData)) for (const item of joinedData) {\n\t\t\t\tconst transformedItem = await transformSingleOutput(item, modelName, []);\n\t\t\t\ttransformed.push(transformedItem);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst transformedItem = await transformSingleOutput(joinedData, modelName, []);\n\t\t\t\ttransformed.push(transformedItem);\n\t\t\t}\n\t\t\ttransformedData[defaultModelName] = (joinConfig.relation === \"one-to-one\" ? transformed[0] : transformed) ?? null;\n\t\t}\n\t\treturn transformedData;\n\t};\n\tconst transformWhereClause = ({ model, where, action }) => {\n\t\tif (!where) return void 0;\n\t\tconst newMappedKeys = config.mapKeysTransformInput ?? {};\n\t\treturn where.map((w) => {\n\t\t\tconst { field: unsafe_field, value, operator = \"eq\", connector = \"AND\" } = w;\n\t\t\tif (operator === \"in\") {\n\t\t\t\tif (!Array.isArray(value)) throw new BetterAuthError(\"Value must be an array\");\n\t\t\t}\n\t\t\tlet newValue = value;\n\t\t\tconst defaultModelName = getDefaultModelName(model);\n\t\t\tconst defaultFieldName = getDefaultFieldName({\n\t\t\t\tfield: unsafe_field,\n\t\t\t\tmodel\n\t\t\t});\n\t\t\tconst fieldName = newMappedKeys[defaultFieldName] || getFieldName({\n\t\t\t\tfield: defaultFieldName,\n\t\t\t\tmodel: defaultModelName\n\t\t\t});\n\t\t\tconst fieldAttr = getFieldAttributes({\n\t\t\t\tfield: defaultFieldName,\n\t\t\t\tmodel: defaultModelName\n\t\t\t});\n\t\t\tconst useNumberId = options.advanced?.database?.useNumberId || options.advanced?.database?.generateId === \"serial\";\n\t\t\tif (defaultFieldName === \"id\" || fieldAttr.references?.field === \"id\") {\n\t\t\t\tif (useNumberId) if (Array.isArray(value)) newValue = value.map(Number);\n\t\t\t\telse newValue = Number(value);\n\t\t\t}\n\t\t\tif (fieldAttr.type === \"date\" && value instanceof Date && !config.supportsDates) newValue = value.toISOString();\n\t\t\tif (fieldAttr.type === \"boolean\" && typeof value === \"boolean\" && !config.supportsBooleans) newValue = value ? 1 : 0;\n\t\t\tif (fieldAttr.type === \"json\" && typeof value === \"object\" && !config.supportsJSON) try {\n\t\t\t\tnewValue = JSON.stringify(value);\n\t\t\t} catch (error) {\n\t\t\t\tthrow new Error(`Failed to stringify JSON value for field ${fieldName}`, { cause: error });\n\t\t\t}\n\t\t\tif (config.customTransformInput) newValue = config.customTransformInput({\n\t\t\t\tdata: newValue,\n\t\t\t\tfieldAttributes: fieldAttr,\n\t\t\t\tfield: fieldName,\n\t\t\t\tmodel: getModelName(model),\n\t\t\t\tschema,\n\t\t\t\toptions,\n\t\t\t\taction\n\t\t\t});\n\t\t\treturn {\n\t\t\t\toperator,\n\t\t\t\tconnector,\n\t\t\t\tfield: fieldName,\n\t\t\t\tvalue: newValue\n\t\t\t};\n\t\t});\n\t};\n\tconst transformJoinClause = (baseModel, unsanitizedJoin, select) => {\n\t\tif (!unsanitizedJoin) return void 0;\n\t\tif (Object.keys(unsanitizedJoin).length === 0) return void 0;\n\t\tconst transformedJoin = {};\n\t\tfor (const [model, join] of Object.entries(unsanitizedJoin)) {\n\t\t\tif (!join) continue;\n\t\t\tconst defaultModelName = getDefaultModelName(model);\n\t\t\tconst defaultBaseModelName = getDefaultModelName(baseModel);\n\t\t\tlet foreignKeys = Object.entries(schema[defaultModelName].fields).filter(([field, fieldAttributes]) => fieldAttributes.references && getDefaultModelName(fieldAttributes.references.model) === defaultBaseModelName);\n\t\t\tlet isForwardJoin = true;\n\t\t\tif (!foreignKeys.length) {\n\t\t\t\tforeignKeys = Object.entries(schema[defaultBaseModelName].fields).filter(([field, fieldAttributes]) => fieldAttributes.references && getDefaultModelName(fieldAttributes.references.model) === defaultModelName);\n\t\t\t\tisForwardJoin = false;\n\t\t\t}\n\t\t\tif (!foreignKeys.length) throw new BetterAuthError(`No foreign key found for model ${model} and base model ${baseModel} while performing join operation.`);\n\t\t\telse if (foreignKeys.length > 1) throw new BetterAuthError(`Multiple foreign keys found for model ${model} and base model ${baseModel} while performing join operation. Only one foreign key is supported.`);\n\t\t\tconst [foreignKey, foreignKeyAttributes] = foreignKeys[0];\n\t\t\tif (!foreignKeyAttributes.references) throw new BetterAuthError(`No references found for foreign key ${foreignKey} on model ${model} while performing join operation.`);\n\t\t\tlet from;\n\t\t\tlet to;\n\t\t\tlet requiredSelectField;\n\t\t\tif (isForwardJoin) {\n\t\t\t\trequiredSelectField = foreignKeyAttributes.references.field;\n\t\t\t\tfrom = getFieldName({\n\t\t\t\t\tmodel: baseModel,\n\t\t\t\t\tfield: requiredSelectField\n\t\t\t\t});\n\t\t\t\tto = getFieldName({\n\t\t\t\t\tmodel,\n\t\t\t\t\tfield: foreignKey\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\trequiredSelectField = foreignKey;\n\t\t\t\tfrom = getFieldName({\n\t\t\t\t\tmodel: baseModel,\n\t\t\t\t\tfield: requiredSelectField\n\t\t\t\t});\n\t\t\t\tto = getFieldName({\n\t\t\t\t\tmodel,\n\t\t\t\t\tfield: foreignKeyAttributes.references.field\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (select && !select.includes(requiredSelectField)) select.push(requiredSelectField);\n\t\t\tconst isUnique = to === \"id\" ? true : foreignKeyAttributes.unique ?? false;\n\t\t\tlet limit = options.advanced?.database?.defaultFindManyLimit ?? 100;\n\t\t\tif (isUnique) limit = 1;\n\t\t\telse if (typeof join === \"object\" && typeof join.limit === \"number\") limit = join.limit;\n\t\t\ttransformedJoin[getModelName(model)] = {\n\t\t\t\ton: {\n\t\t\t\t\tfrom,\n\t\t\t\t\tto\n\t\t\t\t},\n\t\t\t\tlimit,\n\t\t\t\trelation: isUnique ? \"one-to-one\" : \"one-to-many\"\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\tjoin: transformedJoin,\n\t\t\tselect\n\t\t};\n\t};\n\t/**\n\t* Handle joins by making separate queries and combining results (fallback for adapters that don't support native joins).\n\t*/\n\tconst handleFallbackJoin = async ({ baseModel, baseData, joinModel, specificJoinConfig: joinConfig }) => {\n\t\tif (!baseData) return baseData;\n\t\tconst modelName = getModelName(joinModel);\n\t\tconst field = joinConfig.on.to;\n\t\tconst value = baseData[getDefaultFieldName({\n\t\t\tfield: joinConfig.on.from,\n\t\t\tmodel: baseModel\n\t\t})];\n\t\tif (value === null || value === void 0) return joinConfig.relation === \"one-to-one\" ? null : [];\n\t\tlet result;\n\t\tconst where = transformWhereClause({\n\t\t\tmodel: modelName,\n\t\t\twhere: [{\n\t\t\t\tfield,\n\t\t\t\tvalue,\n\t\t\t\toperator: \"eq\",\n\t\t\t\tconnector: \"AND\"\n\t\t\t}],\n\t\t\taction: \"findOne\"\n\t\t});\n\t\ttry {\n\t\t\tif (joinConfig.relation === \"one-to-one\") result = await adapterInstance.findOne({\n\t\t\t\tmodel: modelName,\n\t\t\t\twhere\n\t\t\t});\n\t\t\telse {\n\t\t\t\tconst limit = joinConfig.limit ?? options.advanced?.database?.defaultFindManyLimit ?? 100;\n\t\t\t\tresult = await adapterInstance.findMany({\n\t\t\t\t\tmodel: modelName,\n\t\t\t\t\twhere,\n\t\t\t\t\tlimit\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tlogger.error(`Failed to query fallback join for model ${modelName}:`, {\n\t\t\t\twhere,\n\t\t\t\tlimit: joinConfig.limit\n\t\t\t});\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t\treturn result;\n\t};\n\tconst adapterInstance = customAdapter({\n\t\toptions,\n\t\tschema,\n\t\tdebugLog,\n\t\tgetFieldName,\n\t\tgetModelName,\n\t\tgetDefaultModelName,\n\t\tgetDefaultFieldName,\n\t\tgetFieldAttributes,\n\t\ttransformInput,\n\t\ttransformOutput,\n\t\ttransformWhereClause\n\t});\n\tlet lazyLoadTransaction = null;\n\tconst adapter = {\n\t\ttransaction: async (cb) => {\n\t\t\tif (!lazyLoadTransaction) if (!config.transaction) lazyLoadTransaction = createAsIsTransaction(adapter);\n\t\t\telse {\n\t\t\t\tlogger.debug(`[${config.adapterName}] - Using provided transaction implementation.`);\n\t\t\t\tlazyLoadTransaction = config.transaction;\n\t\t\t}\n\t\t\treturn lazyLoadTransaction(cb);\n\t\t},\n\t\tcreate: async ({ data: unsafeData, model: unsafeModel, select, forceAllowId = false }) => {\n\t\t\ttransactionId++;\n\t\t\tconst thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tif (\"id\" in unsafeData && typeof unsafeData.id !== \"undefined\" && !forceAllowId) {\n\t\t\t\tlogger.warn(`[${config.adapterName}] - You are trying to create a record with an id. This is not allowed as we handle id generation for you, unless you pass in the \\`forceAllowId\\` parameter. The id will be ignored.`);\n\t\t\t\tconst stack = (/* @__PURE__ */ new Error()).stack?.split(\"\\n\").filter((_, i) => i !== 1).join(\"\\n\").replace(\"Error:\", \"Create method with `id` being called at:\");\n\t\t\t\tconsole.log(stack);\n\t\t\t\tunsafeData.id = void 0;\n\t\t\t}\n\t\t\tdebugLog({ method: \"create\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 4)}`, `${formatMethod(\"create\")} ${formatAction(\"Unsafe Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: unsafeData\n\t\t\t});\n\t\t\tlet data = unsafeData;\n\t\t\tif (!config.disableTransformInput) data = await transformInput(unsafeData, unsafeModel, \"create\", forceAllowId);\n\t\t\tdebugLog({ method: \"create\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 4)}`, `${formatMethod(\"create\")} ${formatAction(\"Parsed Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata\n\t\t\t});\n\t\t\tconst res = await adapterInstance.create({\n\t\t\t\tdata,\n\t\t\t\tmodel\n\t\t\t});\n\t\t\tdebugLog({ method: \"create\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(3, 4)}`, `${formatMethod(\"create\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tres\n\t\t\t});\n\t\t\tlet transformed = res;\n\t\t\tif (!config.disableTransformOutput) transformed = await transformOutput(res, unsafeModel, select, void 0);\n\t\t\tdebugLog({ method: \"create\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(4, 4)}`, `${formatMethod(\"create\")} ${formatAction(\"Parsed Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: transformed\n\t\t\t});\n\t\t\treturn transformed;\n\t\t},\n\t\tupdate: async ({ model: unsafeModel, where: unsafeWhere, update: unsafeData }) => {\n\t\t\ttransactionId++;\n\t\t\tconst thisTransactionId = transactionId;\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"update\"\n\t\t\t});\n\t\t\tdebugLog({ method: \"update\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 4)}`, `${formatMethod(\"update\")} ${formatAction(\"Unsafe Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: unsafeData\n\t\t\t});\n\t\t\tlet data = unsafeData;\n\t\t\tif (!config.disableTransformInput) data = await transformInput(unsafeData, unsafeModel, \"update\");\n\t\t\tdebugLog({ method: \"update\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 4)}`, `${formatMethod(\"update\")} ${formatAction(\"Parsed Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata\n\t\t\t});\n\t\t\tconst res = await adapterInstance.update({\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tupdate: data\n\t\t\t});\n\t\t\tdebugLog({ method: \"update\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(3, 4)}`, `${formatMethod(\"update\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: res\n\t\t\t});\n\t\t\tlet transformed = res;\n\t\t\tif (!config.disableTransformOutput) transformed = await transformOutput(res, unsafeModel, void 0, void 0);\n\t\t\tdebugLog({ method: \"update\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(4, 4)}`, `${formatMethod(\"update\")} ${formatAction(\"Parsed Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: transformed\n\t\t\t});\n\t\t\treturn transformed;\n\t\t},\n\t\tupdateMany: async ({ model: unsafeModel, where: unsafeWhere, update: unsafeData }) => {\n\t\t\ttransactionId++;\n\t\t\tconst thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"updateMany\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tdebugLog({ method: \"updateMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 4)}`, `${formatMethod(\"updateMany\")} ${formatAction(\"Unsafe Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: unsafeData\n\t\t\t});\n\t\t\tlet data = unsafeData;\n\t\t\tif (!config.disableTransformInput) data = await transformInput(unsafeData, unsafeModel, \"update\");\n\t\t\tdebugLog({ method: \"updateMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 4)}`, `${formatMethod(\"updateMany\")} ${formatAction(\"Parsed Input\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata\n\t\t\t});\n\t\t\tconst updatedCount = await adapterInstance.updateMany({\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tupdate: data\n\t\t\t});\n\t\t\tdebugLog({ method: \"updateMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(3, 4)}`, `${formatMethod(\"updateMany\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: updatedCount\n\t\t\t});\n\t\t\tdebugLog({ method: \"updateMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(4, 4)}`, `${formatMethod(\"updateMany\")} ${formatAction(\"Parsed Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: updatedCount\n\t\t\t});\n\t\t\treturn updatedCount;\n\t\t},\n\t\tfindOne: async ({ model: unsafeModel, where: unsafeWhere, select, join: unsafeJoin }) => {\n\t\t\ttransactionId++;\n\t\t\tconst thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"findOne\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tlet join;\n\t\t\tlet passJoinToAdapter = true;\n\t\t\tif (!config.disableTransformJoin) {\n\t\t\t\tconst result = transformJoinClause(unsafeModel, unsafeJoin, select);\n\t\t\t\tif (result) {\n\t\t\t\t\tjoin = result.join;\n\t\t\t\t\tselect = result.select;\n\t\t\t\t}\n\t\t\t\tif (!options.experimental?.joins && join && Object.keys(join).length > 0) passJoinToAdapter = false;\n\t\t\t} else join = unsafeJoin;\n\t\t\tdebugLog({ method: \"findOne\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 3)}`, `${formatMethod(\"findOne\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tselect,\n\t\t\t\tjoin\n\t\t\t});\n\t\t\tconst res = await adapterInstance.findOne({\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tselect,\n\t\t\t\tjoin: passJoinToAdapter ? join : void 0\n\t\t\t});\n\t\t\tdebugLog({ method: \"findOne\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 3)}`, `${formatMethod(\"findOne\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: res\n\t\t\t});\n\t\t\tlet transformed = res;\n\t\t\tif (!config.disableTransformOutput) transformed = await transformOutput(res, unsafeModel, select, join);\n\t\t\tdebugLog({ method: \"findOne\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(3, 3)}`, `${formatMethod(\"findOne\")} ${formatAction(\"Parsed Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: transformed\n\t\t\t});\n\t\t\treturn transformed;\n\t\t},\n\t\tfindMany: async ({ model: unsafeModel, where: unsafeWhere, limit: unsafeLimit, sortBy, offset, join: unsafeJoin }) => {\n\t\t\ttransactionId++;\n\t\t\tconst thisTransactionId = transactionId;\n\t\t\tconst limit = unsafeLimit ?? options.advanced?.database?.defaultFindManyLimit ?? 100;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"findMany\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tlet join;\n\t\t\tlet passJoinToAdapter = true;\n\t\t\tif (!config.disableTransformJoin) {\n\t\t\t\tconst result = transformJoinClause(unsafeModel, unsafeJoin, void 0);\n\t\t\t\tif (result) join = result.join;\n\t\t\t\tif (!options.experimental?.joins && join && Object.keys(join).length > 0) passJoinToAdapter = false;\n\t\t\t} else join = unsafeJoin;\n\t\t\tdebugLog({ method: \"findMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 3)}`, `${formatMethod(\"findMany\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tlimit,\n\t\t\t\tsortBy,\n\t\t\t\toffset,\n\t\t\t\tjoin\n\t\t\t});\n\t\t\tconst res = await adapterInstance.findMany({\n\t\t\t\tmodel,\n\t\t\t\twhere,\n\t\t\t\tlimit,\n\t\t\t\tsortBy,\n\t\t\t\toffset,\n\t\t\t\tjoin: passJoinToAdapter ? join : void 0\n\t\t\t});\n\t\t\tdebugLog({ method: \"findMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 3)}`, `${formatMethod(\"findMany\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: res\n\t\t\t});\n\t\t\tlet transformed = res;\n\t\t\tif (!config.disableTransformOutput) transformed = await Promise.all(res.map(async (r) => {\n\t\t\t\treturn await transformOutput(r, unsafeModel, void 0, join);\n\t\t\t}));\n\t\t\tdebugLog({ method: \"findMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(3, 3)}`, `${formatMethod(\"findMany\")} ${formatAction(\"Parsed Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: transformed\n\t\t\t});\n\t\t\treturn transformed;\n\t\t},\n\t\tdelete: async ({ model: unsafeModel, where: unsafeWhere }) => {\n\t\t\ttransactionId++;\n\t\t\tconst thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"delete\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tdebugLog({ method: \"delete\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 2)}`, `${formatMethod(\"delete\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tawait adapterInstance.delete({\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tdebugLog({ method: \"delete\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 2)}`, `${formatMethod(\"delete\")} ${formatAction(\"DB Result\")}:`, { model });\n\t\t},\n\t\tdeleteMany: async ({ model: unsafeModel, where: unsafeWhere }) => {\n\t\t\ttransactionId++;\n\t\t\tconst thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"deleteMany\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tdebugLog({ method: \"deleteMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 2)}`, `${formatMethod(\"deleteMany\")} ${formatAction(\"DeleteMany\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tconst res = await adapterInstance.deleteMany({\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tdebugLog({ method: \"deleteMany\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 2)}`, `${formatMethod(\"deleteMany\")} ${formatAction(\"DB Result\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: res\n\t\t\t});\n\t\t\treturn res;\n\t\t},\n\t\tcount: async ({ model: unsafeModel, where: unsafeWhere }) => {\n\t\t\ttransactionId++;\n\t\t\tconst thisTransactionId = transactionId;\n\t\t\tconst model = getModelName(unsafeModel);\n\t\t\tconst where = transformWhereClause({\n\t\t\t\tmodel: unsafeModel,\n\t\t\t\twhere: unsafeWhere,\n\t\t\t\taction: \"count\"\n\t\t\t});\n\t\t\tunsafeModel = getDefaultModelName(unsafeModel);\n\t\t\tdebugLog({ method: \"count\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(1, 2)}`, `${formatMethod(\"count\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tconst res = await adapterInstance.count({\n\t\t\t\tmodel,\n\t\t\t\twhere\n\t\t\t});\n\t\t\tdebugLog({ method: \"count\" }, `${formatTransactionId(thisTransactionId)} ${formatStep(2, 2)}`, `${formatMethod(\"count\")}:`, {\n\t\t\t\tmodel,\n\t\t\t\tdata: res\n\t\t\t});\n\t\t\treturn res;\n\t\t},\n\t\tcreateSchema: adapterInstance.createSchema ? async (_, file) => {\n\t\t\tconst tables = getAuthTables(options);\n\t\t\tif (options.secondaryStorage && !options.session?.storeSessionInDatabase) delete tables.session;\n\t\t\tif (options.rateLimit && options.rateLimit.storage === \"database\" && (typeof options.rateLimit.enabled === \"undefined\" || options.rateLimit.enabled === true)) tables.ratelimit = {\n\t\t\t\tmodelName: options.rateLimit.modelName ?? \"ratelimit\",\n\t\t\t\tfields: {\n\t\t\t\t\tkey: {\n\t\t\t\t\t\ttype: \"string\",\n\t\t\t\t\t\tunique: true,\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tfieldName: options.rateLimit.fields?.key ?? \"key\"\n\t\t\t\t\t},\n\t\t\t\t\tcount: {\n\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tfieldName: options.rateLimit.fields?.count ?? \"count\"\n\t\t\t\t\t},\n\t\t\t\t\tlastRequest: {\n\t\t\t\t\t\ttype: \"number\",\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tbigint: true,\n\t\t\t\t\t\tdefaultValue: () => Date.now(),\n\t\t\t\t\t\tfieldName: options.rateLimit.fields?.lastRequest ?? \"lastRequest\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn adapterInstance.createSchema({\n\t\t\t\tfile,\n\t\t\t\ttables\n\t\t\t});\n\t\t} : void 0,\n\t\toptions: {\n\t\t\tadapterConfig: config,\n\t\t\t...adapterInstance.options ?? {}\n\t\t},\n\t\tid: config.adapterId,\n\t\t...config.debugLogs?.isRunningAdapterTests ? { adapterTestDebugLogs: {\n\t\t\tresetDebugLogs() {\n\t\t\t\tdebugLogs = debugLogs.filter((log) => log.instance !== uniqueAdapterFactoryInstanceId);\n\t\t\t},\n\t\t\tprintDebugLogs() {\n\t\t\t\tconst separator = ``.repeat(80);\n\t\t\t\tconst logs = debugLogs.filter((log$1) => log$1.instance === uniqueAdapterFactoryInstanceId);\n\t\t\t\tif (logs.length === 0) return;\n\t\t\t\tconst log = logs.reverse().map((log$1) => {\n\t\t\t\t\tlog$1.args[0] = `\\n${log$1.args[0]}`;\n\t\t\t\t\treturn [...log$1.args, \"\\n\"];\n\t\t\t\t}).reduce((prev, curr) => {\n\t\t\t\t\treturn [...curr, ...prev];\n\t\t\t\t}, [`\\n${separator}`]);\n\t\t\t\tconsole.log(...log);\n\t\t\t}\n\t\t} } : {}\n\t};\n\treturn adapter;\n};\nfunction formatTransactionId(transactionId$1) {\n\tif (getColorDepth() < 8) return `#${transactionId$1}`;\n\treturn `${TTY_COLORS.fg.magenta}#${transactionId$1}${TTY_COLORS.reset}`;\n}\nfunction formatStep(step, total) {\n\treturn `${TTY_COLORS.bg.black}${TTY_COLORS.fg.yellow}[${step}/${total}]${TTY_COLORS.reset}`;\n}\nfunction formatMethod(method) {\n\treturn `${TTY_COLORS.bright}${method}${TTY_COLORS.reset}`;\n}\nfunction formatAction(action) {\n\treturn `${TTY_COLORS.dim}(${action})${TTY_COLORS.reset}`;\n}\n/**\n* @deprecated Use `createAdapterFactory` instead. This export will be removed in a future version.\n* @alias\n*/\nconst createAdapter = createAdapterFactory;\n\n//#endregion\nexport { createAdapter, createAdapterFactory };"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2547, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/db/adapter/index.mjs"],"sourcesContent":["import { initGetDefaultModelName } from \"./get-default-model-name.mjs\";\nimport { initGetDefaultFieldName } from \"./get-default-field-name.mjs\";\nimport { initGetIdField } from \"./get-id-field.mjs\";\nimport { initGetFieldAttributes } from \"./get-field-attributes.mjs\";\nimport { initGetFieldName } from \"./get-field-name.mjs\";\nimport { initGetModelName } from \"./get-model-name.mjs\";\nimport { deepmerge, withApplyDefault } from \"./utils.mjs\";\nimport { createAdapter, createAdapterFactory } from \"./factory.mjs\";\n\nexport { createAdapter, createAdapterFactory, deepmerge, initGetDefaultFieldName, initGetDefaultModelName, initGetFieldAttributes, initGetFieldName, initGetIdField, initGetModelName, withApplyDefault };"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 2597, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/oauth2/utils.mjs"],"sourcesContent":["import { base64Url } from \"@better-auth/utils/base64\";\n\n//#region src/oauth2/utils.ts\nfunction getOAuth2Tokens(data) {\n\tconst getDate = (seconds) => {\n\t\tconst now = /* @__PURE__ */ new Date();\n\t\treturn new Date(now.getTime() + seconds * 1e3);\n\t};\n\treturn {\n\t\ttokenType: data.token_type,\n\t\taccessToken: data.access_token,\n\t\trefreshToken: data.refresh_token,\n\t\taccessTokenExpiresAt: data.expires_in ? getDate(data.expires_in) : void 0,\n\t\trefreshTokenExpiresAt: data.refresh_token_expires_in ? getDate(data.refresh_token_expires_in) : void 0,\n\t\tscopes: data?.scope ? typeof data.scope === \"string\" ? data.scope.split(\" \") : data.scope : [],\n\t\tidToken: data.id_token,\n\t\traw: data\n\t};\n}\nasync function generateCodeChallenge(codeVerifier) {\n\tconst data = new TextEncoder().encode(codeVerifier);\n\tconst hash = await crypto.subtle.digest(\"SHA-256\", data);\n\treturn base64Url.encode(new Uint8Array(hash), { padding: false });\n}\n\n//#endregion\nexport { generateCodeChallenge, getOAuth2Tokens };"],"names":[],"mappings":";;;;;;AAAA;;AAEA,6BAA6B;AAC7B,SAAS,gBAAgB,IAAI;IAC5B,MAAM,UAAU,CAAC;QAChB,MAAM,MAAM,aAAa,GAAG,IAAI;QAChC,OAAO,IAAI,KAAK,IAAI,OAAO,KAAK,UAAU;IAC3C;IACA,OAAO;QACN,WAAW,KAAK,UAAU;QAC1B,aAAa,KAAK,YAAY;QAC9B,cAAc,KAAK,aAAa;QAChC,sBAAsB,KAAK,UAAU,GAAG,QAAQ,KAAK,UAAU,IAAI,KAAK;QACxE,uBAAuB,KAAK,wBAAwB,GAAG,QAAQ,KAAK,wBAAwB,IAAI,KAAK;QACrG,QAAQ,MAAM,QAAQ,OAAO,KAAK,KAAK,KAAK,WAAW,KAAK,KAAK,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,GAAG,EAAE;QAC9F,SAAS,KAAK,QAAQ;QACtB,KAAK;IACN;AACD;AACA,eAAe,sBAAsB,YAAY;IAChD,MAAM,OAAO,IAAI,cAAc,MAAM,CAAC;IACtC,MAAM,OAAO,MAAM,OAAO,MAAM,CAAC,MAAM,CAAC,WAAW;IACnD,OAAO,2KAAS,CAAC,MAAM,CAAC,IAAI,WAAW,OAAO;QAAE,SAAS;IAAM;AAChE","ignoreList":[0]}},
    {"offset": {"line": 2634, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/oauth2/create-authorization-url.mjs"],"sourcesContent":["import { generateCodeChallenge } from \"./utils.mjs\";\n\n//#region src/oauth2/create-authorization-url.ts\nasync function createAuthorizationURL({ id, options, authorizationEndpoint, state, codeVerifier, scopes, claims, redirectURI, duration, prompt, accessType, responseType, display, loginHint, hd, responseMode, additionalParams, scopeJoiner }) {\n\tconst url = new URL(options.authorizationEndpoint || authorizationEndpoint);\n\turl.searchParams.set(\"response_type\", responseType || \"code\");\n\tconst primaryClientId = Array.isArray(options.clientId) ? options.clientId[0] : options.clientId;\n\turl.searchParams.set(\"client_id\", primaryClientId);\n\turl.searchParams.set(\"state\", state);\n\tif (scopes) url.searchParams.set(\"scope\", scopes.join(scopeJoiner || \" \"));\n\turl.searchParams.set(\"redirect_uri\", options.redirectURI || redirectURI);\n\tduration && url.searchParams.set(\"duration\", duration);\n\tdisplay && url.searchParams.set(\"display\", display);\n\tloginHint && url.searchParams.set(\"login_hint\", loginHint);\n\tprompt && url.searchParams.set(\"prompt\", prompt);\n\thd && url.searchParams.set(\"hd\", hd);\n\taccessType && url.searchParams.set(\"access_type\", accessType);\n\tresponseMode && url.searchParams.set(\"response_mode\", responseMode);\n\tif (codeVerifier) {\n\t\tconst codeChallenge = await generateCodeChallenge(codeVerifier);\n\t\turl.searchParams.set(\"code_challenge_method\", \"S256\");\n\t\turl.searchParams.set(\"code_challenge\", codeChallenge);\n\t}\n\tif (claims) {\n\t\tconst claimsObj = claims.reduce((acc, claim) => {\n\t\t\tacc[claim] = null;\n\t\t\treturn acc;\n\t\t}, {});\n\t\turl.searchParams.set(\"claims\", JSON.stringify({ id_token: {\n\t\t\temail: null,\n\t\t\temail_verified: null,\n\t\t\t...claimsObj\n\t\t} }));\n\t}\n\tif (additionalParams) Object.entries(additionalParams).forEach(([key, value]) => {\n\t\turl.searchParams.set(key, value);\n\t});\n\treturn url;\n}\n\n//#endregion\nexport { createAuthorizationURL };"],"names":[],"mappings":";;;;AAAA;;AAEA,gDAAgD;AAChD,eAAe,uBAAuB,EAAE,EAAE,EAAE,OAAO,EAAE,qBAAqB,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,EAAE,YAAY,EAAE,OAAO,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,EAAE,gBAAgB,EAAE,WAAW,EAAE;IAC9O,MAAM,MAAM,IAAI,IAAI,QAAQ,qBAAqB,IAAI;IACrD,IAAI,YAAY,CAAC,GAAG,CAAC,iBAAiB,gBAAgB;IACtD,MAAM,kBAAkB,MAAM,OAAO,CAAC,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,EAAE,GAAG,QAAQ,QAAQ;IAChG,IAAI,YAAY,CAAC,GAAG,CAAC,aAAa;IAClC,IAAI,YAAY,CAAC,GAAG,CAAC,SAAS;IAC9B,IAAI,QAAQ,IAAI,YAAY,CAAC,GAAG,CAAC,SAAS,OAAO,IAAI,CAAC,eAAe;IACrE,IAAI,YAAY,CAAC,GAAG,CAAC,gBAAgB,QAAQ,WAAW,IAAI;IAC5D,YAAY,IAAI,YAAY,CAAC,GAAG,CAAC,YAAY;IAC7C,WAAW,IAAI,YAAY,CAAC,GAAG,CAAC,WAAW;IAC3C,aAAa,IAAI,YAAY,CAAC,GAAG,CAAC,cAAc;IAChD,UAAU,IAAI,YAAY,CAAC,GAAG,CAAC,UAAU;IACzC,MAAM,IAAI,YAAY,CAAC,GAAG,CAAC,MAAM;IACjC,cAAc,IAAI,YAAY,CAAC,GAAG,CAAC,eAAe;IAClD,gBAAgB,IAAI,YAAY,CAAC,GAAG,CAAC,iBAAiB;IACtD,IAAI,cAAc;QACjB,MAAM,gBAAgB,MAAM,IAAA,+LAAqB,EAAC;QAClD,IAAI,YAAY,CAAC,GAAG,CAAC,yBAAyB;QAC9C,IAAI,YAAY,CAAC,GAAG,CAAC,kBAAkB;IACxC;IACA,IAAI,QAAQ;QACX,MAAM,YAAY,OAAO,MAAM,CAAC,CAAC,KAAK;YACrC,GAAG,CAAC,MAAM,GAAG;YACb,OAAO;QACR,GAAG,CAAC;QACJ,IAAI,YAAY,CAAC,GAAG,CAAC,UAAU,KAAK,SAAS,CAAC;YAAE,UAAU;gBACzD,OAAO;gBACP,gBAAgB;gBAChB,GAAG,SAAS;YACb;QAAE;IACH;IACA,IAAI,kBAAkB,OAAO,OAAO,CAAC,kBAAkB,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM;QAC3E,IAAI,YAAY,CAAC,GAAG,CAAC,KAAK;IAC3B;IACA,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 2684, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/oauth2/refresh-access-token.mjs"],"sourcesContent":["import { base64 } from \"@better-auth/utils/base64\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/oauth2/refresh-access-token.ts\nfunction createRefreshAccessTokenRequest({ refreshToken, options, authentication, extraParams, resource }) {\n\tconst body = new URLSearchParams();\n\tconst headers = {\n\t\t\"content-type\": \"application/x-www-form-urlencoded\",\n\t\taccept: \"application/json\"\n\t};\n\tbody.set(\"grant_type\", \"refresh_token\");\n\tbody.set(\"refresh_token\", refreshToken);\n\tif (authentication === \"basic\") {\n\t\tconst primaryClientId = Array.isArray(options.clientId) ? options.clientId[0] : options.clientId;\n\t\tif (primaryClientId) headers[\"authorization\"] = \"Basic \" + base64.encode(`${primaryClientId}:${options.clientSecret ?? \"\"}`);\n\t\telse headers[\"authorization\"] = \"Basic \" + base64.encode(`:${options.clientSecret ?? \"\"}`);\n\t} else {\n\t\tconst primaryClientId = Array.isArray(options.clientId) ? options.clientId[0] : options.clientId;\n\t\tbody.set(\"client_id\", primaryClientId);\n\t\tif (options.clientSecret) body.set(\"client_secret\", options.clientSecret);\n\t}\n\tif (resource) if (typeof resource === \"string\") body.append(\"resource\", resource);\n\telse for (const _resource of resource) body.append(\"resource\", _resource);\n\tif (extraParams) for (const [key, value] of Object.entries(extraParams)) body.set(key, value);\n\treturn {\n\t\tbody,\n\t\theaders\n\t};\n}\nasync function refreshAccessToken({ refreshToken, options, tokenEndpoint, authentication, extraParams }) {\n\tconst { body, headers } = createRefreshAccessTokenRequest({\n\t\trefreshToken,\n\t\toptions,\n\t\tauthentication,\n\t\textraParams\n\t});\n\tconst { data, error } = await betterFetch(tokenEndpoint, {\n\t\tmethod: \"POST\",\n\t\tbody,\n\t\theaders\n\t});\n\tif (error) throw error;\n\tconst tokens = {\n\t\taccessToken: data.access_token,\n\t\trefreshToken: data.refresh_token,\n\t\ttokenType: data.token_type,\n\t\tscopes: data.scope?.split(\" \"),\n\t\tidToken: data.id_token\n\t};\n\tif (data.expires_in) {\n\t\tconst now = /* @__PURE__ */ new Date();\n\t\ttokens.accessTokenExpiresAt = new Date(now.getTime() + data.expires_in * 1e3);\n\t}\n\treturn tokens;\n}\n\n//#endregion\nexport { createRefreshAccessTokenRequest, refreshAccessToken };"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,4CAA4C;AAC5C,SAAS,gCAAgC,EAAE,YAAY,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,QAAQ,EAAE;IACxG,MAAM,OAAO,IAAI;IACjB,MAAM,UAAU;QACf,gBAAgB;QAChB,QAAQ;IACT;IACA,KAAK,GAAG,CAAC,cAAc;IACvB,KAAK,GAAG,CAAC,iBAAiB;IAC1B,IAAI,mBAAmB,SAAS;QAC/B,MAAM,kBAAkB,MAAM,OAAO,CAAC,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,EAAE,GAAG,QAAQ,QAAQ;QAChG,IAAI,iBAAiB,OAAO,CAAC,gBAAgB,GAAG,WAAW,wKAAM,CAAC,MAAM,CAAC,GAAG,gBAAgB,CAAC,EAAE,QAAQ,YAAY,IAAI,IAAI;aACtH,OAAO,CAAC,gBAAgB,GAAG,WAAW,wKAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,YAAY,IAAI,IAAI;IAC1F,OAAO;QACN,MAAM,kBAAkB,MAAM,OAAO,CAAC,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,EAAE,GAAG,QAAQ,QAAQ;QAChG,KAAK,GAAG,CAAC,aAAa;QACtB,IAAI,QAAQ,YAAY,EAAE,KAAK,GAAG,CAAC,iBAAiB,QAAQ,YAAY;IACzE;IACA,IAAI,UAAU,IAAI,OAAO,aAAa,UAAU,KAAK,MAAM,CAAC,YAAY;SACnE,KAAK,MAAM,aAAa,SAAU,KAAK,MAAM,CAAC,YAAY;IAC/D,IAAI,aAAa,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,aAAc,KAAK,GAAG,CAAC,KAAK;IACvF,OAAO;QACN;QACA;IACD;AACD;AACA,eAAe,mBAAmB,EAAE,YAAY,EAAE,OAAO,EAAE,aAAa,EAAE,cAAc,EAAE,WAAW,EAAE;IACtG,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,gCAAgC;QACzD;QACA;QACA;QACA;IACD;IACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,eAAe;QACxD,QAAQ;QACR;QACA;IACD;IACA,IAAI,OAAO,MAAM;IACjB,MAAM,SAAS;QACd,aAAa,KAAK,YAAY;QAC9B,cAAc,KAAK,aAAa;QAChC,WAAW,KAAK,UAAU;QAC1B,QAAQ,KAAK,KAAK,EAAE,MAAM;QAC1B,SAAS,KAAK,QAAQ;IACvB;IACA,IAAI,KAAK,UAAU,EAAE;QACpB,MAAM,MAAM,aAAa,GAAG,IAAI;QAChC,OAAO,oBAAoB,GAAG,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,UAAU,GAAG;IAC1E;IACA,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 2751, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/oauth2/client-credentials-token.mjs"],"sourcesContent":["import { base64Url } from \"@better-auth/utils/base64\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/oauth2/client-credentials-token.ts\nfunction createClientCredentialsTokenRequest({ options, scope, authentication, resource }) {\n\tconst body = new URLSearchParams();\n\tconst headers = {\n\t\t\"content-type\": \"application/x-www-form-urlencoded\",\n\t\taccept: \"application/json\"\n\t};\n\tbody.set(\"grant_type\", \"client_credentials\");\n\tscope && body.set(\"scope\", scope);\n\tif (resource) if (typeof resource === \"string\") body.append(\"resource\", resource);\n\telse for (const _resource of resource) body.append(\"resource\", _resource);\n\tif (authentication === \"basic\") {\n\t\tconst primaryClientId = Array.isArray(options.clientId) ? options.clientId[0] : options.clientId;\n\t\theaders[\"authorization\"] = `Basic ${base64Url.encode(`${primaryClientId}:${options.clientSecret}`)}`;\n\t} else {\n\t\tconst primaryClientId = Array.isArray(options.clientId) ? options.clientId[0] : options.clientId;\n\t\tbody.set(\"client_id\", primaryClientId);\n\t\tbody.set(\"client_secret\", options.clientSecret);\n\t}\n\treturn {\n\t\tbody,\n\t\theaders\n\t};\n}\nasync function clientCredentialsToken({ options, tokenEndpoint, scope, authentication, resource }) {\n\tconst { body, headers } = createClientCredentialsTokenRequest({\n\t\toptions,\n\t\tscope,\n\t\tauthentication,\n\t\tresource\n\t});\n\tconst { data, error } = await betterFetch(tokenEndpoint, {\n\t\tmethod: \"POST\",\n\t\tbody,\n\t\theaders\n\t});\n\tif (error) throw error;\n\tconst tokens = {\n\t\taccessToken: data.access_token,\n\t\ttokenType: data.token_type,\n\t\tscopes: data.scope?.split(\" \")\n\t};\n\tif (data.expires_in) {\n\t\tconst now = /* @__PURE__ */ new Date();\n\t\ttokens.accessTokenExpiresAt = new Date(now.getTime() + data.expires_in * 1e3);\n\t}\n\treturn tokens;\n}\n\n//#endregion\nexport { clientCredentialsToken, createClientCredentialsTokenRequest };"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,gDAAgD;AAChD,SAAS,oCAAoC,EAAE,OAAO,EAAE,KAAK,EAAE,cAAc,EAAE,QAAQ,EAAE;IACxF,MAAM,OAAO,IAAI;IACjB,MAAM,UAAU;QACf,gBAAgB;QAChB,QAAQ;IACT;IACA,KAAK,GAAG,CAAC,cAAc;IACvB,SAAS,KAAK,GAAG,CAAC,SAAS;IAC3B,IAAI,UAAU,IAAI,OAAO,aAAa,UAAU,KAAK,MAAM,CAAC,YAAY;SACnE,KAAK,MAAM,aAAa,SAAU,KAAK,MAAM,CAAC,YAAY;IAC/D,IAAI,mBAAmB,SAAS;QAC/B,MAAM,kBAAkB,MAAM,OAAO,CAAC,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,EAAE,GAAG,QAAQ,QAAQ;QAChG,OAAO,CAAC,gBAAgB,GAAG,CAAC,MAAM,EAAE,2KAAS,CAAC,MAAM,CAAC,GAAG,gBAAgB,CAAC,EAAE,QAAQ,YAAY,EAAE,GAAG;IACrG,OAAO;QACN,MAAM,kBAAkB,MAAM,OAAO,CAAC,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,EAAE,GAAG,QAAQ,QAAQ;QAChG,KAAK,GAAG,CAAC,aAAa;QACtB,KAAK,GAAG,CAAC,iBAAiB,QAAQ,YAAY;IAC/C;IACA,OAAO;QACN;QACA;IACD;AACD;AACA,eAAe,uBAAuB,EAAE,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,cAAc,EAAE,QAAQ,EAAE;IAChG,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,oCAAoC;QAC7D;QACA;QACA;QACA;IACD;IACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,eAAe;QACxD,QAAQ;QACR;QACA;IACD;IACA,IAAI,OAAO,MAAM;IACjB,MAAM,SAAS;QACd,aAAa,KAAK,YAAY;QAC9B,WAAW,KAAK,UAAU;QAC1B,QAAQ,KAAK,KAAK,EAAE,MAAM;IAC3B;IACA,IAAI,KAAK,UAAU,EAAE;QACpB,MAAM,MAAM,aAAa,GAAG,IAAI;QAChC,OAAO,oBAAoB,GAAG,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,UAAU,GAAG;IAC1E;IACA,OAAO;AACR","ignoreList":[0]}},
    {"offset": {"line": 2814, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/oauth2/verify.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\nimport { UnsecuredJWT, createLocalJWKSet, decodeProtectedHeader, jwtVerify } from \"jose\";\nimport { APIError } from \"better-call\";\n\n//#region src/oauth2/verify.ts\n/** Last fetched jwks used locally in getJwks @internal */\nlet jwks;\n/**\n* Performs local verification of an access token for your APIs.\n*\n* Can also be configured for remote verification.\n*/\nasync function verifyJwsAccessToken(token, opts) {\n\ttry {\n\t\tconst jwt = await jwtVerify(token, createLocalJWKSet(await getJwks(token, opts)), opts.verifyOptions);\n\t\tif (jwt.payload.azp) jwt.payload.client_id = jwt.payload.azp;\n\t\treturn jwt.payload;\n\t} catch (error) {\n\t\tif (error instanceof Error) throw error;\n\t\tthrow new Error(error);\n\t}\n}\nasync function getJwks(token, opts) {\n\tlet jwtHeaders;\n\ttry {\n\t\tjwtHeaders = decodeProtectedHeader(token);\n\t} catch (error) {\n\t\tif (error instanceof Error) throw error;\n\t\tthrow new Error(error);\n\t}\n\tif (!jwtHeaders.kid) throw new Error(\"Missing jwt kid\");\n\tif (!jwks || !jwks.keys.find((jwk) => jwk.kid === jwtHeaders.kid)) {\n\t\tjwks = typeof opts.jwksFetch === \"string\" ? await betterFetch(opts.jwksFetch, { headers: { Accept: \"application/json\" } }).then(async (res) => {\n\t\t\tif (res.error) throw new Error(`Jwks failed: ${res.error.message ?? res.error.statusText}`);\n\t\t\treturn res.data;\n\t\t}) : await opts.jwksFetch();\n\t\tif (!jwks) throw new Error(\"No jwks found\");\n\t}\n\treturn jwks;\n}\n/**\n* Performs local verification of an access token for your API.\n*\n* Can also be configured for remote verification.\n*/\nasync function verifyAccessToken(token, opts) {\n\tlet payload;\n\tif (opts.jwksUrl && !opts?.remoteVerify?.force) try {\n\t\tpayload = await verifyJwsAccessToken(token, {\n\t\t\tjwksFetch: opts.jwksUrl,\n\t\t\tverifyOptions: opts.verifyOptions\n\t\t});\n\t} catch (error) {\n\t\tif (error instanceof Error) if (error.name === \"TypeError\" || error.name === \"JWSInvalid\") {} else if (error.name === \"JWTExpired\") throw new APIError(\"UNAUTHORIZED\", { message: \"token expired\" });\n\t\telse if (error.name === \"JWTInvalid\") throw new APIError(\"UNAUTHORIZED\", { message: \"token invalid\" });\n\t\telse throw error;\n\t\telse throw new Error(error);\n\t}\n\tif (opts?.remoteVerify) {\n\t\tconst { data: introspect, error: introspectError } = await betterFetch(opts.remoteVerify.introspectUrl, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\n\t\t\t},\n\t\t\tbody: new URLSearchParams({\n\t\t\t\tclient_id: opts.remoteVerify.clientId,\n\t\t\t\tclient_secret: opts.remoteVerify.clientSecret,\n\t\t\t\ttoken,\n\t\t\t\ttoken_type_hint: \"access_token\"\n\t\t\t}).toString()\n\t\t});\n\t\tif (introspectError) logger.error(`Introspection failed: ${introspectError.message ?? introspectError.statusText}`);\n\t\tif (!introspect) throw new APIError(\"INTERNAL_SERVER_ERROR\", { message: \"introspection failed\" });\n\t\tif (!introspect.active) throw new APIError(\"UNAUTHORIZED\", { message: \"token inactive\" });\n\t\ttry {\n\t\t\tconst unsecuredJwt = new UnsecuredJWT(introspect).encode();\n\t\t\tconst { audience: _audience, ...verifyOptions } = opts.verifyOptions;\n\t\t\tpayload = (introspect.aud ? UnsecuredJWT.decode(unsecuredJwt, opts.verifyOptions) : UnsecuredJWT.decode(unsecuredJwt, verifyOptions)).payload;\n\t\t} catch (error) {\n\t\t\tthrow new Error(error);\n\t\t}\n\t}\n\tif (!payload) throw new APIError(\"UNAUTHORIZED\", { message: `no token payload` });\n\tif (opts.scopes) {\n\t\tconst validScopes = new Set(payload.scope?.split(\" \"));\n\t\tfor (const sc of opts.scopes) if (!validScopes.has(sc)) throw new APIError(\"FORBIDDEN\", { message: `invalid scope ${sc}` });\n\t}\n\treturn payload;\n}\n\n//#endregion\nexport { getJwks, verifyAccessToken, verifyJwsAccessToken };"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2940, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/oauth2/index.mjs"],"sourcesContent":["import { clientCredentialsToken, createClientCredentialsTokenRequest } from \"./client-credentials-token.mjs\";\nimport { generateCodeChallenge, getOAuth2Tokens } from \"./utils.mjs\";\nimport { createAuthorizationURL } from \"./create-authorization-url.mjs\";\nimport { createRefreshAccessTokenRequest, refreshAccessToken } from \"./refresh-access-token.mjs\";\nimport { createAuthorizationCodeRequest, validateAuthorizationCode, validateToken } from \"./validate-authorization-code.mjs\";\nimport { getJwks, verifyAccessToken, verifyJwsAccessToken } from \"./verify.mjs\";\n\nexport { clientCredentialsToken, createAuthorizationCodeRequest, createAuthorizationURL, createClientCredentialsTokenRequest, createRefreshAccessTokenRequest, generateCodeChallenge, getJwks, getOAuth2Tokens, refreshAccessToken, validateAuthorizationCode, validateToken, verifyAccessToken, verifyJwsAccessToken };"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 2958, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/oauth2/validate-authorization-code.mjs"],"sourcesContent":["import { getOAuth2Tokens } from \"./utils.mjs\";\nimport \"./index.mjs\";\nimport { base64 } from \"@better-auth/utils/base64\";\nimport { betterFetch } from \"@better-fetch/fetch\";\nimport { jwtVerify } from \"jose\";\n\n//#region src/oauth2/validate-authorization-code.ts\nfunction createAuthorizationCodeRequest({ code, codeVerifier, redirectURI, options, authentication, deviceId, headers, additionalParams = {}, resource }) {\n\tconst body = new URLSearchParams();\n\tconst requestHeaders = {\n\t\t\"content-type\": \"application/x-www-form-urlencoded\",\n\t\taccept: \"application/json\",\n\t\t...headers\n\t};\n\tbody.set(\"grant_type\", \"authorization_code\");\n\tbody.set(\"code\", code);\n\tcodeVerifier && body.set(\"code_verifier\", codeVerifier);\n\toptions.clientKey && body.set(\"client_key\", options.clientKey);\n\tdeviceId && body.set(\"device_id\", deviceId);\n\tbody.set(\"redirect_uri\", options.redirectURI || redirectURI);\n\tif (resource) if (typeof resource === \"string\") body.append(\"resource\", resource);\n\telse for (const _resource of resource) body.append(\"resource\", _resource);\n\tif (authentication === \"basic\") {\n\t\tconst primaryClientId = Array.isArray(options.clientId) ? options.clientId[0] : options.clientId;\n\t\trequestHeaders[\"authorization\"] = `Basic ${base64.encode(`${primaryClientId}:${options.clientSecret ?? \"\"}`)}`;\n\t} else {\n\t\tconst primaryClientId = Array.isArray(options.clientId) ? options.clientId[0] : options.clientId;\n\t\tbody.set(\"client_id\", primaryClientId);\n\t\tif (options.clientSecret) body.set(\"client_secret\", options.clientSecret);\n\t}\n\tfor (const [key, value] of Object.entries(additionalParams)) if (!body.has(key)) body.append(key, value);\n\treturn {\n\t\tbody,\n\t\theaders: requestHeaders\n\t};\n}\nasync function validateAuthorizationCode({ code, codeVerifier, redirectURI, options, tokenEndpoint, authentication, deviceId, headers, additionalParams = {}, resource }) {\n\tconst { body, headers: requestHeaders } = createAuthorizationCodeRequest({\n\t\tcode,\n\t\tcodeVerifier,\n\t\tredirectURI,\n\t\toptions,\n\t\tauthentication,\n\t\tdeviceId,\n\t\theaders,\n\t\tadditionalParams,\n\t\tresource\n\t});\n\tconst { data, error } = await betterFetch(tokenEndpoint, {\n\t\tmethod: \"POST\",\n\t\tbody,\n\t\theaders: requestHeaders\n\t});\n\tif (error) throw error;\n\treturn getOAuth2Tokens(data);\n}\nasync function validateToken(token, jwksEndpoint) {\n\tconst { data, error } = await betterFetch(jwksEndpoint, {\n\t\tmethod: \"GET\",\n\t\theaders: { accept: \"application/json\" }\n\t});\n\tif (error) throw error;\n\tconst keys = data[\"keys\"];\n\tconst header = JSON.parse(atob(token.split(\".\")[0]));\n\tconst key = keys.find((key$1) => key$1.kid === header.kid);\n\tif (!key) throw new Error(\"Key not found\");\n\treturn await jwtVerify(token, key);\n}\n\n//#endregion\nexport { createAuthorizationCodeRequest, validateAuthorizationCode, validateToken };"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,mDAAmD;AACnD,SAAS,+BAA+B,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE,OAAO,EAAE,cAAc,EAAE,QAAQ,EAAE,OAAO,EAAE,mBAAmB,CAAC,CAAC,EAAE,QAAQ,EAAE;IACvJ,MAAM,OAAO,IAAI;IACjB,MAAM,iBAAiB;QACtB,gBAAgB;QAChB,QAAQ;QACR,GAAG,OAAO;IACX;IACA,KAAK,GAAG,CAAC,cAAc;IACvB,KAAK,GAAG,CAAC,QAAQ;IACjB,gBAAgB,KAAK,GAAG,CAAC,iBAAiB;IAC1C,QAAQ,SAAS,IAAI,KAAK,GAAG,CAAC,cAAc,QAAQ,SAAS;IAC7D,YAAY,KAAK,GAAG,CAAC,aAAa;IAClC,KAAK,GAAG,CAAC,gBAAgB,QAAQ,WAAW,IAAI;IAChD,IAAI,UAAU,IAAI,OAAO,aAAa,UAAU,KAAK,MAAM,CAAC,YAAY;SACnE,KAAK,MAAM,aAAa,SAAU,KAAK,MAAM,CAAC,YAAY;IAC/D,IAAI,mBAAmB,SAAS;QAC/B,MAAM,kBAAkB,MAAM,OAAO,CAAC,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,EAAE,GAAG,QAAQ,QAAQ;QAChG,cAAc,CAAC,gBAAgB,GAAG,CAAC,MAAM,EAAE,wKAAM,CAAC,MAAM,CAAC,GAAG,gBAAgB,CAAC,EAAE,QAAQ,YAAY,IAAI,IAAI,GAAG;IAC/G,OAAO;QACN,MAAM,kBAAkB,MAAM,OAAO,CAAC,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,EAAE,GAAG,QAAQ,QAAQ;QAChG,KAAK,GAAG,CAAC,aAAa;QACtB,IAAI,QAAQ,YAAY,EAAE,KAAK,GAAG,CAAC,iBAAiB,QAAQ,YAAY;IACzE;IACA,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,kBAAmB,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM,KAAK,MAAM,CAAC,KAAK;IAClG,OAAO;QACN;QACA,SAAS;IACV;AACD;AACA,eAAe,0BAA0B,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE,OAAO,EAAE,aAAa,EAAE,cAAc,EAAE,QAAQ,EAAE,OAAO,EAAE,mBAAmB,CAAC,CAAC,EAAE,QAAQ,EAAE;IACvK,MAAM,EAAE,IAAI,EAAE,SAAS,cAAc,EAAE,GAAG,+BAA+B;QACxE;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACD;IACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,eAAe;QACxD,QAAQ;QACR;QACA,SAAS;IACV;IACA,IAAI,OAAO,MAAM;IACjB,OAAO,IAAA,yLAAe,EAAC;AACxB;AACA,eAAe,cAAc,KAAK,EAAE,YAAY;IAC/C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,cAAc;QACvD,QAAQ;QACR,SAAS;YAAE,QAAQ;QAAmB;IACvC;IACA,IAAI,OAAO,MAAM;IACjB,MAAM,OAAO,IAAI,CAAC,OAAO;IACzB,MAAM,SAAS,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;IAClD,MAAM,MAAM,KAAK,IAAI,CAAC,CAAC,QAAU,MAAM,GAAG,KAAK,OAAO,GAAG;IACzD,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO,MAAM,IAAA,sKAAS,EAAC,OAAO;AAC/B","ignoreList":[0]}},
    {"offset": {"line": 3045, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/apple.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\nimport { decodeJwt, decodeProtectedHeader, importJWK, jwtVerify } from \"jose\";\nimport { APIError } from \"better-call\";\n\n//#region src/social-providers/apple.ts\nconst apple = (options) => {\n\tconst tokenEndpoint = \"https://appleid.apple.com/auth/token\";\n\treturn {\n\t\tid: \"apple\",\n\t\tname: \"Apple\",\n\t\tasync createAuthorizationURL({ state, scopes, redirectURI }) {\n\t\t\tconst _scope = options.disableDefaultScope ? [] : [\"email\", \"name\"];\n\t\t\tif (options.scope) _scope.push(...options.scope);\n\t\t\tif (scopes) _scope.push(...scopes);\n\t\t\treturn await createAuthorizationURL({\n\t\t\t\tid: \"apple\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://appleid.apple.com/auth/authorize\",\n\t\t\t\tscopes: _scope,\n\t\t\t\tstate,\n\t\t\t\tredirectURI,\n\t\t\t\tresponseMode: \"form_post\",\n\t\t\t\tresponseType: \"code id_token\"\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\tasync verifyIdToken(token, nonce) {\n\t\t\tif (options.disableIdTokenSignIn) return false;\n\t\t\tif (options.verifyIdToken) return options.verifyIdToken(token, nonce);\n\t\t\tconst { kid, alg: jwtAlg } = decodeProtectedHeader(token);\n\t\t\tif (!kid || !jwtAlg) return false;\n\t\t\tconst { payload: jwtClaims } = await jwtVerify(token, await getApplePublicKey(kid), {\n\t\t\t\talgorithms: [jwtAlg],\n\t\t\t\tissuer: \"https://appleid.apple.com\",\n\t\t\t\taudience: options.audience && options.audience.length ? options.audience : options.appBundleIdentifier ? options.appBundleIdentifier : options.clientId,\n\t\t\t\tmaxTokenAge: \"1h\"\n\t\t\t});\n\t\t\t[\"email_verified\", \"is_private_email\"].forEach((field) => {\n\t\t\t\tif (jwtClaims[field] !== void 0) jwtClaims[field] = Boolean(jwtClaims[field]);\n\t\t\t});\n\t\t\tif (nonce && jwtClaims.nonce !== nonce) return false;\n\t\t\treturn !!jwtClaims;\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://appleid.apple.com/auth/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tif (!token.idToken) return null;\n\t\t\tconst profile = decodeJwt(token.idToken);\n\t\t\tif (!profile) return null;\n\t\t\tconst name = token.user ? `${token.user.name?.firstName} ${token.user.name?.lastName}` : profile.name || profile.email;\n\t\t\tconst emailVerified = typeof profile.email_verified === \"boolean\" ? profile.email_verified : profile.email_verified === \"true\";\n\t\t\tconst enrichedProfile = {\n\t\t\t\t...profile,\n\t\t\t\tname\n\t\t\t};\n\t\t\tconst userMap = await options.mapProfileToUser?.(enrichedProfile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.sub,\n\t\t\t\t\tname: enrichedProfile.name,\n\t\t\t\t\temailVerified,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: enrichedProfile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\nconst getApplePublicKey = async (kid) => {\n\tconst { data } = await betterFetch(`https://appleid.apple.com/auth/keys`);\n\tif (!data?.keys) throw new APIError(\"BAD_REQUEST\", { message: \"Keys not found\" });\n\tconst jwk = data.keys.find((key) => key.kid === kid);\n\tif (!jwk) throw new Error(`JWK with kid ${kid} not found`);\n\treturn await importJWK(jwk, jwk.alg);\n};\n\n//#endregion\nexport { apple, getApplePublicKey };"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3175, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/atlassian.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\nimport { BetterAuthError } from \"../error/index.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/atlassian.ts\nconst atlassian = (options) => {\n\treturn {\n\t\tid: \"atlassian\",\n\t\tname: \"Atlassian\",\n\t\tasync createAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n\t\t\tif (!options.clientId || !options.clientSecret) {\n\t\t\t\tlogger.error(\"Client Id and Secret are required for Atlassian\");\n\t\t\t\tthrow new BetterAuthError(\"CLIENT_ID_AND_SECRET_REQUIRED\");\n\t\t\t}\n\t\t\tif (!codeVerifier) throw new BetterAuthError(\"codeVerifier is required for Atlassian\");\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"read:jira-user\", \"offline_access\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"atlassian\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://auth.atlassian.com/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\tadditionalParams: { audience: \"api.atlassian.com\" },\n\t\t\t\tprompt: options.prompt\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://auth.atlassian.com/oauth/token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://auth.atlassian.com/oauth/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tif (!token.accessToken) return null;\n\t\t\ttry {\n\t\t\t\tconst { data: profile } = await betterFetch(\"https://api.atlassian.com/me\", { headers: { Authorization: `Bearer ${token.accessToken}` } });\n\t\t\t\tif (!profile) return null;\n\t\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\t\treturn {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tid: profile.account_id,\n\t\t\t\t\t\tname: profile.name,\n\t\t\t\t\t\temail: profile.email,\n\t\t\t\t\t\timage: profile.picture,\n\t\t\t\t\t\temailVerified: false,\n\t\t\t\t\t\t...userMap\n\t\t\t\t\t},\n\t\t\t\t\tdata: profile\n\t\t\t\t};\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\"Failed to fetch user info from Figma:\", error);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { atlassian };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,2CAA2C;AAC3C,MAAM,YAAY,CAAC;IAClB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,MAAM,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE;YACxE,IAAI,CAAC,QAAQ,QAAQ,IAAI,CAAC,QAAQ,YAAY,EAAE;gBAC/C,8KAAM,CAAC,KAAK,CAAC;gBACb,MAAM,IAAI,wMAAe,CAAC;YAC3B;YACA,IAAI,CAAC,cAAc,MAAM,IAAI,wMAAe,CAAC;YAC7C,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;gBAAkB;aAAiB;YACvF,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;gBACA,kBAAkB;oBAAE,UAAU;gBAAoB;gBAClD,QAAQ,QAAQ,MAAM;YACvB;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,IAAI,CAAC,MAAM,WAAW,EAAE,OAAO;YAC/B,IAAI;gBACH,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,gCAAgC;oBAAE,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;oBAAC;gBAAE;gBACxI,IAAI,CAAC,SAAS,OAAO;gBACrB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;gBACjD,OAAO;oBACN,MAAM;wBACL,IAAI,QAAQ,UAAU;wBACtB,MAAM,QAAQ,IAAI;wBAClB,OAAO,QAAQ,KAAK;wBACpB,OAAO,QAAQ,OAAO;wBACtB,eAAe;wBACf,GAAG,OAAO;oBACX;oBACA,MAAM;gBACP;YACD,EAAE,OAAO,OAAO;gBACf,8KAAM,CAAC,KAAK,CAAC,yCAAyC;gBACtD,OAAO;YACR;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 3280, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/cognito.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\nimport { BetterAuthError } from \"../error/index.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\nimport { decodeJwt, decodeProtectedHeader, importJWK, jwtVerify } from \"jose\";\nimport { APIError } from \"better-call\";\n\n//#region src/social-providers/cognito.ts\nconst cognito = (options) => {\n\tif (!options.domain || !options.region || !options.userPoolId) {\n\t\tlogger.error(\"Domain, region and userPoolId are required for Amazon Cognito. Make sure to provide them in the options.\");\n\t\tthrow new BetterAuthError(\"DOMAIN_AND_REGION_REQUIRED\");\n\t}\n\tconst cleanDomain = options.domain.replace(/^https?:\\/\\//, \"\");\n\tconst authorizationEndpoint = `https://${cleanDomain}/oauth2/authorize`;\n\tconst tokenEndpoint = `https://${cleanDomain}/oauth2/token`;\n\tconst userInfoEndpoint = `https://${cleanDomain}/oauth2/userinfo`;\n\treturn {\n\t\tid: \"cognito\",\n\t\tname: \"Cognito\",\n\t\tasync createAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n\t\t\tif (!options.clientId) {\n\t\t\t\tlogger.error(\"ClientId is required for Amazon Cognito. Make sure to provide them in the options.\");\n\t\t\t\tthrow new BetterAuthError(\"CLIENT_ID_AND_SECRET_REQUIRED\");\n\t\t\t}\n\t\t\tif (options.requireClientSecret && !options.clientSecret) {\n\t\t\t\tlogger.error(\"Client Secret is required when requireClientSecret is true. Make sure to provide it in the options.\");\n\t\t\t\tthrow new BetterAuthError(\"CLIENT_SECRET_REQUIRED\");\n\t\t\t}\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"openid\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"email\"\n\t\t\t];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\tconst url = await createAuthorizationURL({\n\t\t\t\tid: \"cognito\",\n\t\t\t\toptions: { ...options },\n\t\t\t\tauthorizationEndpoint,\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\tprompt: options.prompt\n\t\t\t});\n\t\t\tconst scopeValue = url.searchParams.get(\"scope\");\n\t\t\tif (scopeValue) {\n\t\t\t\turl.searchParams.delete(\"scope\");\n\t\t\t\tconst encodedScope = encodeURIComponent(scopeValue);\n\t\t\t\tconst urlString = url.toString();\n\t\t\t\tconst separator = urlString.includes(\"?\") ? \"&\" : \"?\";\n\t\t\t\treturn new URL(`${urlString}${separator}scope=${encodedScope}`);\n\t\t\t}\n\t\t\treturn url;\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\tasync verifyIdToken(token, nonce) {\n\t\t\tif (options.disableIdTokenSignIn) return false;\n\t\t\tif (options.verifyIdToken) return options.verifyIdToken(token, nonce);\n\t\t\ttry {\n\t\t\t\tconst { kid, alg: jwtAlg } = decodeProtectedHeader(token);\n\t\t\t\tif (!kid || !jwtAlg) return false;\n\t\t\t\tconst publicKey = await getCognitoPublicKey(kid, options.region, options.userPoolId);\n\t\t\t\tconst expectedIssuer = `https://cognito-idp.${options.region}.amazonaws.com/${options.userPoolId}`;\n\t\t\t\tconst { payload: jwtClaims } = await jwtVerify(token, publicKey, {\n\t\t\t\t\talgorithms: [jwtAlg],\n\t\t\t\t\tissuer: expectedIssuer,\n\t\t\t\t\taudience: options.clientId,\n\t\t\t\t\tmaxTokenAge: \"1h\"\n\t\t\t\t});\n\t\t\t\tif (nonce && jwtClaims.nonce !== nonce) return false;\n\t\t\t\treturn true;\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\"Failed to verify ID token:\", error);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tif (token.idToken) try {\n\t\t\t\tconst profile = decodeJwt(token.idToken);\n\t\t\t\tif (!profile) return null;\n\t\t\t\tconst name = profile.name || profile.given_name || profile.username || profile.email;\n\t\t\t\tconst enrichedProfile = {\n\t\t\t\t\t...profile,\n\t\t\t\t\tname\n\t\t\t\t};\n\t\t\t\tconst userMap = await options.mapProfileToUser?.(enrichedProfile);\n\t\t\t\treturn {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tid: profile.sub,\n\t\t\t\t\t\tname: enrichedProfile.name,\n\t\t\t\t\t\temail: profile.email,\n\t\t\t\t\t\timage: profile.picture,\n\t\t\t\t\t\temailVerified: profile.email_verified,\n\t\t\t\t\t\t...userMap\n\t\t\t\t\t},\n\t\t\t\t\tdata: enrichedProfile\n\t\t\t\t};\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\"Failed to decode ID token:\", error);\n\t\t\t}\n\t\t\tif (token.accessToken) try {\n\t\t\t\tconst { data: userInfo } = await betterFetch(userInfoEndpoint, { headers: { Authorization: `Bearer ${token.accessToken}` } });\n\t\t\t\tif (userInfo) {\n\t\t\t\t\tconst userMap = await options.mapProfileToUser?.(userInfo);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\tid: userInfo.sub,\n\t\t\t\t\t\t\tname: userInfo.name || userInfo.given_name || userInfo.username,\n\t\t\t\t\t\t\temail: userInfo.email,\n\t\t\t\t\t\t\timage: userInfo.picture,\n\t\t\t\t\t\t\temailVerified: userInfo.email_verified,\n\t\t\t\t\t\t\t...userMap\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata: userInfo\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\"Failed to fetch user info from Cognito:\", error);\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\toptions\n\t};\n};\nconst getCognitoPublicKey = async (kid, region, userPoolId) => {\n\tconst COGNITO_JWKS_URI = `https://cognito-idp.${region}.amazonaws.com/${userPoolId}/.well-known/jwks.json`;\n\ttry {\n\t\tconst { data } = await betterFetch(COGNITO_JWKS_URI);\n\t\tif (!data?.keys) throw new APIError(\"BAD_REQUEST\", { message: \"Keys not found\" });\n\t\tconst jwk = data.keys.find((key) => key.kid === kid);\n\t\tif (!jwk) throw new Error(`JWK with kid ${kid} not found`);\n\t\treturn await importJWK(jwk, jwk.alg);\n\t} catch (error) {\n\t\tlogger.error(\"Failed to fetch Cognito public key:\", error);\n\t\tthrow error;\n\t}\n};\n\n//#endregion\nexport { cognito, getCognitoPublicKey };"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3477, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/discord.mjs"],"sourcesContent":["import { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/discord.ts\nconst discord = (options) => {\n\treturn {\n\t\tid: \"discord\",\n\t\tname: \"Discord\",\n\t\tcreateAuthorizationURL({ state, scopes, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"identify\", \"email\"];\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tconst permissionsParam = _scopes.includes(\"bot\") && options.permissions !== void 0 ? `&permissions=${options.permissions}` : \"\";\n\t\t\treturn new URL(`https://discord.com/api/oauth2/authorize?scope=${_scopes.join(\"+\")}&response_type=code&client_id=${options.clientId}&redirect_uri=${encodeURIComponent(options.redirectURI || redirectURI)}&state=${state}&prompt=${options.prompt || \"none\"}${permissionsParam}`);\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://discord.com/api/oauth2/token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://discord.com/api/oauth2/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://discord.com/api/users/@me\", { headers: { authorization: `Bearer ${token.accessToken}` } });\n\t\t\tif (error) return null;\n\t\t\tif (profile.avatar === null) profile.image_url = `https://cdn.discordapp.com/embed/avatars/${profile.discriminator === \"0\" ? Number(BigInt(profile.id) >> BigInt(22)) % 6 : parseInt(profile.discriminator) % 5}.png`;\n\t\t\telse {\n\t\t\t\tconst format = profile.avatar.startsWith(\"a_\") ? \"gif\" : \"png\";\n\t\t\t\tprofile.image_url = `https://cdn.discordapp.com/avatars/${profile.id}/${profile.avatar}.${format}`;\n\t\t\t}\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.id,\n\t\t\t\t\tname: profile.global_name || profile.username || \"\",\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\temailVerified: profile.verified,\n\t\t\t\t\timage: profile.image_url,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { discord };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,yCAAyC;AACzC,MAAM,UAAU,CAAC;IAChB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE;YACpD,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;gBAAY;aAAQ;YACxE,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,MAAM,mBAAmB,QAAQ,QAAQ,CAAC,UAAU,QAAQ,WAAW,KAAK,KAAK,IAAI,CAAC,aAAa,EAAE,QAAQ,WAAW,EAAE,GAAG;YAC7H,OAAO,IAAI,IAAI,CAAC,+CAA+C,EAAE,QAAQ,IAAI,CAAC,KAAK,8BAA8B,EAAE,QAAQ,QAAQ,CAAC,cAAc,EAAE,mBAAmB,QAAQ,WAAW,IAAI,aAAa,OAAO,EAAE,MAAM,QAAQ,EAAE,QAAQ,MAAM,IAAI,SAAS,kBAAkB;QAClR;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,qCAAqC;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YAAE;YACpJ,IAAI,OAAO,OAAO;YAClB,IAAI,QAAQ,MAAM,KAAK,MAAM,QAAQ,SAAS,GAAG,CAAC,yCAAyC,EAAE,QAAQ,aAAa,KAAK,MAAM,OAAO,OAAO,QAAQ,EAAE,KAAK,OAAO,OAAO,IAAI,SAAS,QAAQ,aAAa,IAAI,EAAE,IAAI,CAAC;iBAChN;gBACJ,MAAM,SAAS,QAAQ,MAAM,CAAC,UAAU,CAAC,QAAQ,QAAQ;gBACzD,QAAQ,SAAS,GAAG,CAAC,mCAAmC,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE,QAAQ,MAAM,CAAC,CAAC,EAAE,QAAQ;YACnG;YACA,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,EAAE;oBACd,MAAM,QAAQ,WAAW,IAAI,QAAQ,QAAQ,IAAI;oBACjD,OAAO,QAAQ,KAAK;oBACpB,eAAe,QAAQ,QAAQ;oBAC/B,OAAO,QAAQ,SAAS;oBACxB,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 3557, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/dropbox.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/dropbox.ts\nconst dropbox = (options) => {\n\tconst tokenEndpoint = \"https://api.dropboxapi.com/oauth2/token\";\n\treturn {\n\t\tid: \"dropbox\",\n\t\tname: \"Dropbox\",\n\t\tcreateAuthorizationURL: async ({ state, scopes, codeVerifier, redirectURI }) => {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"account_info.read\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\tconst additionalParams = {};\n\t\t\tif (options.accessType) additionalParams.token_access_type = options.accessType;\n\t\t\treturn await createAuthorizationURL({\n\t\t\t\tid: \"dropbox\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://www.dropbox.com/oauth2/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tredirectURI,\n\t\t\t\tcodeVerifier,\n\t\t\t\tadditionalParams\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn await validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://api.dropbox.com/oauth2/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://api.dropboxapi.com/2/users/get_current_account\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { Authorization: `Bearer ${token.accessToken}` }\n\t\t\t});\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.account_id,\n\t\t\t\t\tname: profile.name?.display_name,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\temailVerified: profile.email_verified || false,\n\t\t\t\t\timage: profile.profile_photo_url,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { dropbox };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,yCAAyC;AACzC,MAAM,UAAU,CAAC;IAChB,MAAM,gBAAgB;IACtB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAwB,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE;YAC1E,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;aAAoB;YACxE,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,MAAM,mBAAmB,CAAC;YAC1B,IAAI,QAAQ,UAAU,EAAE,iBAAiB,iBAAiB,GAAG,QAAQ,UAAU;YAC/E,OAAO,MAAM,IAAA,yNAAsB,EAAC;gBACnC,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,MAAM,IAAA,+NAAyB,EAAC;gBACtC;gBACA;gBACA;gBACA;gBACA;YACD;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,0DAA0D;gBAC5G,QAAQ;gBACR,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YACzD;YACA,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,UAAU;oBACtB,MAAM,QAAQ,IAAI,EAAE;oBACpB,OAAO,QAAQ,KAAK;oBACpB,eAAe,QAAQ,cAAc,IAAI;oBACzC,OAAO,QAAQ,iBAAiB;oBAChC,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 3646, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/facebook.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\nimport { createRemoteJWKSet, decodeJwt, jwtVerify } from \"jose\";\n\n//#region src/social-providers/facebook.ts\nconst facebook = (options) => {\n\treturn {\n\t\tid: \"facebook\",\n\t\tname: \"Facebook\",\n\t\tasync createAuthorizationURL({ state, scopes, redirectURI, loginHint }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"email\", \"public_profile\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn await createAuthorizationURL({\n\t\t\t\tid: \"facebook\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://www.facebook.com/v21.0/dialog/oauth\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tredirectURI,\n\t\t\t\tloginHint,\n\t\t\t\tadditionalParams: options.configId ? { config_id: options.configId } : {}\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://graph.facebook.com/oauth/access_token\"\n\t\t\t});\n\t\t},\n\t\tasync verifyIdToken(token, nonce) {\n\t\t\tif (options.disableIdTokenSignIn) return false;\n\t\t\tif (options.verifyIdToken) return options.verifyIdToken(token, nonce);\n\t\t\tif (token.split(\".\").length === 3) try {\n\t\t\t\tconst { payload: jwtClaims } = await jwtVerify(token, createRemoteJWKSet(new URL(\"https://limited.facebook.com/.well-known/oauth/openid/jwks/\")), {\n\t\t\t\t\talgorithms: [\"RS256\"],\n\t\t\t\t\taudience: options.clientId,\n\t\t\t\t\tissuer: \"https://www.facebook.com\"\n\t\t\t\t});\n\t\t\t\tif (nonce && jwtClaims.nonce !== nonce) return false;\n\t\t\t\treturn !!jwtClaims;\n\t\t\t} catch {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://graph.facebook.com/v18.0/oauth/access_token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tif (token.idToken && token.idToken.split(\".\").length === 3) {\n\t\t\t\tconst profile$1 = decodeJwt(token.idToken);\n\t\t\t\tconst user = {\n\t\t\t\t\tid: profile$1.sub,\n\t\t\t\t\tname: profile$1.name,\n\t\t\t\t\temail: profile$1.email,\n\t\t\t\t\tpicture: { data: {\n\t\t\t\t\t\turl: profile$1.picture,\n\t\t\t\t\t\theight: 100,\n\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\tis_silhouette: false\n\t\t\t\t\t} }\n\t\t\t\t};\n\t\t\t\tconst userMap$1 = await options.mapProfileToUser?.({\n\t\t\t\t\t...user,\n\t\t\t\t\temail_verified: false\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\t...user,\n\t\t\t\t\t\temailVerified: false,\n\t\t\t\t\t\t...userMap$1\n\t\t\t\t\t},\n\t\t\t\t\tdata: profile$1\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://graph.facebook.com/me?fields=\" + [\n\t\t\t\t\"id\",\n\t\t\t\t\"name\",\n\t\t\t\t\"email\",\n\t\t\t\t\"picture\",\n\t\t\t\t...options?.fields || []\n\t\t\t].join(\",\"), { auth: {\n\t\t\t\ttype: \"Bearer\",\n\t\t\t\ttoken: token.accessToken\n\t\t\t} });\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.id,\n\t\t\t\t\tname: profile.name,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\timage: profile.picture.data.url,\n\t\t\t\t\temailVerified: profile.email_verified,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { facebook };"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3790, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/figma.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\nimport { BetterAuthError } from \"../error/index.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/figma.ts\nconst figma = (options) => {\n\treturn {\n\t\tid: \"figma\",\n\t\tname: \"Figma\",\n\t\tasync createAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n\t\t\tif (!options.clientId || !options.clientSecret) {\n\t\t\t\tlogger.error(\"Client Id and Client Secret are required for Figma. Make sure to provide them in the options.\");\n\t\t\t\tthrow new BetterAuthError(\"CLIENT_ID_AND_SECRET_REQUIRED\");\n\t\t\t}\n\t\t\tif (!codeVerifier) throw new BetterAuthError(\"codeVerifier is required for Figma\");\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"current_user:read\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn await createAuthorizationURL({\n\t\t\t\tid: \"figma\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://www.figma.com/oauth\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://api.figma.com/v1/oauth/token\",\n\t\t\t\tauthentication: \"basic\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://api.figma.com/v1/oauth/token\",\n\t\t\t\tauthentication: \"basic\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\ttry {\n\t\t\t\tconst { data: profile } = await betterFetch(\"https://api.figma.com/v1/me\", { headers: { Authorization: `Bearer ${token.accessToken}` } });\n\t\t\t\tif (!profile) {\n\t\t\t\t\tlogger.error(\"Failed to fetch user from Figma\");\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\t\treturn {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tid: profile.id,\n\t\t\t\t\t\tname: profile.handle,\n\t\t\t\t\t\temail: profile.email,\n\t\t\t\t\t\timage: profile.img_url,\n\t\t\t\t\t\temailVerified: false,\n\t\t\t\t\t\t...userMap\n\t\t\t\t\t},\n\t\t\t\t\tdata: profile\n\t\t\t\t};\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\"Failed to fetch user info from Figma:\", error);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { figma };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,uCAAuC;AACvC,MAAM,QAAQ,CAAC;IACd,OAAO;QACN,IAAI;QACJ,MAAM;QACN,MAAM,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE;YACxE,IAAI,CAAC,QAAQ,QAAQ,IAAI,CAAC,QAAQ,YAAY,EAAE;gBAC/C,8KAAM,CAAC,KAAK,CAAC;gBACb,MAAM,IAAI,wMAAe,CAAC;YAC3B;YACA,IAAI,CAAC,cAAc,MAAM,IAAI,wMAAe,CAAC;YAC7C,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;aAAoB;YACxE,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,MAAM,IAAA,yNAAsB,EAAC;gBACnC,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA,eAAe;gBACf,gBAAgB;YACjB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;gBACf,gBAAgB;YACjB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,IAAI;gBACH,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,+BAA+B;oBAAE,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;oBAAC;gBAAE;gBACvI,IAAI,CAAC,SAAS;oBACb,8KAAM,CAAC,KAAK,CAAC;oBACb,OAAO;gBACR;gBACA,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;gBACjD,OAAO;oBACN,MAAM;wBACL,IAAI,QAAQ,EAAE;wBACd,MAAM,QAAQ,MAAM;wBACpB,OAAO,QAAQ,KAAK;wBACpB,OAAO,QAAQ,OAAO;wBACtB,eAAe;wBACf,GAAG,OAAO;oBACX;oBACA,MAAM;gBACP;YACD,EAAE,OAAO,OAAO;gBACf,8KAAM,CAAC,KAAK,CAAC,yCAAyC;gBACtD,OAAO;YACR;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 3895, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/github.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/github.ts\nconst github = (options) => {\n\tconst tokenEndpoint = \"https://github.com/login/oauth/access_token\";\n\treturn {\n\t\tid: \"github\",\n\t\tname: \"GitHub\",\n\t\tcreateAuthorizationURL({ state, scopes, loginHint, codeVerifier, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"read:user\", \"user:email\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"github\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://github.com/login/oauth/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\tloginHint,\n\t\t\t\tprompt: options.prompt\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://github.com/login/oauth/access_token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://api.github.com/user\", { headers: {\n\t\t\t\t\"User-Agent\": \"better-auth\",\n\t\t\t\tauthorization: `Bearer ${token.accessToken}`\n\t\t\t} });\n\t\t\tif (error) return null;\n\t\t\tconst { data: emails } = await betterFetch(\"https://api.github.com/user/emails\", { headers: {\n\t\t\t\tAuthorization: `Bearer ${token.accessToken}`,\n\t\t\t\t\"User-Agent\": \"better-auth\"\n\t\t\t} });\n\t\t\tif (!profile.email && emails) profile.email = (emails.find((e) => e.primary) ?? emails[0])?.email;\n\t\t\tconst emailVerified = emails?.find((e) => e.email === profile.email)?.verified ?? false;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.id,\n\t\t\t\t\tname: profile.name || profile.login,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\timage: profile.avatar_url,\n\t\t\t\t\temailVerified,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { github };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,wCAAwC;AACxC,MAAM,SAAS,CAAC;IACf,MAAM,gBAAgB;IACtB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,WAAW,EAAE;YAC7E,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;gBAAa;aAAa;YAC9E,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;gBACA;gBACA,QAAQ,QAAQ,MAAM;YACvB;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA;YACD;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,+BAA+B;gBAAE,SAAS;oBAC5F,cAAc;oBACd,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAC7C;YAAE;YACF,IAAI,OAAO,OAAO;YAClB,MAAM,EAAE,MAAM,MAAM,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,sCAAsC;gBAAE,SAAS;oBAC3F,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;oBAC5C,cAAc;gBACf;YAAE;YACF,IAAI,CAAC,QAAQ,KAAK,IAAI,QAAQ,QAAQ,KAAK,GAAG,CAAC,OAAO,IAAI,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK,MAAM,CAAC,EAAE,GAAG;YAC5F,MAAM,gBAAgB,QAAQ,KAAK,CAAC,IAAM,EAAE,KAAK,KAAK,QAAQ,KAAK,GAAG,YAAY;YAClF,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,EAAE;oBACd,MAAM,QAAQ,IAAI,IAAI,QAAQ,KAAK;oBACnC,OAAO,QAAQ,KAAK;oBACpB,OAAO,QAAQ,UAAU;oBACzB;oBACA,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 3992, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/gitlab.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/gitlab.ts\nconst cleanDoubleSlashes = (input = \"\") => {\n\treturn input.split(\"://\").map((str) => str.replace(/\\/{2,}/g, \"/\")).join(\"://\");\n};\nconst issuerToEndpoints = (issuer) => {\n\tconst baseUrl = issuer || \"https://gitlab.com\";\n\treturn {\n\t\tauthorizationEndpoint: cleanDoubleSlashes(`${baseUrl}/oauth/authorize`),\n\t\ttokenEndpoint: cleanDoubleSlashes(`${baseUrl}/oauth/token`),\n\t\tuserinfoEndpoint: cleanDoubleSlashes(`${baseUrl}/api/v4/user`)\n\t};\n};\nconst gitlab = (options) => {\n\tconst { authorizationEndpoint, tokenEndpoint, userinfoEndpoint } = issuerToEndpoints(options.issuer);\n\tconst issuerId = \"gitlab\";\n\treturn {\n\t\tid: issuerId,\n\t\tname: \"Gitlab\",\n\t\tcreateAuthorizationURL: async ({ state, scopes, codeVerifier, loginHint, redirectURI }) => {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"read_user\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn await createAuthorizationURL({\n\t\t\t\tid: issuerId,\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint,\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tredirectURI,\n\t\t\t\tcodeVerifier,\n\t\t\t\tloginHint\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI, codeVerifier }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\tcodeVerifier,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(userinfoEndpoint, { headers: { authorization: `Bearer ${token.accessToken}` } });\n\t\t\tif (error || profile.state !== \"active\" || profile.locked) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.id,\n\t\t\t\t\tname: profile.name ?? profile.username,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\timage: profile.avatar_url,\n\t\t\t\t\temailVerified: profile.email_verified ?? false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { gitlab };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,wCAAwC;AACxC,MAAM,qBAAqB,CAAC,QAAQ,EAAE;IACrC,OAAO,MAAM,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC,MAAQ,IAAI,OAAO,CAAC,WAAW,MAAM,IAAI,CAAC;AAC1E;AACA,MAAM,oBAAoB,CAAC;IAC1B,MAAM,UAAU,UAAU;IAC1B,OAAO;QACN,uBAAuB,mBAAmB,GAAG,QAAQ,gBAAgB,CAAC;QACtE,eAAe,mBAAmB,GAAG,QAAQ,YAAY,CAAC;QAC1D,kBAAkB,mBAAmB,GAAG,QAAQ,YAAY,CAAC;IAC9D;AACD;AACA,MAAM,SAAS,CAAC;IACf,MAAM,EAAE,qBAAqB,EAAE,aAAa,EAAE,gBAAgB,EAAE,GAAG,kBAAkB,QAAQ,MAAM;IACnG,MAAM,WAAW;IACjB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAwB,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,SAAS,EAAE,WAAW,EAAE;YACrF,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;aAAY;YAChE,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,MAAM,IAAA,yNAAsB,EAAC;gBACnC,IAAI;gBACJ;gBACA;gBACA,QAAQ;gBACR;gBACA;gBACA;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA;YACD;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA;YACD;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,kBAAkB;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YAAE;YACjI,IAAI,SAAS,QAAQ,KAAK,KAAK,YAAY,QAAQ,MAAM,EAAE,OAAO;YAClE,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,EAAE;oBACd,MAAM,QAAQ,IAAI,IAAI,QAAQ,QAAQ;oBACtC,OAAO,QAAQ,KAAK;oBACpB,OAAO,QAAQ,UAAU;oBACzB,eAAe,QAAQ,cAAc,IAAI;oBACzC,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 4090, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/google.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\nimport { BetterAuthError } from \"../error/index.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\nimport { decodeJwt, decodeProtectedHeader, importJWK, jwtVerify } from \"jose\";\nimport { APIError } from \"better-call\";\n\n//#region src/social-providers/google.ts\nconst google = (options) => {\n\treturn {\n\t\tid: \"google\",\n\t\tname: \"Google\",\n\t\tasync createAuthorizationURL({ state, scopes, codeVerifier, redirectURI, loginHint, display }) {\n\t\t\tif (!options.clientId || !options.clientSecret) {\n\t\t\t\tlogger.error(\"Client Id and Client Secret is required for Google. Make sure to provide them in the options.\");\n\t\t\t\tthrow new BetterAuthError(\"CLIENT_ID_AND_SECRET_REQUIRED\");\n\t\t\t}\n\t\t\tif (!codeVerifier) throw new BetterAuthError(\"codeVerifier is required for Google\");\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"email\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"openid\"\n\t\t\t];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn await createAuthorizationURL({\n\t\t\t\tid: \"google\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://accounts.google.com/o/oauth2/auth\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\tprompt: options.prompt,\n\t\t\t\taccessType: options.accessType,\n\t\t\t\tdisplay: display || options.display,\n\t\t\t\tloginHint,\n\t\t\t\thd: options.hd,\n\t\t\t\tadditionalParams: { include_granted_scopes: \"true\" }\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://oauth2.googleapis.com/token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://www.googleapis.com/oauth2/v4/token\"\n\t\t\t});\n\t\t},\n\t\tasync verifyIdToken(token, nonce) {\n\t\t\tif (options.disableIdTokenSignIn) return false;\n\t\t\tif (options.verifyIdToken) return options.verifyIdToken(token, nonce);\n\t\t\tconst { kid, alg: jwtAlg } = decodeProtectedHeader(token);\n\t\t\tif (!kid || !jwtAlg) return false;\n\t\t\tconst { payload: jwtClaims } = await jwtVerify(token, await getGooglePublicKey(kid), {\n\t\t\t\talgorithms: [jwtAlg],\n\t\t\t\tissuer: [\"https://accounts.google.com\", \"accounts.google.com\"],\n\t\t\t\taudience: options.clientId,\n\t\t\t\tmaxTokenAge: \"1h\"\n\t\t\t});\n\t\t\tif (nonce && jwtClaims.nonce !== nonce) return false;\n\t\t\treturn true;\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tif (!token.idToken) return null;\n\t\t\tconst user = decodeJwt(token.idToken);\n\t\t\tconst userMap = await options.mapProfileToUser?.(user);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: user.sub,\n\t\t\t\t\tname: user.name,\n\t\t\t\t\temail: user.email,\n\t\t\t\t\timage: user.picture,\n\t\t\t\t\temailVerified: user.email_verified,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: user\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\nconst getGooglePublicKey = async (kid) => {\n\tconst { data } = await betterFetch(\"https://www.googleapis.com/oauth2/v3/certs\");\n\tif (!data?.keys) throw new APIError(\"BAD_REQUEST\", { message: \"Keys not found\" });\n\tconst jwk = data.keys.find((key) => key.kid === kid);\n\tif (!jwk) throw new Error(`JWK with kid ${kid} not found`);\n\treturn await importJWK(jwk, jwk.alg);\n};\n\n//#endregion\nexport { getGooglePublicKey, google };"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4229, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/huggingface.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/huggingface.ts\nconst huggingface = (options) => {\n\treturn {\n\t\tid: \"huggingface\",\n\t\tname: \"Hugging Face\",\n\t\tcreateAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"openid\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"email\"\n\t\t\t];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"huggingface\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://huggingface.co/oauth/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://huggingface.co/oauth/token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://huggingface.co/oauth/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://huggingface.co/oauth/userinfo\", {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: { Authorization: `Bearer ${token.accessToken}` }\n\t\t\t});\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.sub,\n\t\t\t\t\tname: profile.name || profile.preferred_username,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\timage: profile.picture,\n\t\t\t\t\temailVerified: profile.email_verified ?? false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { huggingface };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,6CAA6C;AAC7C,MAAM,cAAc,CAAC;IACpB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE;YAClE,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAClD;gBACA;gBACA;aACA;YACD,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,yCAAyC;gBAC3F,QAAQ;gBACR,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YACzD;YACA,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,GAAG;oBACf,MAAM,QAAQ,IAAI,IAAI,QAAQ,kBAAkB;oBAChD,OAAO,QAAQ,KAAK;oBACpB,OAAO,QAAQ,OAAO;oBACtB,eAAe,QAAQ,cAAc,IAAI;oBACzC,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 4316, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/kakao.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/kakao.ts\nconst kakao = (options) => {\n\treturn {\n\t\tid: \"kakao\",\n\t\tname: \"Kakao\",\n\t\tcreateAuthorizationURL({ state, scopes, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"account_email\",\n\t\t\t\t\"profile_image\",\n\t\t\t\t\"profile_nickname\"\n\t\t\t];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"kakao\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://kauth.kakao.com/oauth/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tredirectURI\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://kauth.kakao.com/oauth/token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://kauth.kakao.com/oauth/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://kapi.kakao.com/v2/user/me\", { headers: { Authorization: `Bearer ${token.accessToken}` } });\n\t\t\tif (error || !profile) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\tconst account = profile.kakao_account || {};\n\t\t\tconst kakaoProfile = account.profile || {};\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: String(profile.id),\n\t\t\t\t\tname: kakaoProfile.nickname || account.name || void 0,\n\t\t\t\t\temail: account.email,\n\t\t\t\t\timage: kakaoProfile.profile_image_url || kakaoProfile.thumbnail_image_url,\n\t\t\t\t\temailVerified: !!account.is_email_valid && !!account.is_email_verified,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { kakao };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,uCAAuC;AACvC,MAAM,QAAQ,CAAC;IACd,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE;YACpD,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAClD;gBACA;gBACA;aACA;YACD,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,qCAAqC;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YAAE;YACpJ,IAAI,SAAS,CAAC,SAAS,OAAO;YAC9B,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,MAAM,UAAU,QAAQ,aAAa,IAAI,CAAC;YAC1C,MAAM,eAAe,QAAQ,OAAO,IAAI,CAAC;YACzC,OAAO;gBACN,MAAM;oBACL,IAAI,OAAO,QAAQ,EAAE;oBACrB,MAAM,aAAa,QAAQ,IAAI,QAAQ,IAAI,IAAI,KAAK;oBACpD,OAAO,QAAQ,KAAK;oBACpB,OAAO,aAAa,iBAAiB,IAAI,aAAa,mBAAmB;oBACzE,eAAe,CAAC,CAAC,QAAQ,cAAc,IAAI,CAAC,CAAC,QAAQ,iBAAiB;oBACtE,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 4402, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/kick.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/kick.ts\nconst kick = (options) => {\n\treturn {\n\t\tid: \"kick\",\n\t\tname: \"Kick\",\n\t\tcreateAuthorizationURL({ state, scopes, redirectURI, codeVerifier }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"user:read\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"kick\",\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://id.kick.com/oauth/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tcodeVerifier,\n\t\t\t\tstate\n\t\t\t});\n\t\t},\n\t\tasync validateAuthorizationCode({ code, redirectURI, codeVerifier }) {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://id.kick.com/oauth/token\",\n\t\t\t\tcodeVerifier\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://id.kick.com/oauth/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data, error } = await betterFetch(\"https://api.kick.com/public/v1/users\", {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: { Authorization: `Bearer ${token.accessToken}` }\n\t\t\t});\n\t\t\tif (error) return null;\n\t\t\tconst profile = data.data[0];\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.user_id,\n\t\t\t\t\tname: profile.name,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\timage: profile.profile_picture,\n\t\t\t\t\temailVerified: false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { kick };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,sCAAsC;AACtC,MAAM,OAAO,CAAC;IACb,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,YAAY,EAAE;YAClE,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;aAAY;YAChE,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;YACD;QACD;QACA,MAAM,2BAA0B,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE;YAClE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA,eAAe;gBACf;YACD;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,wCAAwC;gBACjF,QAAQ;gBACR,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YACzD;YACA,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,KAAK,IAAI,CAAC,EAAE;YAC5B,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,OAAO;oBACnB,MAAM,QAAQ,IAAI;oBAClB,OAAO,QAAQ,KAAK;oBACpB,OAAO,QAAQ,eAAe;oBAC9B,eAAe;oBACf,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 4487, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/line.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\nimport { decodeJwt } from \"jose\";\n\n//#region src/social-providers/line.ts\n/**\n* LINE Login v2.1\n* - Authorization endpoint: https://access.line.me/oauth2/v2.1/authorize\n* - Token endpoint: https://api.line.me/oauth2/v2.1/token\n* - UserInfo endpoint: https://api.line.me/oauth2/v2.1/userinfo\n* - Verify ID token: https://api.line.me/oauth2/v2.1/verify\n*\n* Docs: https://developers.line.biz/en/reference/line-login/#issue-access-token\n*/\nconst line = (options) => {\n\tconst authorizationEndpoint = \"https://access.line.me/oauth2/v2.1/authorize\";\n\tconst tokenEndpoint = \"https://api.line.me/oauth2/v2.1/token\";\n\tconst userInfoEndpoint = \"https://api.line.me/oauth2/v2.1/userinfo\";\n\tconst verifyIdTokenEndpoint = \"https://api.line.me/oauth2/v2.1/verify\";\n\treturn {\n\t\tid: \"line\",\n\t\tname: \"LINE\",\n\t\tasync createAuthorizationURL({ state, scopes, codeVerifier, redirectURI, loginHint }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"openid\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"email\"\n\t\t\t];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn await createAuthorizationURL({\n\t\t\t\tid: \"line\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint,\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\tloginHint\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\tasync verifyIdToken(token, nonce) {\n\t\t\tif (options.disableIdTokenSignIn) return false;\n\t\t\tif (options.verifyIdToken) return options.verifyIdToken(token, nonce);\n\t\t\tconst body = new URLSearchParams();\n\t\t\tbody.set(\"id_token\", token);\n\t\t\tbody.set(\"client_id\", options.clientId);\n\t\t\tif (nonce) body.set(\"nonce\", nonce);\n\t\t\tconst { data, error } = await betterFetch(verifyIdTokenEndpoint, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"content-type\": \"application/x-www-form-urlencoded\" },\n\t\t\t\tbody\n\t\t\t});\n\t\t\tif (error || !data) return false;\n\t\t\tif (data.aud !== options.clientId) return false;\n\t\t\tif (data.nonce && data.nonce !== nonce) return false;\n\t\t\treturn true;\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tlet profile = null;\n\t\t\tif (token.idToken) try {\n\t\t\t\tprofile = decodeJwt(token.idToken);\n\t\t\t} catch {}\n\t\t\tif (!profile) {\n\t\t\t\tconst { data } = await betterFetch(userInfoEndpoint, { headers: { authorization: `Bearer ${token.accessToken}` } });\n\t\t\t\tprofile = data || null;\n\t\t\t}\n\t\t\tif (!profile) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\tconst id = profile.sub || profile.userId;\n\t\t\tconst name = profile.name || profile.displayName;\n\t\t\tconst image = profile.picture || profile.pictureUrl || void 0;\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid,\n\t\t\t\t\tname,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\timage,\n\t\t\t\t\temailVerified: false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { line };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEA,sCAAsC;AACtC;;;;;;;;AAQA,GACA,MAAM,OAAO,CAAC;IACb,MAAM,wBAAwB;IAC9B,MAAM,gBAAgB;IACtB,MAAM,mBAAmB;IACzB,MAAM,wBAAwB;IAC9B,OAAO;QACN,IAAI;QACJ,MAAM;QACN,MAAM,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE;YACnF,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAClD;gBACA;gBACA;aACA;YACD,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,MAAM,IAAA,yNAAsB,EAAC;gBACnC,IAAI;gBACJ;gBACA;gBACA,QAAQ;gBACR;gBACA;gBACA;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA;YACD;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,cAAc,QAAQ,YAAY;gBACnC;gBACA;YACD;QACD;QACA,MAAM,eAAc,KAAK,EAAE,KAAK;YAC/B,IAAI,QAAQ,oBAAoB,EAAE,OAAO;YACzC,IAAI,QAAQ,aAAa,EAAE,OAAO,QAAQ,aAAa,CAAC,OAAO;YAC/D,MAAM,OAAO,IAAI;YACjB,KAAK,GAAG,CAAC,YAAY;YACrB,KAAK,GAAG,CAAC,aAAa,QAAQ,QAAQ;YACtC,IAAI,OAAO,KAAK,GAAG,CAAC,SAAS;YAC7B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,uBAAuB;gBAChE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAoC;gBAC/D;YACD;YACA,IAAI,SAAS,CAAC,MAAM,OAAO;YAC3B,IAAI,KAAK,GAAG,KAAK,QAAQ,QAAQ,EAAE,OAAO;YAC1C,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,OAAO,OAAO;YAC/C,OAAO;QACR;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,IAAI,UAAU;YACd,IAAI,MAAM,OAAO,EAAE,IAAI;gBACtB,UAAU,IAAA,2KAAS,EAAC,MAAM,OAAO;YAClC,EAAE,OAAM,CAAC;YACT,IAAI,CAAC,SAAS;gBACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,kBAAkB;oBAAE,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;oBAAC;gBAAE;gBACjH,UAAU,QAAQ;YACnB;YACA,IAAI,CAAC,SAAS,OAAO;YACrB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,MAAM,KAAK,QAAQ,GAAG,IAAI,QAAQ,MAAM;YACxC,MAAM,OAAO,QAAQ,IAAI,IAAI,QAAQ,WAAW;YAChD,MAAM,QAAQ,QAAQ,OAAO,IAAI,QAAQ,UAAU,IAAI,KAAK;YAC5D,OAAO;gBACN,MAAM;oBACL;oBACA;oBACA,OAAO,QAAQ,KAAK;oBACpB;oBACA,eAAe;oBACf,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 4616, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/linear.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/linear.ts\nconst linear = (options) => {\n\tconst tokenEndpoint = \"https://api.linear.app/oauth/token\";\n\treturn {\n\t\tid: \"linear\",\n\t\tname: \"Linear\",\n\t\tcreateAuthorizationURL({ state, scopes, loginHint, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"read\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"linear\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://linear.app/oauth/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tredirectURI,\n\t\t\t\tloginHint\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://api.linear.app/graphql\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\tAuthorization: `Bearer ${token.accessToken}`\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ query: `\n\t\t\t\t\t\t\tquery {\n\t\t\t\t\t\t\t\tviewer {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\temail\n\t\t\t\t\t\t\t\t\tavatarUrl\n\t\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\tcreatedAt\n\t\t\t\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t` })\n\t\t\t});\n\t\t\tif (error || !profile?.data?.viewer) return null;\n\t\t\tconst userData = profile.data.viewer;\n\t\t\tconst userMap = await options.mapProfileToUser?.(userData);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.data.viewer.id,\n\t\t\t\t\tname: profile.data.viewer.name,\n\t\t\t\t\temail: profile.data.viewer.email,\n\t\t\t\t\timage: profile.data.viewer.avatarUrl,\n\t\t\t\t\temailVerified: false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: userData\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { linear };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,wCAAwC;AACxC,MAAM,SAAS,CAAC;IACf,MAAM,gBAAgB;IACtB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE;YAC/D,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;aAAO;YAC3D,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;YACD;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA;YACD;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,kCAAkC;gBACpF,QAAQ;gBACR,SAAS;oBACR,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAC7C;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,OAAO,CAAC;;;;;;;;;;;;MAY7B,CAAC;gBAAC;YACL;YACA,IAAI,SAAS,CAAC,SAAS,MAAM,QAAQ,OAAO;YAC5C,MAAM,WAAW,QAAQ,IAAI,CAAC,MAAM;YACpC,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,IAAI,CAAC,MAAM,CAAC,EAAE;oBAC1B,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,IAAI;oBAC9B,OAAO,QAAQ,IAAI,CAAC,MAAM,CAAC,KAAK;oBAChC,OAAO,QAAQ,IAAI,CAAC,MAAM,CAAC,SAAS;oBACpC,eAAe;oBACf,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 4718, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/linkedin.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/linkedin.ts\nconst linkedin = (options) => {\n\tconst authorizationEndpoint = \"https://www.linkedin.com/oauth/v2/authorization\";\n\tconst tokenEndpoint = \"https://www.linkedin.com/oauth/v2/accessToken\";\n\treturn {\n\t\tid: \"linkedin\",\n\t\tname: \"Linkedin\",\n\t\tcreateAuthorizationURL: async ({ state, scopes, redirectURI, loginHint }) => {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"profile\",\n\t\t\t\t\"email\",\n\t\t\t\t\"openid\"\n\t\t\t];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn await createAuthorizationURL({\n\t\t\t\tid: \"linkedin\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint,\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tloginHint,\n\t\t\t\tredirectURI\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn await validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://api.linkedin.com/v2/userinfo\", {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: { Authorization: `Bearer ${token.accessToken}` }\n\t\t\t});\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.sub,\n\t\t\t\t\tname: profile.name,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\temailVerified: profile.email_verified || false,\n\t\t\t\t\timage: profile.picture,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { linkedin };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,0CAA0C;AAC1C,MAAM,WAAW,CAAC;IACjB,MAAM,wBAAwB;IAC9B,MAAM,gBAAgB;IACtB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAwB,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,SAAS,EAAE;YACvE,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAClD;gBACA;gBACA;aACA;YACD,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,MAAM,IAAA,yNAAsB,EAAC;gBACnC,IAAI;gBACJ;gBACA;gBACA,QAAQ;gBACR;gBACA;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,OAAO,MAAM,IAAA,+NAAyB,EAAC;gBACtC;gBACA;gBACA;gBACA;YACD;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA;YACD;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,wCAAwC;gBAC1F,QAAQ;gBACR,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YACzD;YACA,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,GAAG;oBACf,MAAM,QAAQ,IAAI;oBAClB,OAAO,QAAQ,KAAK;oBACpB,eAAe,QAAQ,cAAc,IAAI;oBACzC,OAAO,QAAQ,OAAO;oBACtB,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 4806, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/microsoft-entra-id.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { base64 } from \"@better-auth/utils/base64\";\nimport { betterFetch } from \"@better-fetch/fetch\";\nimport { decodeJwt } from \"jose\";\n\n//#region src/social-providers/microsoft-entra-id.ts\nconst microsoft = (options) => {\n\tconst tenant = options.tenantId || \"common\";\n\tconst authority = options.authority || \"https://login.microsoftonline.com\";\n\tconst authorizationEndpoint = `${authority}/${tenant}/oauth2/v2.0/authorize`;\n\tconst tokenEndpoint = `${authority}/${tenant}/oauth2/v2.0/token`;\n\treturn {\n\t\tid: \"microsoft\",\n\t\tname: \"Microsoft EntraID\",\n\t\tcreateAuthorizationURL(data) {\n\t\t\tconst scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"openid\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"email\",\n\t\t\t\t\"User.Read\",\n\t\t\t\t\"offline_access\"\n\t\t\t];\n\t\t\tif (options.scope) scopes.push(...options.scope);\n\t\t\tif (data.scopes) scopes.push(...data.scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"microsoft\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint,\n\t\t\t\tstate: data.state,\n\t\t\t\tcodeVerifier: data.codeVerifier,\n\t\t\t\tscopes,\n\t\t\t\tredirectURI: data.redirectURI,\n\t\t\t\tprompt: options.prompt,\n\t\t\t\tloginHint: data.loginHint\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode({ code, codeVerifier, redirectURI }) {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tif (!token.idToken) return null;\n\t\t\tconst user = decodeJwt(token.idToken);\n\t\t\tconst profilePhotoSize = options.profilePhotoSize || 48;\n\t\t\tawait betterFetch(`https://graph.microsoft.com/v1.0/me/photos/${profilePhotoSize}x${profilePhotoSize}/$value`, {\n\t\t\t\theaders: { Authorization: `Bearer ${token.accessToken}` },\n\t\t\t\tasync onResponse(context) {\n\t\t\t\t\tif (options.disableProfilePhoto || !context.response.ok) return;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst pictureBuffer = await context.response.clone().arrayBuffer();\n\t\t\t\t\t\tuser.picture = `data:image/jpeg;base64, ${base64.encode(pictureBuffer)}`;\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlogger.error(e && typeof e === \"object\" && \"name\" in e ? e.name : \"\", e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst userMap = await options.mapProfileToUser?.(user);\n\t\t\tconst emailVerified = user.email_verified !== void 0 ? user.email_verified : user.email && (user.verified_primary_email?.includes(user.email) || user.verified_secondary_email?.includes(user.email)) ? true : false;\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: user.sub,\n\t\t\t\t\tname: user.name,\n\t\t\t\t\temail: user.email,\n\t\t\t\t\timage: user.picture,\n\t\t\t\t\temailVerified,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: user\n\t\t\t};\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\tconst scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"openid\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"email\",\n\t\t\t\t\"User.Read\",\n\t\t\t\t\"offline_access\"\n\t\t\t];\n\t\t\tif (options.scope) scopes.push(...options.scope);\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\textraParams: { scope: scopes.join(\" \") },\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { microsoft };"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4930, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/naver.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/naver.ts\nconst naver = (options) => {\n\treturn {\n\t\tid: \"naver\",\n\t\tname: \"Naver\",\n\t\tcreateAuthorizationURL({ state, scopes, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"profile\", \"email\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"naver\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://nid.naver.com/oauth2.0/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tredirectURI\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://nid.naver.com/oauth2.0/token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://nid.naver.com/oauth2.0/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://openapi.naver.com/v1/nid/me\", { headers: { Authorization: `Bearer ${token.accessToken}` } });\n\t\t\tif (error || !profile || profile.resultcode !== \"00\") return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\tconst res = profile.response || {};\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: res.id,\n\t\t\t\t\tname: res.name || res.nickname,\n\t\t\t\t\temail: res.email,\n\t\t\t\t\timage: res.profile_image,\n\t\t\t\t\temailVerified: false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { naver };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,uCAAuC;AACvC,MAAM,QAAQ,CAAC;IACd,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE;YACpD,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;gBAAW;aAAQ;YACvE,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,uCAAuC;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YAAE;YACtJ,IAAI,SAAS,CAAC,WAAW,QAAQ,UAAU,KAAK,MAAM,OAAO;YAC7D,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,MAAM,MAAM,QAAQ,QAAQ,IAAI,CAAC;YACjC,OAAO;gBACN,MAAM;oBACL,IAAI,IAAI,EAAE;oBACV,MAAM,IAAI,IAAI,IAAI,IAAI,QAAQ;oBAC9B,OAAO,IAAI,KAAK;oBAChB,OAAO,IAAI,aAAa;oBACxB,eAAe;oBACf,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 5014, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/notion.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/notion.ts\nconst notion = (options) => {\n\tconst tokenEndpoint = \"https://api.notion.com/v1/oauth/token\";\n\treturn {\n\t\tid: \"notion\",\n\t\tname: \"Notion\",\n\t\tcreateAuthorizationURL({ state, scopes, loginHint, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"notion\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://api.notion.com/v1/oauth/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tredirectURI,\n\t\t\t\tloginHint,\n\t\t\t\tadditionalParams: { owner: \"user\" }\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint,\n\t\t\t\tauthentication: \"basic\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://api.notion.com/v1/users/me\", { headers: {\n\t\t\t\tAuthorization: `Bearer ${token.accessToken}`,\n\t\t\t\t\"Notion-Version\": \"2022-06-28\"\n\t\t\t} });\n\t\t\tif (error || !profile) return null;\n\t\t\tconst userProfile = profile.bot?.owner?.user;\n\t\t\tif (!userProfile) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(userProfile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: userProfile.id,\n\t\t\t\t\tname: userProfile.name || \"Notion User\",\n\t\t\t\t\temail: userProfile.person?.email || null,\n\t\t\t\t\timage: userProfile.avatar_url,\n\t\t\t\t\temailVerified: false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: userProfile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { notion };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,wCAAwC;AACxC,MAAM,SAAS,CAAC;IACf,MAAM,gBAAgB;IACtB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE;YAC/D,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG,EAAE;YACrD,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;gBACA,kBAAkB;oBAAE,OAAO;gBAAO;YACnC;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA,gBAAgB;YACjB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA;YACD;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,sCAAsC;gBAAE,SAAS;oBACnG,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;oBAC5C,kBAAkB;gBACnB;YAAE;YACF,IAAI,SAAS,CAAC,SAAS,OAAO;YAC9B,MAAM,cAAc,QAAQ,GAAG,EAAE,OAAO;YACxC,IAAI,CAAC,aAAa,OAAO;YACzB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,YAAY,EAAE;oBAClB,MAAM,YAAY,IAAI,IAAI;oBAC1B,OAAO,YAAY,MAAM,EAAE,SAAS;oBACpC,OAAO,YAAY,UAAU;oBAC7B,eAAe;oBACf,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 5103, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/paybin.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\nimport { BetterAuthError } from \"../error/index.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { decodeJwt } from \"jose\";\n\n//#region src/social-providers/paybin.ts\nconst paybin = (options) => {\n\tconst issuer = options.issuer || \"https://idp.paybin.io\";\n\tconst authorizationEndpoint = `${issuer}/oauth2/authorize`;\n\tconst tokenEndpoint = `${issuer}/oauth2/token`;\n\treturn {\n\t\tid: \"paybin\",\n\t\tname: \"Paybin\",\n\t\tasync createAuthorizationURL({ state, scopes, codeVerifier, redirectURI, loginHint }) {\n\t\t\tif (!options.clientId || !options.clientSecret) {\n\t\t\t\tlogger.error(\"Client Id and Client Secret is required for Paybin. Make sure to provide them in the options.\");\n\t\t\t\tthrow new BetterAuthError(\"CLIENT_ID_AND_SECRET_REQUIRED\");\n\t\t\t}\n\t\t\tif (!codeVerifier) throw new BetterAuthError(\"codeVerifier is required for Paybin\");\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"openid\",\n\t\t\t\t\"email\",\n\t\t\t\t\"profile\"\n\t\t\t];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn await createAuthorizationURL({\n\t\t\t\tid: \"paybin\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint,\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\tprompt: options.prompt,\n\t\t\t\tloginHint\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tif (!token.idToken) return null;\n\t\t\tconst user = decodeJwt(token.idToken);\n\t\t\tconst userMap = await options.mapProfileToUser?.(user);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: user.sub,\n\t\t\t\t\tname: user.name || user.preferred_username || (user.email ? user.email.split(\"@\")[0] : \"User\") || \"User\",\n\t\t\t\t\temail: user.email,\n\t\t\t\t\timage: user.picture,\n\t\t\t\t\temailVerified: user.email_verified || false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: user\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { paybin };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,wCAAwC;AACxC,MAAM,SAAS,CAAC;IACf,MAAM,SAAS,QAAQ,MAAM,IAAI;IACjC,MAAM,wBAAwB,GAAG,OAAO,iBAAiB,CAAC;IAC1D,MAAM,gBAAgB,GAAG,OAAO,aAAa,CAAC;IAC9C,OAAO;QACN,IAAI;QACJ,MAAM;QACN,MAAM,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE;YACnF,IAAI,CAAC,QAAQ,QAAQ,IAAI,CAAC,QAAQ,YAAY,EAAE;gBAC/C,8KAAM,CAAC,KAAK,CAAC;gBACb,MAAM,IAAI,wMAAe,CAAC;YAC3B;YACA,IAAI,CAAC,cAAc,MAAM,IAAI,wMAAe,CAAC;YAC7C,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAClD;gBACA;gBACA;aACA;YACD,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,MAAM,IAAA,yNAAsB,EAAC;gBACnC,IAAI;gBACJ;gBACA;gBACA,QAAQ;gBACR;gBACA;gBACA;gBACA,QAAQ,QAAQ,MAAM;gBACtB;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA;YACD;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA;YACD;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,IAAI,CAAC,MAAM,OAAO,EAAE,OAAO;YAC3B,MAAM,OAAO,IAAA,2KAAS,EAAC,MAAM,OAAO;YACpC,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,KAAK,GAAG;oBACZ,MAAM,KAAK,IAAI,IAAI,KAAK,kBAAkB,IAAI,CAAC,KAAK,KAAK,GAAG,KAAK,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,MAAM,KAAK;oBAClG,OAAO,KAAK,KAAK;oBACjB,OAAO,KAAK,OAAO;oBACnB,eAAe,KAAK,cAAc,IAAI;oBACtC,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 5201, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/paypal.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\nimport { BetterAuthError } from \"../error/index.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { base64 } from \"@better-auth/utils/base64\";\nimport { betterFetch } from \"@better-fetch/fetch\";\nimport { decodeJwt } from \"jose\";\n\n//#region src/social-providers/paypal.ts\nconst paypal = (options) => {\n\tconst isSandbox = (options.environment || \"sandbox\") === \"sandbox\";\n\tconst authorizationEndpoint = isSandbox ? \"https://www.sandbox.paypal.com/signin/authorize\" : \"https://www.paypal.com/signin/authorize\";\n\tconst tokenEndpoint = isSandbox ? \"https://api-m.sandbox.paypal.com/v1/oauth2/token\" : \"https://api-m.paypal.com/v1/oauth2/token\";\n\tconst userInfoEndpoint = isSandbox ? \"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo\" : \"https://api-m.paypal.com/v1/identity/oauth2/userinfo\";\n\treturn {\n\t\tid: \"paypal\",\n\t\tname: \"PayPal\",\n\t\tasync createAuthorizationURL({ state, codeVerifier, redirectURI }) {\n\t\t\tif (!options.clientId || !options.clientSecret) {\n\t\t\t\tlogger.error(\"Client Id and Client Secret is required for PayPal. Make sure to provide them in the options.\");\n\t\t\t\tthrow new BetterAuthError(\"CLIENT_ID_AND_SECRET_REQUIRED\");\n\t\t\t}\n\t\t\treturn await createAuthorizationURL({\n\t\t\t\tid: \"paypal\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint,\n\t\t\t\tscopes: [],\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\tprompt: options.prompt\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\t/**\n\t\t\t* PayPal requires Basic Auth for token exchange\n\t\t\t**/\n\t\t\tconst credentials = base64.encode(`${options.clientId}:${options.clientSecret}`);\n\t\t\ttry {\n\t\t\t\tconst response = await betterFetch(tokenEndpoint, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Basic ${credentials}`,\n\t\t\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\t\t\"Accept-Language\": \"en_US\",\n\t\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\n\t\t\t\t\t},\n\t\t\t\t\tbody: new URLSearchParams({\n\t\t\t\t\t\tgrant_type: \"authorization_code\",\n\t\t\t\t\t\tcode,\n\t\t\t\t\t\tredirect_uri: redirectURI\n\t\t\t\t\t}).toString()\n\t\t\t\t});\n\t\t\t\tif (!response.data) throw new BetterAuthError(\"FAILED_TO_GET_ACCESS_TOKEN\");\n\t\t\t\tconst data = response.data;\n\t\t\t\treturn {\n\t\t\t\t\taccessToken: data.access_token,\n\t\t\t\t\trefreshToken: data.refresh_token,\n\t\t\t\t\taccessTokenExpiresAt: data.expires_in ? new Date(Date.now() + data.expires_in * 1e3) : void 0,\n\t\t\t\t\tidToken: data.id_token\n\t\t\t\t};\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\"PayPal token exchange failed:\", error);\n\t\t\t\tthrow new BetterAuthError(\"FAILED_TO_GET_ACCESS_TOKEN\");\n\t\t\t}\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\tconst credentials = base64.encode(`${options.clientId}:${options.clientSecret}`);\n\t\t\ttry {\n\t\t\t\tconst response = await betterFetch(tokenEndpoint, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Basic ${credentials}`,\n\t\t\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\t\t\"Accept-Language\": \"en_US\",\n\t\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\n\t\t\t\t\t},\n\t\t\t\t\tbody: new URLSearchParams({\n\t\t\t\t\t\tgrant_type: \"refresh_token\",\n\t\t\t\t\t\trefresh_token: refreshToken\n\t\t\t\t\t}).toString()\n\t\t\t\t});\n\t\t\t\tif (!response.data) throw new BetterAuthError(\"FAILED_TO_REFRESH_ACCESS_TOKEN\");\n\t\t\t\tconst data = response.data;\n\t\t\t\treturn {\n\t\t\t\t\taccessToken: data.access_token,\n\t\t\t\t\trefreshToken: data.refresh_token,\n\t\t\t\t\taccessTokenExpiresAt: data.expires_in ? new Date(Date.now() + data.expires_in * 1e3) : void 0\n\t\t\t\t};\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\"PayPal token refresh failed:\", error);\n\t\t\t\tthrow new BetterAuthError(\"FAILED_TO_REFRESH_ACCESS_TOKEN\");\n\t\t\t}\n\t\t},\n\t\tasync verifyIdToken(token, nonce) {\n\t\t\tif (options.disableIdTokenSignIn) return false;\n\t\t\tif (options.verifyIdToken) return options.verifyIdToken(token, nonce);\n\t\t\ttry {\n\t\t\t\treturn !!decodeJwt(token).sub;\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\"Failed to verify PayPal ID token:\", error);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tif (!token.accessToken) {\n\t\t\t\tlogger.error(\"Access token is required to fetch PayPal user info\");\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tconst response = await betterFetch(`${userInfoEndpoint}?schema=paypalv1.1`, { headers: {\n\t\t\t\t\tAuthorization: `Bearer ${token.accessToken}`,\n\t\t\t\t\tAccept: \"application/json\"\n\t\t\t\t} });\n\t\t\t\tif (!response.data) {\n\t\t\t\t\tlogger.error(\"Failed to fetch user info from PayPal\");\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tconst userInfo = response.data;\n\t\t\t\tconst userMap = await options.mapProfileToUser?.(userInfo);\n\t\t\t\treturn {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tid: userInfo.user_id,\n\t\t\t\t\t\tname: userInfo.name,\n\t\t\t\t\t\temail: userInfo.email,\n\t\t\t\t\t\timage: userInfo.picture,\n\t\t\t\t\t\temailVerified: userInfo.email_verified,\n\t\t\t\t\t\t...userMap\n\t\t\t\t\t},\n\t\t\t\t\tdata: userInfo\n\t\t\t\t};\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\"Failed to fetch user info from PayPal:\", error);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { paypal };"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5359, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/polar.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/polar.ts\nconst polar = (options) => {\n\treturn {\n\t\tid: \"polar\",\n\t\tname: \"Polar\",\n\t\tcreateAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"openid\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"email\"\n\t\t\t];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"polar\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://polar.sh/oauth2/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\tprompt: options.prompt\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://api.polar.sh/v1/oauth2/token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://api.polar.sh/v1/oauth2/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://api.polar.sh/v1/oauth2/userinfo\", { headers: { Authorization: `Bearer ${token.accessToken}` } });\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.id,\n\t\t\t\t\tname: profile.public_name || profile.username,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\timage: profile.avatar_url,\n\t\t\t\t\temailVerified: profile.email_verified ?? false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { polar };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,uCAAuC;AACvC,MAAM,QAAQ,CAAC;IACd,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE;YAClE,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAClD;gBACA;gBACA;aACA;YACD,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;gBACA,QAAQ,QAAQ,MAAM;YACvB;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,2CAA2C;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YAAE;YAC1J,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,EAAE;oBACd,MAAM,QAAQ,WAAW,IAAI,QAAQ,QAAQ;oBAC7C,OAAO,QAAQ,KAAK;oBACpB,OAAO,QAAQ,UAAU;oBACzB,eAAe,QAAQ,cAAc,IAAI;oBACzC,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 5446, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/reddit.mjs"],"sourcesContent":["import { getOAuth2Tokens } from \"../oauth2/utils.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { base64 } from \"@better-auth/utils/base64\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/reddit.ts\nconst reddit = (options) => {\n\treturn {\n\t\tid: \"reddit\",\n\t\tname: \"Reddit\",\n\t\tcreateAuthorizationURL({ state, scopes, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"identity\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"reddit\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://www.reddit.com/api/v1/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tredirectURI,\n\t\t\t\tduration: options.duration\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\tconst body = new URLSearchParams({\n\t\t\t\tgrant_type: \"authorization_code\",\n\t\t\t\tcode,\n\t\t\t\tredirect_uri: options.redirectURI || redirectURI\n\t\t\t});\n\t\t\tconst { data, error } = await betterFetch(\"https://www.reddit.com/api/v1/access_token\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"content-type\": \"application/x-www-form-urlencoded\",\n\t\t\t\t\taccept: \"text/plain\",\n\t\t\t\t\t\"user-agent\": \"better-auth\",\n\t\t\t\t\tAuthorization: `Basic ${base64.encode(`${options.clientId}:${options.clientSecret}`)}`\n\t\t\t\t},\n\t\t\t\tbody: body.toString()\n\t\t\t});\n\t\t\tif (error) throw error;\n\t\t\treturn getOAuth2Tokens(data);\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\tauthentication: \"basic\",\n\t\t\t\ttokenEndpoint: \"https://www.reddit.com/api/v1/access_token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://oauth.reddit.com/api/v1/me\", { headers: {\n\t\t\t\tAuthorization: `Bearer ${token.accessToken}`,\n\t\t\t\t\"User-Agent\": \"better-auth\"\n\t\t\t} });\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.id,\n\t\t\t\t\tname: profile.name,\n\t\t\t\t\temail: profile.oauth_client_id,\n\t\t\t\t\temailVerified: profile.has_verified_email,\n\t\t\t\t\timage: profile.icon_img?.split(\"?\")[0],\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { reddit };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEA,wCAAwC;AACxC,MAAM,SAAS,CAAC;IACf,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE;YACpD,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;aAAW;YAC/D,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA,UAAU,QAAQ,QAAQ;YAC3B;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,MAAM,OAAO,IAAI,gBAAgB;gBAChC,YAAY;gBACZ;gBACA,cAAc,QAAQ,WAAW,IAAI;YACtC;YACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,8CAA8C;gBACvF,QAAQ;gBACR,SAAS;oBACR,gBAAgB;oBAChB,QAAQ;oBACR,cAAc;oBACd,eAAe,CAAC,MAAM,EAAE,wKAAM,CAAC,MAAM,CAAC,GAAG,QAAQ,QAAQ,CAAC,CAAC,EAAE,QAAQ,YAAY,EAAE,GAAG;gBACvF;gBACA,MAAM,KAAK,QAAQ;YACpB;YACA,IAAI,OAAO,MAAM;YACjB,OAAO,IAAA,yLAAe,EAAC;QACxB;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,gBAAgB;gBAChB,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,sCAAsC;gBAAE,SAAS;oBACnG,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;oBAC5C,cAAc;gBACf;YAAE;YACF,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,EAAE;oBACd,MAAM,QAAQ,IAAI;oBAClB,OAAO,QAAQ,eAAe;oBAC9B,eAAe,QAAQ,kBAAkB;oBACzC,OAAO,QAAQ,QAAQ,EAAE,MAAM,IAAI,CAAC,EAAE;oBACtC,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 5544, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/roblox.mjs"],"sourcesContent":["import { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/roblox.ts\nconst roblox = (options) => {\n\treturn {\n\t\tid: \"roblox\",\n\t\tname: \"Roblox\",\n\t\tcreateAuthorizationURL({ state, scopes, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"openid\", \"profile\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn new URL(`https://apis.roblox.com/oauth/v1/authorize?scope=${_scopes.join(\"+\")}&response_type=code&client_id=${options.clientId}&redirect_uri=${encodeURIComponent(options.redirectURI || redirectURI)}&state=${state}&prompt=${options.prompt || \"select_account consent\"}`);\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI: options.redirectURI || redirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://apis.roblox.com/oauth/v1/token\",\n\t\t\t\tauthentication: \"post\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://apis.roblox.com/oauth/v1/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://apis.roblox.com/oauth/v1/userinfo\", { headers: { authorization: `Bearer ${token.accessToken}` } });\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.sub,\n\t\t\t\t\tname: profile.nickname || profile.preferred_username || \"\",\n\t\t\t\t\timage: profile.picture,\n\t\t\t\t\temail: profile.preferred_username || null,\n\t\t\t\t\temailVerified: false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: { ...profile }\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { roblox };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,wCAAwC;AACxC,MAAM,SAAS,CAAC;IACf,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE;YACpD,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;gBAAU;aAAU;YACxE,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAI,IAAI,CAAC,iDAAiD,EAAE,QAAQ,IAAI,CAAC,KAAK,8BAA8B,EAAE,QAAQ,QAAQ,CAAC,cAAc,EAAE,mBAAmB,QAAQ,WAAW,IAAI,aAAa,OAAO,EAAE,MAAM,QAAQ,EAAE,QAAQ,MAAM,IAAI,0BAA0B;QACnR;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA,aAAa,QAAQ,WAAW,IAAI;gBACpC;gBACA,eAAe;gBACf,gBAAgB;YACjB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,6CAA6C;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YAAE;YAC5J,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,GAAG;oBACf,MAAM,QAAQ,QAAQ,IAAI,QAAQ,kBAAkB,IAAI;oBACxD,OAAO,QAAQ,OAAO;oBACtB,OAAO,QAAQ,kBAAkB,IAAI;oBACrC,eAAe;oBACf,GAAG,OAAO;gBACX;gBACA,MAAM;oBAAE,GAAG,OAAO;gBAAC;YACpB;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 5621, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/salesforce.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\nimport { BetterAuthError } from \"../error/index.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/salesforce.ts\nconst salesforce = (options) => {\n\tconst isSandbox = (options.environment ?? \"production\") === \"sandbox\";\n\tconst authorizationEndpoint = options.loginUrl ? `https://${options.loginUrl}/services/oauth2/authorize` : isSandbox ? \"https://test.salesforce.com/services/oauth2/authorize\" : \"https://login.salesforce.com/services/oauth2/authorize\";\n\tconst tokenEndpoint = options.loginUrl ? `https://${options.loginUrl}/services/oauth2/token` : isSandbox ? \"https://test.salesforce.com/services/oauth2/token\" : \"https://login.salesforce.com/services/oauth2/token\";\n\tconst userInfoEndpoint = options.loginUrl ? `https://${options.loginUrl}/services/oauth2/userinfo` : isSandbox ? \"https://test.salesforce.com/services/oauth2/userinfo\" : \"https://login.salesforce.com/services/oauth2/userinfo\";\n\treturn {\n\t\tid: \"salesforce\",\n\t\tname: \"Salesforce\",\n\t\tasync createAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n\t\t\tif (!options.clientId || !options.clientSecret) {\n\t\t\t\tlogger.error(\"Client Id and Client Secret are required for Salesforce. Make sure to provide them in the options.\");\n\t\t\t\tthrow new BetterAuthError(\"CLIENT_ID_AND_SECRET_REQUIRED\");\n\t\t\t}\n\t\t\tif (!codeVerifier) throw new BetterAuthError(\"codeVerifier is required for Salesforce\");\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"openid\",\n\t\t\t\t\"email\",\n\t\t\t\t\"profile\"\n\t\t\t];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"salesforce\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint,\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI: options.redirectURI || redirectURI\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI: options.redirectURI || redirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\ttry {\n\t\t\t\tconst { data: user } = await betterFetch(userInfoEndpoint, { headers: { Authorization: `Bearer ${token.accessToken}` } });\n\t\t\t\tif (!user) {\n\t\t\t\t\tlogger.error(\"Failed to fetch user info from Salesforce\");\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tconst userMap = await options.mapProfileToUser?.(user);\n\t\t\t\treturn {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tid: user.user_id,\n\t\t\t\t\t\tname: user.name,\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\timage: user.photos?.picture || user.photos?.thumbnail,\n\t\t\t\t\t\temailVerified: user.email_verified ?? false,\n\t\t\t\t\t\t...userMap\n\t\t\t\t\t},\n\t\t\t\t\tdata: user\n\t\t\t\t};\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\"Failed to fetch user info from Salesforce:\", error);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { salesforce };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,4CAA4C;AAC5C,MAAM,aAAa,CAAC;IACnB,MAAM,YAAY,CAAC,QAAQ,WAAW,IAAI,YAAY,MAAM;IAC5D,MAAM,wBAAwB,QAAQ,QAAQ,GAAG,CAAC,QAAQ,EAAE,QAAQ,QAAQ,CAAC,0BAA0B,CAAC,GAAG,YAAY,0DAA0D;IACjL,MAAM,gBAAgB,QAAQ,QAAQ,GAAG,CAAC,QAAQ,EAAE,QAAQ,QAAQ,CAAC,sBAAsB,CAAC,GAAG,YAAY,sDAAsD;IACjK,MAAM,mBAAmB,QAAQ,QAAQ,GAAG,CAAC,QAAQ,EAAE,QAAQ,QAAQ,CAAC,yBAAyB,CAAC,GAAG,YAAY,yDAAyD;IAC1K,OAAO;QACN,IAAI;QACJ,MAAM;QACN,MAAM,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE;YACxE,IAAI,CAAC,QAAQ,QAAQ,IAAI,CAAC,QAAQ,YAAY,EAAE;gBAC/C,8KAAM,CAAC,KAAK,CAAC;gBACb,MAAM,IAAI,wMAAe,CAAC;YAC3B;YACA,IAAI,CAAC,cAAc,MAAM,IAAI,wMAAe,CAAC;YAC7C,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAClD;gBACA;gBACA;aACA;YACD,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA;gBACA,QAAQ;gBACR;gBACA;gBACA,aAAa,QAAQ,WAAW,IAAI;YACrC;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA,aAAa,QAAQ,WAAW,IAAI;gBACpC;gBACA;YACD;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,cAAc,QAAQ,YAAY;gBACnC;gBACA;YACD;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,IAAI;gBACH,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,kBAAkB;oBAAE,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;oBAAC;gBAAE;gBACvH,IAAI,CAAC,MAAM;oBACV,8KAAM,CAAC,KAAK,CAAC;oBACb,OAAO;gBACR;gBACA,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;gBACjD,OAAO;oBACN,MAAM;wBACL,IAAI,KAAK,OAAO;wBAChB,MAAM,KAAK,IAAI;wBACf,OAAO,KAAK,KAAK;wBACjB,OAAO,KAAK,MAAM,EAAE,WAAW,KAAK,MAAM,EAAE;wBAC5C,eAAe,KAAK,cAAc,IAAI;wBACtC,GAAG,OAAO;oBACX;oBACA,MAAM;gBACP;YACD,EAAE,OAAO,OAAO;gBACf,8KAAM,CAAC,KAAK,CAAC,8CAA8C;gBAC3D,OAAO;YACR;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 5729, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/slack.mjs"],"sourcesContent":["import { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/slack.ts\nconst slack = (options) => {\n\treturn {\n\t\tid: \"slack\",\n\t\tname: \"Slack\",\n\t\tcreateAuthorizationURL({ state, scopes, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"openid\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"email\"\n\t\t\t];\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tconst url = new URL(\"https://slack.com/openid/connect/authorize\");\n\t\t\turl.searchParams.set(\"scope\", _scopes.join(\" \"));\n\t\t\turl.searchParams.set(\"response_type\", \"code\");\n\t\t\turl.searchParams.set(\"client_id\", options.clientId);\n\t\t\turl.searchParams.set(\"redirect_uri\", options.redirectURI || redirectURI);\n\t\t\turl.searchParams.set(\"state\", state);\n\t\t\treturn url;\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://slack.com/api/openid.connect.token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://slack.com/api/openid.connect.token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://slack.com/api/openid.connect.userInfo\", { headers: { authorization: `Bearer ${token.accessToken}` } });\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile[\"https://slack.com/user_id\"],\n\t\t\t\t\tname: profile.name || \"\",\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\temailVerified: profile.email_verified,\n\t\t\t\t\timage: profile.picture || profile[\"https://slack.com/user_image_512\"],\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { slack };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,uCAAuC;AACvC,MAAM,QAAQ,CAAC;IACd,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE;YACpD,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAClD;gBACA;gBACA;aACA;YACD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,MAAM,MAAM,IAAI,IAAI;YACpB,IAAI,YAAY,CAAC,GAAG,CAAC,SAAS,QAAQ,IAAI,CAAC;YAC3C,IAAI,YAAY,CAAC,GAAG,CAAC,iBAAiB;YACtC,IAAI,YAAY,CAAC,GAAG,CAAC,aAAa,QAAQ,QAAQ;YAClD,IAAI,YAAY,CAAC,GAAG,CAAC,gBAAgB,QAAQ,WAAW,IAAI;YAC5D,IAAI,YAAY,CAAC,GAAG,CAAC,SAAS;YAC9B,OAAO;QACR;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,iDAAiD;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YAAE;YAChK,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,OAAO,CAAC,4BAA4B;oBACxC,MAAM,QAAQ,IAAI,IAAI;oBACtB,OAAO,QAAQ,KAAK;oBACpB,eAAe,QAAQ,cAAc;oBACrC,OAAO,QAAQ,OAAO,IAAI,OAAO,CAAC,mCAAmC;oBACrE,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 5810, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/spotify.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/spotify.ts\nconst spotify = (options) => {\n\treturn {\n\t\tid: \"spotify\",\n\t\tname: \"Spotify\",\n\t\tcreateAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"user-read-email\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"spotify\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://accounts.spotify.com/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://accounts.spotify.com/api/token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://accounts.spotify.com/api/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://api.spotify.com/v1/me\", {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: { Authorization: `Bearer ${token.accessToken}` }\n\t\t\t});\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.id,\n\t\t\t\t\tname: profile.display_name,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\timage: profile.images[0]?.url,\n\t\t\t\t\temailVerified: false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { spotify };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,yCAAyC;AACzC,MAAM,UAAU,CAAC;IAChB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE;YAClE,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;aAAkB;YACtE,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,iCAAiC;gBACnF,QAAQ;gBACR,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YACzD;YACA,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,EAAE;oBACd,MAAM,QAAQ,YAAY;oBAC1B,OAAO,QAAQ,KAAK;oBACpB,OAAO,QAAQ,MAAM,CAAC,EAAE,EAAE;oBAC1B,eAAe;oBACf,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 5895, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/tiktok.mjs"],"sourcesContent":["import { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/tiktok.ts\nconst tiktok = (options) => {\n\treturn {\n\t\tid: \"tiktok\",\n\t\tname: \"TikTok\",\n\t\tcreateAuthorizationURL({ state, scopes, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"user.info.profile\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn new URL(`https://www.tiktok.com/v2/auth/authorize?scope=${_scopes.join(\",\")}&response_type=code&client_key=${options.clientKey}&redirect_uri=${encodeURIComponent(options.redirectURI || redirectURI)}&state=${state}`);\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI: options.redirectURI || redirectURI,\n\t\t\t\toptions: {\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://open.tiktokapis.com/v2/oauth/token/\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: { clientSecret: options.clientSecret },\n\t\t\t\ttokenEndpoint: \"https://open.tiktokapis.com/v2/oauth/token/\",\n\t\t\t\tauthentication: \"post\",\n\t\t\t\textraParams: { client_key: options.clientKey }\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(`https://open.tiktokapis.com/v2/user/info/?fields=${[\n\t\t\t\t\"open_id\",\n\t\t\t\t\"avatar_large_url\",\n\t\t\t\t\"display_name\",\n\t\t\t\t\"username\"\n\t\t\t].join(\",\")}`, { headers: { authorization: `Bearer ${token.accessToken}` } });\n\t\t\tif (error) return null;\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\temail: profile.data.user.email || profile.data.user.username,\n\t\t\t\t\tid: profile.data.user.open_id,\n\t\t\t\t\tname: profile.data.user.display_name || profile.data.user.username,\n\t\t\t\t\timage: profile.data.user.avatar_large_url,\n\t\t\t\t\temailVerified: false\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { tiktok };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,wCAAwC;AACxC,MAAM,SAAS,CAAC;IACf,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE;YACpD,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;aAAoB;YACxE,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAI,IAAI,CAAC,+CAA+C,EAAE,QAAQ,IAAI,CAAC,KAAK,+BAA+B,EAAE,QAAQ,SAAS,CAAC,cAAc,EAAE,mBAAmB,QAAQ,WAAW,IAAI,aAAa,OAAO,EAAE,OAAO;QAC9N;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA,aAAa,QAAQ,WAAW,IAAI;gBACpC,SAAS;oBACR,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBAAE,cAAc,QAAQ,YAAY;gBAAC;gBAC9C,eAAe;gBACf,gBAAgB;gBAChB,aAAa;oBAAE,YAAY,QAAQ,SAAS;gBAAC;YAC9C;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,CAAC,iDAAiD,EAAE;gBACtG;gBACA;gBACA;gBACA;aACA,CAAC,IAAI,CAAC,MAAM,EAAE;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YAAE;YAC3E,IAAI,OAAO,OAAO;YAClB,OAAO;gBACN,MAAM;oBACL,OAAO,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ;oBAC5D,IAAI,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO;oBAC7B,MAAM,QAAQ,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ;oBAClE,OAAO,QAAQ,IAAI,CAAC,IAAI,CAAC,gBAAgB;oBACzC,eAAe;gBAChB;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 5976, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/twitch.mjs"],"sourcesContent":["import { logger } from \"../env/logger.mjs\";\nimport \"../env/index.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { decodeJwt } from \"jose\";\n\n//#region src/social-providers/twitch.ts\nconst twitch = (options) => {\n\treturn {\n\t\tid: \"twitch\",\n\t\tname: \"Twitch\",\n\t\tcreateAuthorizationURL({ state, scopes, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"user:read:email\", \"openid\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"twitch\",\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://id.twitch.tv/oauth2/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tclaims: options.claims || [\n\t\t\t\t\t\"email\",\n\t\t\t\t\t\"email_verified\",\n\t\t\t\t\t\"preferred_username\",\n\t\t\t\t\t\"picture\"\n\t\t\t\t]\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://id.twitch.tv/oauth2/token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://id.twitch.tv/oauth2/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst idToken = token.idToken;\n\t\t\tif (!idToken) {\n\t\t\t\tlogger.error(\"No idToken found in token\");\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst profile = decodeJwt(idToken);\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.sub,\n\t\t\t\t\tname: profile.preferred_username,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\timage: profile.picture,\n\t\t\t\t\temailVerified: profile.email_verified,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { twitch };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA,wCAAwC;AACxC,MAAM,SAAS,CAAC;IACf,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE;YACpD,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;gBAAmB;aAAS;YAChF,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA,QAAQ,QAAQ,MAAM,IAAI;oBACzB;oBACA;oBACA;oBACA;iBACA;YACF;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;YACtD,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,UAAU,MAAM,OAAO;YAC7B,IAAI,CAAC,SAAS;gBACb,8KAAM,CAAC,KAAK,CAAC;gBACb,OAAO;YACR;YACA,MAAM,UAAU,IAAA,2KAAS,EAAC;YAC1B,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,GAAG;oBACf,MAAM,QAAQ,kBAAkB;oBAChC,OAAO,QAAQ,KAAK;oBACpB,OAAO,QAAQ,OAAO;oBACtB,eAAe,QAAQ,cAAc;oBACrC,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 6069, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/twitter.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/twitter.ts\nconst twitter = (options) => {\n\treturn {\n\t\tid: \"twitter\",\n\t\tname: \"Twitter\",\n\t\tcreateAuthorizationURL(data) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\n\t\t\t\t\"users.read\",\n\t\t\t\t\"tweet.read\",\n\t\t\t\t\"offline.access\",\n\t\t\t\t\"users.email\"\n\t\t\t];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (data.scopes) _scopes.push(...data.scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"twitter\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://x.com/i/oauth2/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate: data.state,\n\t\t\t\tcodeVerifier: data.codeVerifier,\n\t\t\t\tredirectURI: data.redirectURI\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tauthentication: \"basic\",\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://api.x.com/2/oauth2/token\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\tauthentication: \"basic\",\n\t\t\t\ttokenEndpoint: \"https://api.x.com/2/oauth2/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error: profileError } = await betterFetch(\"https://api.x.com/2/users/me?user.fields=profile_image_url\", {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: { Authorization: `Bearer ${token.accessToken}` }\n\t\t\t});\n\t\t\tif (profileError) return null;\n\t\t\tconst { data: emailData, error: emailError } = await betterFetch(\"https://api.x.com/2/users/me?user.fields=confirmed_email\", {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: { Authorization: `Bearer ${token.accessToken}` }\n\t\t\t});\n\t\t\tlet emailVerified = false;\n\t\t\tif (!emailError && emailData?.data?.confirmed_email) {\n\t\t\t\tprofile.data.email = emailData.data.confirmed_email;\n\t\t\t\temailVerified = true;\n\t\t\t}\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.data.id,\n\t\t\t\t\tname: profile.data.name,\n\t\t\t\t\temail: profile.data.email || profile.data.username || null,\n\t\t\t\t\timage: profile.data.profile_image_url,\n\t\t\t\t\temailVerified,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { twitter };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,yCAAyC;AACzC,MAAM,UAAU,CAAC;IAChB,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,IAAI;YAC1B,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAClD;gBACA;gBACA;gBACA;aACA;YACD,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,KAAK,MAAM,EAAE,QAAQ,IAAI,IAAI,KAAK,MAAM;YAC5C,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR,OAAO,KAAK,KAAK;gBACjB,cAAc,KAAK,YAAY;gBAC/B,aAAa,KAAK,WAAW;YAC9B;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA,gBAAgB;gBAChB;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,gBAAgB;gBAChB,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,8DAA8D;gBAC9H,QAAQ;gBACR,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YACzD;YACA,IAAI,cAAc,OAAO;YACzB,MAAM,EAAE,MAAM,SAAS,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,4DAA4D;gBAC5H,QAAQ;gBACR,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YACzD;YACA,IAAI,gBAAgB;YACpB,IAAI,CAAC,cAAc,WAAW,MAAM,iBAAiB;gBACpD,QAAQ,IAAI,CAAC,KAAK,GAAG,UAAU,IAAI,CAAC,eAAe;gBACnD,gBAAgB;YACjB;YACA,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,IAAI,CAAC,EAAE;oBACnB,MAAM,QAAQ,IAAI,CAAC,IAAI;oBACvB,OAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,QAAQ,IAAI,CAAC,QAAQ,IAAI;oBACtD,OAAO,QAAQ,IAAI,CAAC,iBAAiB;oBACrC;oBACA,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 6170, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/vercel.mjs"],"sourcesContent":["import { BetterAuthError } from \"../error/index.mjs\";\nimport { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/vercel.ts\nconst vercel = (options) => {\n\treturn {\n\t\tid: \"vercel\",\n\t\tname: \"Vercel\",\n\t\tcreateAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n\t\t\tif (!codeVerifier) throw new BetterAuthError(\"codeVerifier is required for Vercel\");\n\t\t\tlet _scopes = void 0;\n\t\t\tif (options.scope !== void 0 || scopes !== void 0) {\n\t\t\t\t_scopes = [];\n\t\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\t}\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"vercel\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://vercel.com/oauth/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://api.vercel.com/login/oauth/token\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://api.vercel.com/login/oauth/userinfo\", { headers: { Authorization: `Bearer ${token.accessToken}` } });\n\t\t\tif (error || !profile) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.sub,\n\t\t\t\t\tname: profile.name ?? profile.preferred_username,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\timage: profile.picture,\n\t\t\t\t\temailVerified: profile.email_verified ?? false,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { vercel };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,wCAAwC;AACxC,MAAM,SAAS,CAAC;IACf,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE;YAClE,IAAI,CAAC,cAAc,MAAM,IAAI,wMAAe,CAAC;YAC7C,IAAI,UAAU,KAAK;YACnB,IAAI,QAAQ,KAAK,KAAK,KAAK,KAAK,WAAW,KAAK,GAAG;gBAClD,UAAU,EAAE;gBACZ,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;gBAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC7B;YACA,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA;gBACA;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,+CAA+C;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YAAE;YAC9J,IAAI,SAAS,CAAC,SAAS,OAAO;YAC9B,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,GAAG;oBACf,MAAM,QAAQ,IAAI,IAAI,QAAQ,kBAAkB;oBAChD,OAAO,QAAQ,KAAK;oBACpB,OAAO,QAAQ,OAAO;oBACtB,eAAe,QAAQ,cAAc,IAAI;oBACzC,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 6245, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/vk.mjs"],"sourcesContent":["import { createAuthorizationURL } from \"../oauth2/create-authorization-url.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/vk.ts\nconst vk = (options) => {\n\treturn {\n\t\tid: \"vk\",\n\t\tname: \"VK\",\n\t\tasync createAuthorizationURL({ state, scopes, codeVerifier, redirectURI }) {\n\t\t\tconst _scopes = options.disableDefaultScope ? [] : [\"email\", \"phone\"];\n\t\t\tif (options.scope) _scopes.push(...options.scope);\n\t\t\tif (scopes) _scopes.push(...scopes);\n\t\t\treturn createAuthorizationURL({\n\t\t\t\tid: \"vk\",\n\t\t\t\toptions,\n\t\t\t\tauthorizationEndpoint: \"https://id.vk.com/authorize\",\n\t\t\t\tscopes: _scopes,\n\t\t\t\tstate,\n\t\t\t\tredirectURI,\n\t\t\t\tcodeVerifier\n\t\t\t});\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, codeVerifier, redirectURI, deviceId }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tcodeVerifier,\n\t\t\t\tredirectURI: options.redirectURI || redirectURI,\n\t\t\t\toptions,\n\t\t\t\tdeviceId,\n\t\t\t\ttokenEndpoint: \"https://id.vk.com/oauth2/auth\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => {\n\t\t\treturn refreshAccessToken({\n\t\t\t\trefreshToken,\n\t\t\t\toptions: {\n\t\t\t\t\tclientId: options.clientId,\n\t\t\t\t\tclientKey: options.clientKey,\n\t\t\t\t\tclientSecret: options.clientSecret\n\t\t\t\t},\n\t\t\t\ttokenEndpoint: \"https://id.vk.com/oauth2/auth\"\n\t\t\t});\n\t\t},\n\t\tasync getUserInfo(data) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(data);\n\t\t\tif (!data.accessToken) return null;\n\t\t\tconst formBody = new URLSearchParams({\n\t\t\t\taccess_token: data.accessToken,\n\t\t\t\tclient_id: options.clientId\n\t\t\t}).toString();\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://id.vk.com/oauth2/user_info\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n\t\t\t\tbody: formBody\n\t\t\t});\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\tif (!profile.user.email && !userMap?.email) return null;\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.user.user_id,\n\t\t\t\t\tfirst_name: profile.user.first_name,\n\t\t\t\t\tlast_name: profile.user.last_name,\n\t\t\t\t\temail: profile.user.email,\n\t\t\t\t\timage: profile.user.avatar,\n\t\t\t\t\temailVerified: false,\n\t\t\t\t\tbirthday: profile.user.birthday,\n\t\t\t\t\tsex: profile.user.sex,\n\t\t\t\t\tname: `${profile.user.first_name} ${profile.user.last_name}`,\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: profile\n\t\t\t};\n\t\t},\n\t\toptions\n\t};\n};\n\n//#endregion\nexport { vk };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,oCAAoC;AACpC,MAAM,KAAK,CAAC;IACX,OAAO;QACN,IAAI;QACJ,MAAM;QACN,MAAM,wBAAuB,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE;YACxE,MAAM,UAAU,QAAQ,mBAAmB,GAAG,EAAE,GAAG;gBAAC;gBAAS;aAAQ;YACrE,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,IAAI,QAAQ,KAAK;YAChD,IAAI,QAAQ,QAAQ,IAAI,IAAI;YAC5B,OAAO,IAAA,yNAAsB,EAAC;gBAC7B,IAAI;gBACJ;gBACA,uBAAuB;gBACvB,QAAQ;gBACR;gBACA;gBACA;YACD;QACD;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE,QAAQ,EAAE;YAC9E,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA;gBACA,aAAa,QAAQ,WAAW,IAAI;gBACpC;gBACA;gBACA,eAAe;YAChB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO;YACpF,OAAO,IAAA,iNAAkB,EAAC;gBACzB;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACD;QACA,MAAM,aAAY,IAAI;YACrB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,IAAI,CAAC,KAAK,WAAW,EAAE,OAAO;YAC9B,MAAM,WAAW,IAAI,gBAAgB;gBACpC,cAAc,KAAK,WAAW;gBAC9B,WAAW,QAAQ,QAAQ;YAC5B,GAAG,QAAQ;YACX,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,sCAAsC;gBACxF,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAoC;gBAC/D,MAAM;YACP;YACA,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,SAAS,OAAO,OAAO;YACnD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,IAAI,CAAC,OAAO;oBACxB,YAAY,QAAQ,IAAI,CAAC,UAAU;oBACnC,WAAW,QAAQ,IAAI,CAAC,SAAS;oBACjC,OAAO,QAAQ,IAAI,CAAC,KAAK;oBACzB,OAAO,QAAQ,IAAI,CAAC,MAAM;oBAC1B,eAAe;oBACf,UAAU,QAAQ,IAAI,CAAC,QAAQ;oBAC/B,KAAK,QAAQ,IAAI,CAAC,GAAG;oBACrB,MAAM,GAAG,QAAQ,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,QAAQ,IAAI,CAAC,SAAS,EAAE;oBAC5D,GAAG,OAAO;gBACX;gBACA,MAAM;YACP;QACD;QACA;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 6343, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/zoom.mjs"],"sourcesContent":["import { generateCodeChallenge } from \"../oauth2/utils.mjs\";\nimport { refreshAccessToken } from \"../oauth2/refresh-access-token.mjs\";\nimport { validateAuthorizationCode } from \"../oauth2/validate-authorization-code.mjs\";\nimport \"../oauth2/index.mjs\";\nimport { betterFetch } from \"@better-fetch/fetch\";\n\n//#region src/social-providers/zoom.ts\nconst zoom = (userOptions) => {\n\tconst options = {\n\t\tpkce: true,\n\t\t...userOptions\n\t};\n\treturn {\n\t\tid: \"zoom\",\n\t\tname: \"Zoom\",\n\t\tcreateAuthorizationURL: async ({ state, redirectURI, codeVerifier }) => {\n\t\t\tconst params = new URLSearchParams({\n\t\t\t\tresponse_type: \"code\",\n\t\t\t\tredirect_uri: options.redirectURI ? options.redirectURI : redirectURI,\n\t\t\t\tclient_id: options.clientId,\n\t\t\t\tstate\n\t\t\t});\n\t\t\tif (options.pkce) {\n\t\t\t\tconst codeChallenge = await generateCodeChallenge(codeVerifier);\n\t\t\t\tparams.set(\"code_challenge_method\", \"S256\");\n\t\t\t\tparams.set(\"code_challenge\", codeChallenge);\n\t\t\t}\n\t\t\tconst url = new URL(\"https://zoom.us/oauth/authorize\");\n\t\t\turl.search = params.toString();\n\t\t\treturn url;\n\t\t},\n\t\tvalidateAuthorizationCode: async ({ code, redirectURI, codeVerifier }) => {\n\t\t\treturn validateAuthorizationCode({\n\t\t\t\tcode,\n\t\t\t\tredirectURI: options.redirectURI || redirectURI,\n\t\t\t\tcodeVerifier,\n\t\t\t\toptions,\n\t\t\t\ttokenEndpoint: \"https://zoom.us/oauth/token\",\n\t\t\t\tauthentication: \"post\"\n\t\t\t});\n\t\t},\n\t\trefreshAccessToken: options.refreshAccessToken ? options.refreshAccessToken : async (refreshToken) => refreshAccessToken({\n\t\t\trefreshToken,\n\t\t\toptions: {\n\t\t\t\tclientId: options.clientId,\n\t\t\t\tclientKey: options.clientKey,\n\t\t\t\tclientSecret: options.clientSecret\n\t\t\t},\n\t\t\ttokenEndpoint: \"https://zoom.us/oauth/token\"\n\t\t}),\n\t\tasync getUserInfo(token) {\n\t\t\tif (options.getUserInfo) return options.getUserInfo(token);\n\t\t\tconst { data: profile, error } = await betterFetch(\"https://api.zoom.us/v2/users/me\", { headers: { authorization: `Bearer ${token.accessToken}` } });\n\t\t\tif (error) return null;\n\t\t\tconst userMap = await options.mapProfileToUser?.(profile);\n\t\t\treturn {\n\t\t\t\tuser: {\n\t\t\t\t\tid: profile.id,\n\t\t\t\t\tname: profile.display_name,\n\t\t\t\t\timage: profile.pic_url,\n\t\t\t\t\temail: profile.email,\n\t\t\t\t\temailVerified: Boolean(profile.verified),\n\t\t\t\t\t...userMap\n\t\t\t\t},\n\t\t\t\tdata: { ...profile }\n\t\t\t};\n\t\t}\n\t};\n};\n\n//#endregion\nexport { zoom };"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,sCAAsC;AACtC,MAAM,OAAO,CAAC;IACb,MAAM,UAAU;QACf,MAAM;QACN,GAAG,WAAW;IACf;IACA,OAAO;QACN,IAAI;QACJ,MAAM;QACN,wBAAwB,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,YAAY,EAAE;YAClE,MAAM,SAAS,IAAI,gBAAgB;gBAClC,eAAe;gBACf,cAAc,QAAQ,WAAW,GAAG,QAAQ,WAAW,GAAG;gBAC1D,WAAW,QAAQ,QAAQ;gBAC3B;YACD;YACA,IAAI,QAAQ,IAAI,EAAE;gBACjB,MAAM,gBAAgB,MAAM,IAAA,+LAAqB,EAAC;gBAClD,OAAO,GAAG,CAAC,yBAAyB;gBACpC,OAAO,GAAG,CAAC,kBAAkB;YAC9B;YACA,MAAM,MAAM,IAAI,IAAI;YACpB,IAAI,MAAM,GAAG,OAAO,QAAQ;YAC5B,OAAO;QACR;QACA,2BAA2B,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE;YACpE,OAAO,IAAA,+NAAyB,EAAC;gBAChC;gBACA,aAAa,QAAQ,WAAW,IAAI;gBACpC;gBACA;gBACA,eAAe;gBACf,gBAAgB;YACjB;QACD;QACA,oBAAoB,QAAQ,kBAAkB,GAAG,QAAQ,kBAAkB,GAAG,OAAO,eAAiB,IAAA,iNAAkB,EAAC;gBACxH;gBACA,SAAS;oBACR,UAAU,QAAQ,QAAQ;oBAC1B,WAAW,QAAQ,SAAS;oBAC5B,cAAc,QAAQ,YAAY;gBACnC;gBACA,eAAe;YAChB;QACA,MAAM,aAAY,KAAK;YACtB,IAAI,QAAQ,WAAW,EAAE,OAAO,QAAQ,WAAW,CAAC;YACpD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,4KAAW,EAAC,mCAAmC;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,WAAW,EAAE;gBAAC;YAAE;YAClJ,IAAI,OAAO,OAAO;YAClB,MAAM,UAAU,MAAM,QAAQ,gBAAgB,GAAG;YACjD,OAAO;gBACN,MAAM;oBACL,IAAI,QAAQ,EAAE;oBACd,MAAM,QAAQ,YAAY;oBAC1B,OAAO,QAAQ,OAAO;oBACtB,OAAO,QAAQ,KAAK;oBACpB,eAAe,QAAQ,QAAQ,QAAQ;oBACvC,GAAG,OAAO;gBACX;gBACA,MAAM;oBAAE,GAAG,OAAO;gBAAC;YACpB;QACD;IACD;AACD","ignoreList":[0]}},
    {"offset": {"line": 6431, "column": 0}, "map": {"version":3,"sources":["file:///Users/einarjaeger/Documents/GitHub/Photovault/node_modules/%40better-auth/core/dist/social-providers/index.mjs"],"sourcesContent":["import { apple, getApplePublicKey } from \"./apple.mjs\";\nimport { atlassian } from \"./atlassian.mjs\";\nimport { cognito, getCognitoPublicKey } from \"./cognito.mjs\";\nimport { discord } from \"./discord.mjs\";\nimport { dropbox } from \"./dropbox.mjs\";\nimport { facebook } from \"./facebook.mjs\";\nimport { figma } from \"./figma.mjs\";\nimport { github } from \"./github.mjs\";\nimport { gitlab } from \"./gitlab.mjs\";\nimport { getGooglePublicKey, google } from \"./google.mjs\";\nimport { huggingface } from \"./huggingface.mjs\";\nimport { kakao } from \"./kakao.mjs\";\nimport { kick } from \"./kick.mjs\";\nimport { line } from \"./line.mjs\";\nimport { linear } from \"./linear.mjs\";\nimport { linkedin } from \"./linkedin.mjs\";\nimport { microsoft } from \"./microsoft-entra-id.mjs\";\nimport { naver } from \"./naver.mjs\";\nimport { notion } from \"./notion.mjs\";\nimport { paybin } from \"./paybin.mjs\";\nimport { paypal } from \"./paypal.mjs\";\nimport { polar } from \"./polar.mjs\";\nimport { reddit } from \"./reddit.mjs\";\nimport { roblox } from \"./roblox.mjs\";\nimport { salesforce } from \"./salesforce.mjs\";\nimport { slack } from \"./slack.mjs\";\nimport { spotify } from \"./spotify.mjs\";\nimport { tiktok } from \"./tiktok.mjs\";\nimport { twitch } from \"./twitch.mjs\";\nimport { twitter } from \"./twitter.mjs\";\nimport { vercel } from \"./vercel.mjs\";\nimport { vk } from \"./vk.mjs\";\nimport { zoom } from \"./zoom.mjs\";\nimport * as z from \"zod\";\n\n//#region src/social-providers/index.ts\nconst socialProviders = {\n\tapple,\n\tatlassian,\n\tcognito,\n\tdiscord,\n\tfacebook,\n\tfigma,\n\tgithub,\n\tmicrosoft,\n\tgoogle,\n\thuggingface,\n\tslack,\n\tspotify,\n\ttwitch,\n\ttwitter,\n\tdropbox,\n\tkick,\n\tlinear,\n\tlinkedin,\n\tgitlab,\n\ttiktok,\n\treddit,\n\troblox,\n\tsalesforce,\n\tvk,\n\tzoom,\n\tnotion,\n\tkakao,\n\tnaver,\n\tline,\n\tpaybin,\n\tpaypal,\n\tpolar,\n\tvercel\n};\nconst socialProviderList = Object.keys(socialProviders);\nconst SocialProviderListEnum = z.enum(socialProviderList).or(z.string());\n\n//#endregion\nexport { SocialProviderListEnum, apple, atlassian, cognito, discord, dropbox, facebook, figma, getApplePublicKey, getCognitoPublicKey, getGooglePublicKey, github, gitlab, google, huggingface, kakao, kick, line, linear, linkedin, microsoft, naver, notion, paybin, paypal, polar, reddit, roblox, salesforce, slack, socialProviderList, socialProviders, spotify, tiktok, twitch, twitter, vercel, vk, zoom };"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,uCAAuC;AACvC,MAAM,kBAAkB;IACvB,OAAA,4LAAK;IACL,WAAA,oMAAS;IACT,SAAA,gMAAO;IACP,SAAA,gMAAO;IACP,UAAA,kMAAQ;IACR,OAAA,4LAAK;IACL,QAAA,8LAAM;IACN,WAAA,mNAAS;IACT,QAAA,8LAAM;IACN,aAAA,wMAAW;IACX,OAAA,4LAAK;IACL,SAAA,gMAAO;IACP,QAAA,8LAAM;IACN,SAAA,gMAAO;IACP,SAAA,gMAAO;IACP,MAAA,0LAAI;IACJ,QAAA,8LAAM;IACN,UAAA,kMAAQ;IACR,QAAA,8LAAM;IACN,QAAA,8LAAM;IACN,QAAA,8LAAM;IACN,QAAA,8LAAM;IACN,YAAA,sMAAU;IACV,IAAA,sLAAE;IACF,MAAA,0LAAI;IACJ,QAAA,8LAAM;IACN,OAAA,4LAAK;IACL,OAAA,4LAAK;IACL,MAAA,0LAAI;IACJ,QAAA,8LAAM;IACN,QAAA,8LAAM;IACN,OAAA,4LAAK;IACL,QAAA,8LAAM;AACP;AACA,MAAM,qBAAqB,OAAO,IAAI,CAAC;AACvC,MAAM,yBAAyB,yJAAM,CAAC,oBAAoB,EAAE,CAAC,2JAAQ","ignoreList":[0]}},
    {"offset": {"line": 6550, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}}]
}