module.exports=[54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},21756,(a,b,c)=>{!function(b){"use strict";var c,d=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},e=function(){throw Error("no PRNG")},f=new Uint8Array(16),g=new Uint8Array(32);g[0]=9;var h=d(),i=d([1]),j=d([56129,1]),k=d([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=d([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=d([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),n=d([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),o=d([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=255&c,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=255&d}function q(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function r(a,b,c,d){return q(a,b,c,d,16)}function s(a,b,c,d){return q(a,b,c,d,32)}function t(a,b,c,d){!function(a,b,c,d){for(var e,f=255&d[0]|(255&d[1])<<8|(255&d[2])<<16|(255&d[3])<<24,g=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,h=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,i=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,j=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,k=255&d[4]|(255&d[5])<<8|(255&d[6])<<16|(255&d[7])<<24,l=255&b[0]|(255&b[1])<<8|(255&b[2])<<16|(255&b[3])<<24,m=255&b[4]|(255&b[5])<<8|(255&b[6])<<16|(255&b[7])<<24,n=255&b[8]|(255&b[9])<<8|(255&b[10])<<16|(255&b[11])<<24,o=255&b[12]|(255&b[13])<<8|(255&b[14])<<16|(255&b[15])<<24,p=255&d[8]|(255&d[9])<<8|(255&d[10])<<16|(255&d[11])<<24,q=255&c[16]|(255&c[17])<<8|(255&c[18])<<16|(255&c[19])<<24,r=255&c[20]|(255&c[21])<<8|(255&c[22])<<16|(255&c[23])<<24,s=255&c[24]|(255&c[25])<<8|(255&c[26])<<16|(255&c[27])<<24,t=255&c[28]|(255&c[29])<<8|(255&c[30])<<16|(255&c[31])<<24,u=255&d[12]|(255&d[13])<<8|(255&d[14])<<16|(255&d[15])<<24,v=f,w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=q,H=r,I=s,J=t,K=u,L=0;L<20;L+=2)z^=(e=v+H|0)<<7|e>>>25,D^=(e=z+v|0)<<9|e>>>23,H^=(e=D+z|0)<<13|e>>>19,v^=(e=H+D|0)<<18|e>>>14,E^=(e=A+w|0)<<7|e>>>25,I^=(e=E+A|0)<<9|e>>>23,w^=(e=I+E|0)<<13|e>>>19,A^=(e=w+I|0)<<18|e>>>14,J^=(e=F+B|0)<<7|e>>>25,x^=(e=J+F|0)<<9|e>>>23,B^=(e=x+J|0)<<13|e>>>19,F^=(e=B+x|0)<<18|e>>>14,y^=(e=K+G|0)<<7|e>>>25,C^=(e=y+K|0)<<9|e>>>23,G^=(e=C+y|0)<<13|e>>>19,K^=(e=G+C|0)<<18|e>>>14,w^=(e=v+y|0)<<7|e>>>25,x^=(e=w+v|0)<<9|e>>>23,y^=(e=x+w|0)<<13|e>>>19,v^=(e=y+x|0)<<18|e>>>14,B^=(e=A+z|0)<<7|e>>>25,C^=(e=B+A|0)<<9|e>>>23,z^=(e=C+B|0)<<13|e>>>19,A^=(e=z+C|0)<<18|e>>>14,G^=(e=F+E|0)<<7|e>>>25,D^=(e=G+F|0)<<9|e>>>23,E^=(e=D+G|0)<<13|e>>>19,F^=(e=E+D|0)<<18|e>>>14,H^=(e=K+J|0)<<7|e>>>25,I^=(e=H+K|0)<<9|e>>>23,J^=(e=I+H|0)<<13|e>>>19,K^=(e=J+I|0)<<18|e>>>14;v=v+f|0,w=w+g|0,x=x+h|0,y=y+i|0,z=z+j|0,A=A+k|0,B=B+l|0,C=C+m|0,D=D+n|0,E=E+o|0,F=F+p|0,G=G+q|0,H=H+r|0,I=I+s|0,J=J+t|0,K=K+u|0,a[0]=v>>>0&255,a[1]=v>>>8&255,a[2]=v>>>16&255,a[3]=v>>>24&255,a[4]=w>>>0&255,a[5]=w>>>8&255,a[6]=w>>>16&255,a[7]=w>>>24&255,a[8]=x>>>0&255,a[9]=x>>>8&255,a[10]=x>>>16&255,a[11]=x>>>24&255,a[12]=y>>>0&255,a[13]=y>>>8&255,a[14]=y>>>16&255,a[15]=y>>>24&255,a[16]=z>>>0&255,a[17]=z>>>8&255,a[18]=z>>>16&255,a[19]=z>>>24&255,a[20]=A>>>0&255,a[21]=A>>>8&255,a[22]=A>>>16&255,a[23]=A>>>24&255,a[24]=B>>>0&255,a[25]=B>>>8&255,a[26]=B>>>16&255,a[27]=B>>>24&255,a[28]=C>>>0&255,a[29]=C>>>8&255,a[30]=C>>>16&255,a[31]=C>>>24&255,a[32]=D>>>0&255,a[33]=D>>>8&255,a[34]=D>>>16&255,a[35]=D>>>24&255,a[36]=E>>>0&255,a[37]=E>>>8&255,a[38]=E>>>16&255,a[39]=E>>>24&255,a[40]=F>>>0&255,a[41]=F>>>8&255,a[42]=F>>>16&255,a[43]=F>>>24&255,a[44]=G>>>0&255,a[45]=G>>>8&255,a[46]=G>>>16&255,a[47]=G>>>24&255,a[48]=H>>>0&255,a[49]=H>>>8&255,a[50]=H>>>16&255,a[51]=H>>>24&255,a[52]=I>>>0&255,a[53]=I>>>8&255,a[54]=I>>>16&255,a[55]=I>>>24&255,a[56]=J>>>0&255,a[57]=J>>>8&255,a[58]=J>>>16&255,a[59]=J>>>24&255,a[60]=K>>>0&255,a[61]=K>>>8&255,a[62]=K>>>16&255,a[63]=K>>>24&255}(a,b,c,d)}function u(a,b,c,d){!function(a,b,c,d){for(var e,f=255&d[0]|(255&d[1])<<8|(255&d[2])<<16|(255&d[3])<<24,g=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,h=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,i=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,j=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,k=255&d[4]|(255&d[5])<<8|(255&d[6])<<16|(255&d[7])<<24,l=255&b[0]|(255&b[1])<<8|(255&b[2])<<16|(255&b[3])<<24,m=255&b[4]|(255&b[5])<<8|(255&b[6])<<16|(255&b[7])<<24,n=255&b[8]|(255&b[9])<<8|(255&b[10])<<16|(255&b[11])<<24,o=255&b[12]|(255&b[13])<<8|(255&b[14])<<16|(255&b[15])<<24,p=255&d[8]|(255&d[9])<<8|(255&d[10])<<16|(255&d[11])<<24,q=255&c[16]|(255&c[17])<<8|(255&c[18])<<16|(255&c[19])<<24,r=255&c[20]|(255&c[21])<<8|(255&c[22])<<16|(255&c[23])<<24,s=255&c[24]|(255&c[25])<<8|(255&c[26])<<16|(255&c[27])<<24,t=255&c[28]|(255&c[29])<<8|(255&c[30])<<16|(255&c[31])<<24,u=255&d[12]|(255&d[13])<<8|(255&d[14])<<16|(255&d[15])<<24,v=f,w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=q,H=r,I=s,J=t,K=u,L=0;L<20;L+=2)z^=(e=v+H|0)<<7|e>>>25,D^=(e=z+v|0)<<9|e>>>23,H^=(e=D+z|0)<<13|e>>>19,v^=(e=H+D|0)<<18|e>>>14,E^=(e=A+w|0)<<7|e>>>25,I^=(e=E+A|0)<<9|e>>>23,w^=(e=I+E|0)<<13|e>>>19,A^=(e=w+I|0)<<18|e>>>14,J^=(e=F+B|0)<<7|e>>>25,x^=(e=J+F|0)<<9|e>>>23,B^=(e=x+J|0)<<13|e>>>19,F^=(e=B+x|0)<<18|e>>>14,y^=(e=K+G|0)<<7|e>>>25,C^=(e=y+K|0)<<9|e>>>23,G^=(e=C+y|0)<<13|e>>>19,K^=(e=G+C|0)<<18|e>>>14,w^=(e=v+y|0)<<7|e>>>25,x^=(e=w+v|0)<<9|e>>>23,y^=(e=x+w|0)<<13|e>>>19,v^=(e=y+x|0)<<18|e>>>14,B^=(e=A+z|0)<<7|e>>>25,C^=(e=B+A|0)<<9|e>>>23,z^=(e=C+B|0)<<13|e>>>19,A^=(e=z+C|0)<<18|e>>>14,G^=(e=F+E|0)<<7|e>>>25,D^=(e=G+F|0)<<9|e>>>23,E^=(e=D+G|0)<<13|e>>>19,F^=(e=E+D|0)<<18|e>>>14,H^=(e=K+J|0)<<7|e>>>25,I^=(e=H+K|0)<<9|e>>>23,J^=(e=I+H|0)<<13|e>>>19,K^=(e=J+I|0)<<18|e>>>14;a[0]=v>>>0&255,a[1]=v>>>8&255,a[2]=v>>>16&255,a[3]=v>>>24&255,a[4]=A>>>0&255,a[5]=A>>>8&255,a[6]=A>>>16&255,a[7]=A>>>24&255,a[8]=F>>>0&255,a[9]=F>>>8&255,a[10]=F>>>16&255,a[11]=F>>>24&255,a[12]=K>>>0&255,a[13]=K>>>8&255,a[14]=K>>>16&255,a[15]=K>>>24&255,a[16]=B>>>0&255,a[17]=B>>>8&255,a[18]=B>>>16&255,a[19]=B>>>24&255,a[20]=C>>>0&255,a[21]=C>>>8&255,a[22]=C>>>16&255,a[23]=C>>>24&255,a[24]=D>>>0&255,a[25]=D>>>8&255,a[26]=D>>>16&255,a[27]=D>>>24&255,a[28]=E>>>0&255,a[29]=E>>>8&255,a[30]=E>>>16&255,a[31]=E>>>24&255}(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h,i,j=new Uint8Array(16),k=new Uint8Array(64);for(i=0;i<16;i++)j[i]=0;for(i=0;i<8;i++)j[i]=f[i];for(;e>=64;){for(t(k,j,g,v),i=0;i<64;i++)a[b+i]=c[d+i]^k[i];for(i=8,h=1;i<16;i++)h=h+(255&j[i])|0,j[i]=255&h,h>>>=8;e-=64,b+=64,d+=64}if(e>0)for(t(k,j,g,v),i=0;i<e;i++)a[b+i]=c[d+i]^k[i];return 0}function x(a,b,c,d,e){var f,g,h=new Uint8Array(16),i=new Uint8Array(64);for(g=0;g<16;g++)h[g]=0;for(g=0;g<8;g++)h[g]=d[g];for(;c>=64;){for(t(i,h,e,v),g=0;g<64;g++)a[b+g]=i[g];for(g=8,f=1;g<16;g++)f=f+(255&h[g])|0,h[g]=255&f,f>>>=8;c-=64,b+=64}if(c>0)for(t(i,h,e,v),g=0;g<c;g++)a[b+g]=i[g];return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);for(var g=new Uint8Array(8),h=0;h<8;h++)g[h]=d[h+16];return x(a,b,c,g,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);for(var i=new Uint8Array(8),j=0;j<8;j++)i[j]=f[j+16];return w(a,b,c,d,e,i,h)}var A=function(a){var b,c,d,e,f,g,h,i;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,b=255&a[0]|(255&a[1])<<8,this.r[0]=8191&b,c=255&a[2]|(255&a[3])<<8,this.r[1]=(b>>>13|c<<3)&8191,d=255&a[4]|(255&a[5])<<8,this.r[2]=(c>>>10|d<<6)&7939,e=255&a[6]|(255&a[7])<<8,this.r[3]=(d>>>7|e<<9)&8191,f=255&a[8]|(255&a[9])<<8,this.r[4]=(e>>>4|f<<12)&255,this.r[5]=f>>>1&8190,g=255&a[10]|(255&a[11])<<8,this.r[6]=(f>>>14|g<<2)&8191,h=255&a[12]|(255&a[13])<<8,this.r[7]=(g>>>11|h<<5)&8065,i=255&a[14]|(255&a[15])<<8,this.r[8]=(h>>>8|i<<8)&8191,this.r[9]=i>>>5&127,this.pad[0]=255&a[16]|(255&a[17])<<8,this.pad[1]=255&a[18]|(255&a[19])<<8,this.pad[2]=255&a[20]|(255&a[21])<<8,this.pad[3]=255&a[22]|(255&a[23])<<8,this.pad[4]=255&a[24]|(255&a[25])<<8,this.pad[5]=255&a[26]|(255&a[27])<<8,this.pad[6]=255&a[28]|(255&a[29])<<8,this.pad[7]=255&a[30]|(255&a[31])<<8};function B(a,b,c,d,e,f){var g=new A(f);return g.update(c,d,e),g.finish(a,b),0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);return B(g,0,c,d,e,f),r(a,b,g,0)}function D(a,b,c,d,e){var f;if(c<32)return -1;for(z(a,0,b,0,c,d,e),B(a,16,a,32,c-32,a),f=0;f<16;f++)a[f]=0;return 0}function E(a,b,c,d,e){var f,g=new Uint8Array(32);if(c<32||(y(g,0,32,d,e),0!==C(b,16,b,32,c-32,g)))return -1;for(z(a,0,b,0,c,d,e),f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=0|b[c]}function G(a){var b,c,d=1;for(b=0;b<16;b++)d=Math.floor((c=a[b]+d+65535)/65536),a[b]=c-65536*d;a[0]+=d-1+37*(d-1)}function H(a,b,c){for(var d,e=~(c-1),f=0;f<16;f++)d=e&(a[f]^b[f]),a[f]^=d,b[f]^=d}function I(a,b){var c,e,f,g=d(),h=d();for(c=0;c<16;c++)h[c]=b[c];for(G(h),G(h),G(h),e=0;e<2;e++){for(c=1,g[0]=h[0]-65517;c<15;c++)g[c]=h[c]-65535-(g[c-1]>>16&1),g[c-1]&=65535;g[15]=h[15]-32767-(g[14]>>16&1),f=g[15]>>16&1,g[14]&=65535,H(h,g,1-f)}for(c=0;c<16;c++)a[2*c]=255&h[c],a[2*c+1]=h[c]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);return I(c,a),I(d,b),s(c,0,d,0)}function K(a){var b=new Uint8Array(32);return I(b,a),1&b[0]}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=c[0],L=c[1],M=c[2],N=c[3],O=c[4],P=c[5],Q=c[6],R=c[7],S=c[8],T=c[9],U=c[10],V=c[11],W=c[12],X=c[13],Y=c[14],Z=c[15];f+=(d=b[0])*K,g+=d*L,h+=d*M,i+=d*N,j+=d*O,k+=d*P,l+=d*Q,m+=d*R,n+=d*S,o+=d*T,p+=d*U,q+=d*V,r+=d*W,s+=d*X,t+=d*Y,u+=d*Z,g+=(d=b[1])*K,h+=d*L,i+=d*M,j+=d*N,k+=d*O,l+=d*P,m+=d*Q,n+=d*R,o+=d*S,p+=d*T,q+=d*U,r+=d*V,s+=d*W,t+=d*X,u+=d*Y,v+=d*Z,h+=(d=b[2])*K,i+=d*L,j+=d*M,k+=d*N,l+=d*O,m+=d*P,n+=d*Q,o+=d*R,p+=d*S,q+=d*T,r+=d*U,s+=d*V,t+=d*W,u+=d*X,v+=d*Y,w+=d*Z,i+=(d=b[3])*K,j+=d*L,k+=d*M,l+=d*N,m+=d*O,n+=d*P,o+=d*Q,p+=d*R,q+=d*S,r+=d*T,s+=d*U,t+=d*V,u+=d*W,v+=d*X,w+=d*Y,x+=d*Z,j+=(d=b[4])*K,k+=d*L,l+=d*M,m+=d*N,n+=d*O,o+=d*P,p+=d*Q,q+=d*R,r+=d*S,s+=d*T,t+=d*U,u+=d*V,v+=d*W,w+=d*X,x+=d*Y,y+=d*Z,k+=(d=b[5])*K,l+=d*L,m+=d*M,n+=d*N,o+=d*O,p+=d*P,q+=d*Q,r+=d*R,s+=d*S,t+=d*T,u+=d*U,v+=d*V,w+=d*W,x+=d*X,y+=d*Y,z+=d*Z,l+=(d=b[6])*K,m+=d*L,n+=d*M,o+=d*N,p+=d*O,q+=d*P,r+=d*Q,s+=d*R,t+=d*S,u+=d*T,v+=d*U,w+=d*V,x+=d*W,y+=d*X,z+=d*Y,A+=d*Z,m+=(d=b[7])*K,n+=d*L,o+=d*M,p+=d*N,q+=d*O,r+=d*P,s+=d*Q,t+=d*R,u+=d*S,v+=d*T,w+=d*U,x+=d*V,y+=d*W,z+=d*X,A+=d*Y,B+=d*Z,n+=(d=b[8])*K,o+=d*L,p+=d*M,q+=d*N,r+=d*O,s+=d*P,t+=d*Q,u+=d*R,v+=d*S,w+=d*T,x+=d*U,y+=d*V,z+=d*W,A+=d*X,B+=d*Y,C+=d*Z,o+=(d=b[9])*K,p+=d*L,q+=d*M,r+=d*N,s+=d*O,t+=d*P,u+=d*Q,v+=d*R,w+=d*S,x+=d*T,y+=d*U,z+=d*V,A+=d*W,B+=d*X,C+=d*Y,D+=d*Z,p+=(d=b[10])*K,q+=d*L,r+=d*M,s+=d*N,t+=d*O,u+=d*P,v+=d*Q,w+=d*R,x+=d*S,y+=d*T,z+=d*U,A+=d*V,B+=d*W,C+=d*X,D+=d*Y,E+=d*Z,q+=(d=b[11])*K,r+=d*L,s+=d*M,t+=d*N,u+=d*O,v+=d*P,w+=d*Q,x+=d*R,y+=d*S,z+=d*T,A+=d*U,B+=d*V,C+=d*W,D+=d*X,E+=d*Y,F+=d*Z,r+=(d=b[12])*K,s+=d*L,t+=d*M,u+=d*N,v+=d*O,w+=d*P,x+=d*Q,y+=d*R,z+=d*S,A+=d*T,B+=d*U,C+=d*V,D+=d*W,E+=d*X,F+=d*Y,G+=d*Z,s+=(d=b[13])*K,t+=d*L,u+=d*M,v+=d*N,w+=d*O,x+=d*P,y+=d*Q,z+=d*R,A+=d*S,B+=d*T,C+=d*U,D+=d*V,E+=d*W,F+=d*X,G+=d*Y,H+=d*Z,t+=(d=b[14])*K,u+=d*L,v+=d*M,w+=d*N,x+=d*O,y+=d*P,z+=d*Q,A+=d*R,B+=d*S,C+=d*T,D+=d*U,E+=d*V,F+=d*W,G+=d*X,H+=d*Y,I+=d*Z,u+=(d=b[15])*K,v+=d*L,w+=d*M,x+=d*N,y+=d*O,z+=d*P,A+=d*Q,B+=d*R,C+=d*S,D+=d*T,E+=d*U,F+=d*V,G+=d*W,H+=d*X,I+=d*Y,J+=d*Z,f+=38*v,g+=38*w,h+=38*x,i+=38*y,j+=38*z,k+=38*A,l+=38*B,m+=38*C,n+=38*D,o+=38*E,p+=38*F,q+=38*G,r+=38*H,s+=38*I,t+=38*J,e=Math.floor((d=f+(e=1)+65535)/65536),f=d-65536*e,e=Math.floor((d=g+e+65535)/65536),g=d-65536*e,e=Math.floor((d=h+e+65535)/65536),h=d-65536*e,e=Math.floor((d=i+e+65535)/65536),i=d-65536*e,e=Math.floor((d=j+e+65535)/65536),j=d-65536*e,e=Math.floor((d=k+e+65535)/65536),k=d-65536*e,e=Math.floor((d=l+e+65535)/65536),l=d-65536*e,e=Math.floor((d=m+e+65535)/65536),m=d-65536*e,e=Math.floor((d=n+e+65535)/65536),n=d-65536*e,e=Math.floor((d=o+e+65535)/65536),o=d-65536*e,e=Math.floor((d=p+e+65535)/65536),p=d-65536*e,e=Math.floor((d=q+e+65535)/65536),q=d-65536*e,e=Math.floor((d=r+e+65535)/65536),r=d-65536*e,e=Math.floor((d=s+e+65535)/65536),s=d-65536*e,e=Math.floor((d=t+e+65535)/65536),t=d-65536*e,e=Math.floor((d=u+e+65535)/65536),u=d-65536*e,f+=e-1+37*(e-1),e=Math.floor((d=f+(e=1)+65535)/65536),f=d-65536*e,e=Math.floor((d=g+e+65535)/65536),g=d-65536*e,e=Math.floor((d=h+e+65535)/65536),h=d-65536*e,e=Math.floor((d=i+e+65535)/65536),i=d-65536*e,e=Math.floor((d=j+e+65535)/65536),j=d-65536*e,e=Math.floor((d=k+e+65535)/65536),k=d-65536*e,e=Math.floor((d=l+e+65535)/65536),l=d-65536*e,e=Math.floor((d=m+e+65535)/65536),m=d-65536*e,e=Math.floor((d=n+e+65535)/65536),n=d-65536*e,e=Math.floor((d=o+e+65535)/65536),o=d-65536*e,e=Math.floor((d=p+e+65535)/65536),p=d-65536*e,e=Math.floor((d=q+e+65535)/65536),q=d-65536*e,e=Math.floor((d=r+e+65535)/65536),r=d-65536*e,e=Math.floor((d=s+e+65535)/65536),s=d-65536*e,e=Math.floor((d=t+e+65535)/65536),t=d-65536*e,e=Math.floor((d=u+e+65535)/65536),u=d-65536*e,f+=e-1+37*(e-1),a[0]=f,a[1]=g,a[2]=h,a[3]=i,a[4]=j,a[5]=k,a[6]=l,a[7]=m,a[8]=n,a[9]=o,a[10]=p,a[11]=q,a[12]=r,a[13]=s,a[14]=t,a[15]=u}function P(a,b){O(a,b,b)}function Q(a,b){var c,e=d();for(c=0;c<16;c++)e[c]=b[c];for(c=253;c>=0;c--)P(e,e),2!==c&&4!==c&&O(e,e,b);for(c=0;c<16;c++)a[c]=e[c]}function R(a,b){var c,e=d();for(c=0;c<16;c++)e[c]=b[c];for(c=250;c>=0;c--)P(e,e),1!==c&&O(e,e,b);for(c=0;c<16;c++)a[c]=e[c]}function S(a,b,c){var e,f,g=new Uint8Array(32),h=new Float64Array(80),i=d(),k=d(),l=d(),m=d(),n=d(),o=d();for(f=0;f<31;f++)g[f]=b[f];for(g[31]=127&b[31]|64,g[0]&=248,L(h,c),f=0;f<16;f++)k[f]=h[f],m[f]=i[f]=l[f]=0;for(f=254,i[0]=m[0]=1;f>=0;--f)H(i,k,e=g[f>>>3]>>>(7&f)&1),H(l,m,e),M(n,i,l),N(i,i,l),M(l,k,m),N(k,k,m),P(m,n),P(o,i),O(i,l,i),O(l,k,n),M(n,i,l),N(i,i,l),P(k,i),N(l,m,o),O(i,l,j),M(i,i,m),O(l,l,i),O(i,m,o),O(m,k,h),P(k,n),H(i,k,e),H(l,m,e);for(f=0;f<16;f++)h[f+16]=i[f],h[f+32]=l[f],h[f+48]=k[f],h[f+64]=m[f];var p=h.subarray(32),q=h.subarray(16);return Q(p,p),O(q,q,p),I(a,q),0}function T(a,b){return S(a,b,g)}function U(a,b){return e(b,32),T(a,b)}function V(a,b,c){var d=new Uint8Array(32);return S(d,c,b),u(a,f,d,v)}A.prototype.blocks=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=2048*!this.fin,x=this.h[0],y=this.h[1],z=this.h[2],A=this.h[3],B=this.h[4],C=this.h[5],D=this.h[6],E=this.h[7],F=this.h[8],G=this.h[9],H=this.r[0],I=this.r[1],J=this.r[2],K=this.r[3],L=this.r[4],M=this.r[5],N=this.r[6],O=this.r[7],P=this.r[8],Q=this.r[9];c>=16;)x+=8191&(d=255&a[b+0]|(255&a[b+1])<<8),y+=(d>>>13|(e=255&a[b+2]|(255&a[b+3])<<8)<<3)&8191,z+=(e>>>10|(f=255&a[b+4]|(255&a[b+5])<<8)<<6)&8191,A+=(f>>>7|(g=255&a[b+6]|(255&a[b+7])<<8)<<9)&8191,B+=(g>>>4|(h=255&a[b+8]|(255&a[b+9])<<8)<<12)&8191,C+=h>>>1&8191,D+=(h>>>14|(i=255&a[b+10]|(255&a[b+11])<<8)<<2)&8191,E+=(i>>>11|(j=255&a[b+12]|(255&a[b+13])<<8)<<5)&8191,F+=(j>>>8|(k=255&a[b+14]|(255&a[b+15])<<8)<<8)&8191,G+=k>>>5|w,l=(m=(l=0)+x*H+5*Q*y+5*P*z+5*O*A+5*N*B)>>>13,m&=8191,m+=5*M*C,m+=5*L*D,m+=5*K*E,m+=5*J*F,m+=5*I*G,l+=m>>>13,m&=8191,l=(n=l+x*I+y*H+5*Q*z+5*P*A+5*O*B)>>>13,n&=8191,n+=5*N*C,n+=5*M*D,n+=5*L*E,n+=5*K*F,n+=5*J*G,l+=n>>>13,n&=8191,l=(o=l+x*J+y*I+z*H+5*Q*A+5*P*B)>>>13,o&=8191,o+=5*O*C,o+=5*N*D,o+=5*M*E,o+=5*L*F,o+=5*K*G,l+=o>>>13,o&=8191,l=(p=l+x*K+y*J+z*I+A*H+5*Q*B)>>>13,p&=8191,p+=5*P*C,p+=5*O*D,p+=5*N*E,p+=5*M*F,p+=5*L*G,l+=p>>>13,p&=8191,l=(q=l+x*L+y*K+z*J+A*I+B*H)>>>13,q&=8191,q+=5*Q*C,q+=5*P*D,q+=5*O*E,q+=5*N*F,q+=5*M*G,l+=q>>>13,q&=8191,l=(r=l+x*M+y*L+z*K+A*J+B*I)>>>13,r&=8191,r+=C*H,r+=5*Q*D,r+=5*P*E,r+=5*O*F,r+=5*N*G,l+=r>>>13,r&=8191,l=(s=l+x*N+y*M+z*L+A*K+B*J)>>>13,s&=8191,s+=C*I,s+=D*H,s+=5*Q*E,s+=5*P*F,s+=5*O*G,l+=s>>>13,s&=8191,l=(t=l+x*O+y*N+z*M+A*L+B*K)>>>13,t&=8191,t+=C*J,t+=D*I,t+=E*H,t+=5*Q*F,t+=5*P*G,l+=t>>>13,t&=8191,l=(u=l+x*P+y*O+z*N+A*M+B*L)>>>13,u&=8191,u+=C*K,u+=D*J,u+=E*I,u+=F*H,u+=5*Q*G,l+=u>>>13,u&=8191,l=(v=l+x*Q+y*P+z*O+A*N+B*M)>>>13,v&=8191,v+=C*L,v+=D*K,v+=E*J,v+=F*I,v+=G*H,l+=v>>>13,v&=8191,m=8191&(l=(l=(l<<2)+l|0)+m|0),l>>>=13,n+=l,x=m,y=n,z=o,A=p,B=q,C=r,D=s,E=t,F=u,G=v,b+=16,c-=16;this.h[0]=x,this.h[1]=y,this.h[2]=z,this.h[3]=A,this.h[4]=B,this.h[5]=C,this.h[6]=D,this.h[7]=E,this.h[8]=F,this.h[9]=G},A.prototype.finish=function(a,b){var c,d,e,f,g=new Uint16Array(10);if(this.leftover){for(f=this.leftover,this.buffer[f++]=1;f<16;f++)this.buffer[f]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,f=2;f<10;f++)this.h[f]+=c,c=this.h[f]>>>13,this.h[f]&=8191;for(this.h[0]+=5*c,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,g[0]=this.h[0]+5,c=g[0]>>>13,g[0]&=8191,f=1;f<10;f++)g[f]=this.h[f]+c,c=g[f]>>>13,g[f]&=8191;for(g[9]-=8192,d=(1^c)-1,f=0;f<10;f++)g[f]&=d;for(f=0,d=~d;f<10;f++)this.h[f]=this.h[f]&d|g[f];for(f=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,e=this.h[0]+this.pad[0],this.h[0]=65535&e;f<8;f++)e=(this.h[f]+this.pad[f]|0)+(e>>>16)|0,this.h[f]=65535&e;a[b+0]=this.h[0]>>>0&255,a[b+1]=this.h[0]>>>8&255,a[b+2]=this.h[1]>>>0&255,a[b+3]=this.h[1]>>>8&255,a[b+4]=this.h[2]>>>0&255,a[b+5]=this.h[2]>>>8&255,a[b+6]=this.h[3]>>>0&255,a[b+7]=this.h[3]>>>8&255,a[b+8]=this.h[4]>>>0&255,a[b+9]=this.h[4]>>>8&255,a[b+10]=this.h[5]>>>0&255,a[b+11]=this.h[5]>>>8&255,a[b+12]=this.h[6]>>>0&255,a[b+13]=this.h[6]>>>8&255,a[b+14]=this.h[7]>>>0&255,a[b+15]=this.h[7]>>>8&255},A.prototype.update=function(a,b,c){var d,e;if(this.leftover){for((e=16-this.leftover)>c&&(e=c),d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];if(c-=e,b+=e,this.leftover+=e,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e),c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};var W=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function X(a,b,c,d){for(var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=new Int32Array(16),F=new Int32Array(16),G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],X=0;d>=128;){for(w=0;w<16;w++)x=8*w+X,E[w]=c[x+0]<<24|c[x+1]<<16|c[x+2]<<8|c[x+3],F[w]=c[x+4]<<24|c[x+5]<<16|c[x+6]<<8|c[x+7];for(w=0;w<80;w++)if(e=G,f=H,g=I,h=J,i=K,j=L,k=M,l=N,m=O,n=P,o=Q,p=R,q=S,r=T,s=U,t=V,y=N,A=65535&(z=V),B=z>>>16,C=65535&y,D=y>>>16,y=(K>>>14|S<<18)^(K>>>18|S<<14)^(S>>>9|K<<23),A+=65535&(z=(S>>>14|K<<18)^(S>>>18|K<<14)^(K>>>9|S<<23)),B+=z>>>16,C+=65535&y,D+=y>>>16,y=K&L^~K&M,A+=65535&(z=S&T^~S&U),B+=z>>>16,C+=65535&y,D+=y>>>16,y=W[2*w],A+=65535&(z=W[2*w+1]),B+=z>>>16,C+=65535&y,D+=y>>>16,y=E[w%16],A+=65535&(z=F[w%16]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,u=65535&C|D<<16,v=65535&A|B<<16,y=u,A=65535&(z=v),B=z>>>16,C=65535&y,D=y>>>16,y=(G>>>28|O<<4)^(O>>>2|G<<30)^(O>>>7|G<<25),A+=65535&(z=(O>>>28|G<<4)^(G>>>2|O<<30)^(G>>>7|O<<25)),B+=z>>>16,C+=65535&y,D+=y>>>16,y=G&H^G&I^H&I,A+=65535&(z=O&P^O&Q^P&Q),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,l=65535&C|D<<16,t=65535&A|B<<16,y=h,A=65535&(z=p),B=z>>>16,C=65535&y,D=y>>>16,y=u,A+=65535&(z=v),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,h=65535&C|D<<16,p=65535&A|B<<16,H=e,I=f,J=g,K=h,L=i,M=j,N=k,G=l,P=m,Q=n,R=o,S=p,T=q,U=r,V=s,O=t,w%16==15)for(x=0;x<16;x++)y=E[x],A=65535&(z=F[x]),B=z>>>16,C=65535&y,D=y>>>16,y=E[(x+9)%16],A+=65535&(z=F[(x+9)%16]),B+=z>>>16,C+=65535&y,D+=y>>>16,y=((u=E[(x+1)%16])>>>1|(v=F[(x+1)%16])<<31)^(u>>>8|v<<24)^u>>>7,A+=65535&(z=(v>>>1|u<<31)^(v>>>8|u<<24)^(v>>>7|u<<25)),B+=z>>>16,C+=65535&y,D+=y>>>16,y=((u=E[(x+14)%16])>>>19|(v=F[(x+14)%16])<<13)^(v>>>29|u<<3)^u>>>6,A+=65535&(z=(v>>>19|u<<13)^(u>>>29|v<<3)^(v>>>6|u<<26)),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,E[x]=65535&C|D<<16,F[x]=65535&A|B<<16;y=G,A=65535&(z=O),B=z>>>16,C=65535&y,D=y>>>16,y=a[0],A+=65535&(z=b[0]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[0]=G=65535&C|D<<16,b[0]=O=65535&A|B<<16,y=H,A=65535&(z=P),B=z>>>16,C=65535&y,D=y>>>16,y=a[1],A+=65535&(z=b[1]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[1]=H=65535&C|D<<16,b[1]=P=65535&A|B<<16,y=I,A=65535&(z=Q),B=z>>>16,C=65535&y,D=y>>>16,y=a[2],A+=65535&(z=b[2]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[2]=I=65535&C|D<<16,b[2]=Q=65535&A|B<<16,y=J,A=65535&(z=R),B=z>>>16,C=65535&y,D=y>>>16,y=a[3],A+=65535&(z=b[3]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[3]=J=65535&C|D<<16,b[3]=R=65535&A|B<<16,y=K,A=65535&(z=S),B=z>>>16,C=65535&y,D=y>>>16,y=a[4],A+=65535&(z=b[4]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[4]=K=65535&C|D<<16,b[4]=S=65535&A|B<<16,y=L,A=65535&(z=T),B=z>>>16,C=65535&y,D=y>>>16,y=a[5],A+=65535&(z=b[5]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[5]=L=65535&C|D<<16,b[5]=T=65535&A|B<<16,y=M,A=65535&(z=U),B=z>>>16,C=65535&y,D=y>>>16,y=a[6],A+=65535&(z=b[6]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[6]=M=65535&C|D<<16,b[6]=U=65535&A|B<<16,y=N,A=65535&(z=V),B=z>>>16,C=65535&y,D=y>>>16,y=a[7],A+=65535&(z=b[7]),B+=z>>>16,C+=65535&y,D+=y>>>16,B+=A>>>16,C+=B>>>16,D+=C>>>16,a[7]=N=65535&C|D<<16,b[7]=V=65535&A|B<<16,X+=128,d-=128}return d}function Y(a,b,c){var d,e=new Int32Array(8),f=new Int32Array(8),g=new Uint8Array(256),h=c;for(e[0]=0x6a09e667,e[1]=0xbb67ae85,e[2]=0x3c6ef372,e[3]=0xa54ff53a,e[4]=0x510e527f,e[5]=0x9b05688c,e[6]=0x1f83d9ab,e[7]=0x5be0cd19,f[0]=0xf3bcc908,f[1]=0x84caa73b,f[2]=0xfe94f82b,f[3]=0x5f1d36f1,f[4]=0xade682d1,f[5]=0x2b3e6c1f,f[6]=0xfb41bd6b,f[7]=0x137e2179,X(e,f,b,c),c%=128,d=0;d<c;d++)g[d]=b[h-c+d];for(g[c]=128,g[(c=256-(c<112)*128)-9]=0,p(g,c-8,h/0x20000000|0,h<<3),X(e,f,g,c),d=0;d<8;d++)p(a,8*d,e[d],f[d]);return 0}function Z(a,b){var c=d(),e=d(),f=d(),g=d(),h=d(),i=d(),j=d(),k=d(),m=d();N(c,a[1],a[0]),N(m,b[1],b[0]),O(c,c,m),M(e,a[0],a[1]),M(m,b[0],b[1]),O(e,e,m),O(f,a[3],b[3]),O(f,f,l),O(g,a[2],b[2]),M(g,g,g),N(h,e,c),N(i,g,f),M(j,g,f),M(k,e,c),O(a[0],h,i),O(a[1],k,j),O(a[2],j,i),O(a[3],h,k)}function $(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function _(a,b){var c=d(),e=d(),f=d();Q(f,b[2]),O(c,b[0],f),O(e,b[1],f),I(a,e),a[31]^=K(c)<<7}function aa(a,b,c){var d,e;for(F(a[0],h),F(a[1],i),F(a[2],i),F(a[3],h),e=255;e>=0;--e)$(a,b,d=c[e/8|0]>>(7&e)&1),Z(b,a),Z(a,a),$(a,b,d)}function ab(a,b){var c=[d(),d(),d(),d()];F(c[0],m),F(c[1],n),F(c[2],i),O(c[3],m,n),aa(a,c,b)}function ac(a,b,c){var f,g=new Uint8Array(64),h=[d(),d(),d(),d()];for(c||e(b,32),Y(g,b,32),g[0]&=248,g[31]&=127,g[31]|=64,ab(h,g),_(a,h),f=0;f<32;f++)b[f+32]=a[f];return 0}var ad=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ae(a,b){var c,d,e,f;for(d=63;d>=32;--d){for(c=0,e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ad[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=256*c;b[e]+=c,b[d]=0}for(e=0,c=0;e<32;e++)b[e]+=c-(b[31]>>4)*ad[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ad[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=255&b[d]}function af(a){var b,c=new Float64Array(64);for(b=0;b<64;b++)c[b]=a[b];for(b=0;b<64;b++)a[b]=0;ae(a,c)}function ag(a,b,c,e){var f,g,h=new Uint8Array(64),i=new Uint8Array(64),j=new Uint8Array(64),k=new Float64Array(64),l=[d(),d(),d(),d()];for(Y(h,e,32),h[0]&=248,h[31]&=127,h[31]|=64,f=0;f<c;f++)a[64+f]=b[f];for(f=0;f<32;f++)a[32+f]=h[32+f];for(Y(j,a.subarray(32),c+32),af(j),ab(l,j),_(a,l),f=32;f<64;f++)a[f]=e[f];for(Y(i,a,c+64),af(i),f=0;f<64;f++)k[f]=0;for(f=0;f<32;f++)k[f]=j[f];for(f=0;f<32;f++)for(g=0;g<32;g++)k[f+g]+=i[f]*h[g];return ae(a.subarray(32),k),c+64}function ah(a,b,c,e){var f,g,j,l,m,n,p,q,r=new Uint8Array(32),t=new Uint8Array(64),u=[d(),d(),d(),d()],v=[d(),d(),d(),d()];if(c<64||(f=d(),g=d(),j=d(),l=d(),m=d(),n=d(),p=d(),(F(v[2],i),L(v[1],e),P(j,v[1]),O(l,j,k),N(j,j,v[2]),M(l,v[2],l),P(m,l),P(n,m),O(p,n,m),O(f,p,j),O(f,f,l),R(f,f),O(f,f,j),O(f,f,l),O(f,f,l),O(v[0],f,l),P(g,v[0]),O(g,g,l),J(g,j)&&O(v[0],v[0],o),P(g,v[0]),O(g,g,l),J(g,j))?-1:(K(v[0])===e[31]>>7&&N(v[0],h,v[0]),O(v[3],v[0],v[1]),0)))return -1;for(q=0;q<c;q++)a[q]=b[q];for(q=0;q<32;q++)a[q+32]=e[q];if(Y(t,a,c),af(t),aa(u,v,t),ab(v,b.subarray(32)),Z(u,v),_(r,u),c-=64,s(b,0,r,0)){for(q=0;q<c;q++)a[q]=0;return -1}for(q=0;q<c;q++)a[q]=b[q+64];return c}function ai(a,b){if(32!==a.length)throw Error("bad key size");if(24!==b.length)throw Error("bad nonce size")}function aj(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function ak(a){for(var b=0;b<a.length;b++)a[b]=0}b.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:r,crypto_verify_32:s,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:D,crypto_box:function(a,b,c,d,e,f){var g=new Uint8Array(32);return V(g,e,f),D(a,b,c,d,g)},crypto_box_open:function(a,b,c,d,e,f){var g=new Uint8Array(32);return V(g,e,f),E(a,b,c,d,g)},crypto_box_keypair:U,crypto_hash:Y,crypto_sign:ag,crypto_sign_keypair:ac,crypto_sign_open:ah,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:d,D:k,L:ad,pack25519:I,unpack25519:L,M:O,A:M,S:P,Z:N,pow2523:R,add:Z,set25519:F,modL:ae,scalarmult:aa,scalarbase:ab},b.randomBytes=function(a){var b=new Uint8Array(a);return e(b,a),b},b.secretbox=function(a,b,c){aj(a,b,c),ai(c,b);for(var d=new Uint8Array(32+a.length),e=new Uint8Array(d.length),f=0;f<a.length;f++)d[f+32]=a[f];return D(e,d,d.length,b,c),e.subarray(16)},b.secretbox.open=function(a,b,c){aj(a,b,c),ai(c,b);for(var d=new Uint8Array(16+a.length),e=new Uint8Array(d.length),f=0;f<a.length;f++)d[f+16]=a[f];return d.length<32||0!==E(e,d,d.length,b,c)?null:e.subarray(32)},b.secretbox.keyLength=32,b.secretbox.nonceLength=24,b.secretbox.overheadLength=16,b.scalarMult=function(a,b){if(aj(a,b),32!==a.length)throw Error("bad n size");if(32!==b.length)throw Error("bad p size");var c=new Uint8Array(32);return S(c,a,b),c},b.scalarMult.base=function(a){if(aj(a),32!==a.length)throw Error("bad n size");var b=new Uint8Array(32);return T(b,a),b},b.scalarMult.scalarLength=32,b.scalarMult.groupElementLength=32,b.box=function(a,c,d,e){var f=b.box.before(d,e);return b.secretbox(a,c,f)},b.box.before=function(a,b){aj(a,b);if(32!==a.length)throw Error("bad public key size");if(32!==b.length)throw Error("bad secret key size");var c=new Uint8Array(32);return V(c,a,b),c},b.box.after=b.secretbox,b.box.open=function(a,c,d,e){var f=b.box.before(d,e);return b.secretbox.open(a,c,f)},b.box.open.after=b.secretbox.open,b.box.keyPair=function(){var a=new Uint8Array(32),b=new Uint8Array(32);return U(a,b),{publicKey:a,secretKey:b}},b.box.keyPair.fromSecretKey=function(a){if(aj(a),32!==a.length)throw Error("bad secret key size");var b=new Uint8Array(32);return T(b,a),{publicKey:b,secretKey:new Uint8Array(a)}},b.box.publicKeyLength=32,b.box.secretKeyLength=32,b.box.sharedKeyLength=32,b.box.nonceLength=24,b.box.overheadLength=b.secretbox.overheadLength,b.sign=function(a,b){if(aj(a,b),64!==b.length)throw Error("bad secret key size");var c=new Uint8Array(64+a.length);return ag(c,a,a.length,b),c},b.sign.open=function(a,b){if(aj(a,b),32!==b.length)throw Error("bad public key size");var c=new Uint8Array(a.length),d=ah(c,a,a.length,b);if(d<0)return null;for(var e=new Uint8Array(d),f=0;f<e.length;f++)e[f]=c[f];return e},b.sign.detached=function(a,c){for(var d=b.sign(a,c),e=new Uint8Array(64),f=0;f<e.length;f++)e[f]=d[f];return e},b.sign.detached.verify=function(a,b,c){if(aj(a,b,c),64!==b.length)throw Error("bad signature size");if(32!==c.length)throw Error("bad public key size");var d,e=new Uint8Array(64+a.length),f=new Uint8Array(64+a.length);for(d=0;d<64;d++)e[d]=b[d];for(d=0;d<a.length;d++)e[d+64]=a[d];return ah(f,e,e.length,c)>=0},b.sign.keyPair=function(){var a=new Uint8Array(32),b=new Uint8Array(64);return ac(a,b),{publicKey:a,secretKey:b}},b.sign.keyPair.fromSecretKey=function(a){if(aj(a),64!==a.length)throw Error("bad secret key size");for(var b=new Uint8Array(32),c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}},b.sign.keyPair.fromSeed=function(a){if(aj(a),32!==a.length)throw Error("bad seed size");for(var b=new Uint8Array(32),c=new Uint8Array(64),d=0;d<32;d++)c[d]=a[d];return ac(b,c,!0),{publicKey:b,secretKey:c}},b.sign.publicKeyLength=32,b.sign.secretKeyLength=64,b.sign.seedLength=32,b.sign.signatureLength=64,b.hash=function(a){aj(a);var b=new Uint8Array(64);return Y(b,a,a.length),b},b.hash.hashLength=64,b.verify=function(a,b){return aj(a,b),0!==a.length&&0!==b.length&&a.length===b.length&&0===q(a,0,b,0,a.length)},b.setPRNG=function(a){e=a},(c="u">typeof self?self.crypto||self.msCrypto:null)&&c.getRandomValues?b.setPRNG(function(a,b){var d,e=new Uint8Array(b);for(d=0;d<b;d+=65536)c.getRandomValues(e.subarray(d,d+Math.min(b-d,65536)));for(d=0;d<b;d++)a[d]=e[d];ak(e)}):(c=a.r(54799))&&c.randomBytes&&b.setPRNG(function(a,b){var d,e=c.randomBytes(b);for(d=0;d<b;d++)a[d]=e[d];ak(e)})}(b.exports?b.exports:self.nacl=self.nacl||{})},47166,(a,b,c)=>{!function(a,c){"use strict";b.exports?b.exports=c():(a.nacl||(a.nacl={}),a.nacl.util=c())}(a.e,function(){"use strict";var a={};function b(a){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(a))throw TypeError("invalid encoding")}return a.decodeUTF8=function(a){if("string"!=typeof a)throw TypeError("expected string");var b,c=unescape(encodeURIComponent(a)),d=new Uint8Array(c.length);for(b=0;b<c.length;b++)d[b]=c.charCodeAt(b);return d},a.encodeUTF8=function(a){var b,c=[];for(b=0;b<a.length;b++)c.push(String.fromCharCode(a[b]));return decodeURIComponent(escape(c.join("")))},"u"<typeof atob?void 0!==Buffer.from?(a.encodeBase64=function(a){return Buffer.from(a).toString("base64")},a.decodeBase64=function(a){return b(a),new Uint8Array(Array.prototype.slice.call(Buffer.from(a,"base64"),0))}):(a.encodeBase64=function(a){return new Buffer(a).toString("base64")},a.decodeBase64=function(a){return b(a),new Uint8Array(Array.prototype.slice.call(new Buffer(a,"base64"),0))}):(a.encodeBase64=function(a){var b,c=[],d=a.length;for(b=0;b<d;b++)c.push(String.fromCharCode(a[b]));return btoa(c.join(""))},a.decodeBase64=function(a){b(a);var c,d=atob(a),e=new Uint8Array(d.length);for(c=0;c<d.length;c++)e[c]=d.charCodeAt(c);return e}),a})},21730,(a,b,c)=>{a.e,b.exports=function(){"use strict";var b=function(a,c){return(b=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,c)},c=function(){return(c=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function d(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||((d=d||Array.prototype.slice.call(b,0,e))[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}var e="u">typeof globalThis?globalThis:"u">typeof self?self:a.g,f=Object.keys,g=Array.isArray;function h(a,b){return"object"!=typeof b||f(b).forEach(function(c){a[c]=b[c]}),a}"u"<typeof Promise||e.Promise||(e.Promise=Promise);var i=Object.getPrototypeOf,j={}.hasOwnProperty;function k(a,b){return j.call(a,b)}function l(a,b){"function"==typeof b&&(b=b(i(a))),("u"<typeof Reflect?f:Reflect.ownKeys)(b).forEach(function(c){n(a,c,b[c])})}var m=Object.defineProperty;function n(a,b,c,d){m(a,b,h(c&&k(c,"get")&&"function"==typeof c.get?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function o(a){return{from:function(b){return a.prototype=Object.create(b.prototype),n(a.prototype,"constructor",a),{extend:l.bind(null,a.prototype)}}}}var p=Object.getOwnPropertyDescriptor,q=[].slice;function r(a,b,c){return q.call(a,b,c)}function s(a,b){return b(a)}function t(a){if(!a)throw Error("Assertion Failed")}function u(a){e.setImmediate?setImmediate(a):setTimeout(a,0)}function v(a,b){if("string"==typeof b&&k(a,b))return a[b];if(!b)return a;if("string"!=typeof b){for(var c=[],d=0,e=b.length;d<e;++d){var f=v(a,b[d]);c.push(f)}return c}var g=b.indexOf(".");if(-1!==g){var h=a[b.substr(0,g)];return null==h?void 0:v(h,b.substr(g+1))}}function w(a,b,c){if(a&&void 0!==b&&!("isFrozen"in Object&&Object.isFrozen(a)))if("string"!=typeof b&&"length"in b){t("string"!=typeof c&&"length"in c);for(var d=0,e=b.length;d<e;++d)w(a,b[d],c[d])}else{var f,h,i=b.indexOf(".");-1!==i?(f=b.substr(0,i),""===(h=b.substr(i+1))?void 0===c?g(a)&&!isNaN(parseInt(f))?a.splice(f,1):delete a[f]:a[f]=c:w(i=(i=a[f])&&k(a,f)?i:a[f]={},h,c)):void 0===c?g(a)&&!isNaN(parseInt(b))?a.splice(b,1):delete a[b]:a[b]=c}}function x(a){var b,c={};for(b in a)k(a,b)&&(c[b]=a[b]);return c}var y=[].concat;function z(a){return y.apply([],a)}var A="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(z([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(b){return b+a+"Array"})}))).filter(function(a){return e[a]}),B=new Set(A.map(function(a){return e[a]})),C=null;function D(a){return C=new WeakMap,a=function a(b){if(!b||"object"!=typeof b)return b;var c=C.get(b);if(c)return c;if(g(b)){c=[],C.set(b,c);for(var d=0,e=b.length;d<e;++d)c.push(a(b[d]))}else if(B.has(b.constructor))c=b;else{var f,h=i(b);for(f in c=h===Object.prototype?{}:Object.create(h),C.set(b,c),b)k(b,f)&&(c[f]=a(b[f]))}return c}(a),C=null,a}var E={}.toString;function F(a){return E.call(a).slice(8,-1)}var G="u">typeof Symbol?Symbol.iterator:"@@iterator",H="symbol"==typeof G?function(a){var b;return null!=a&&(b=a[G])&&b.apply(a)}:function(){return null};function I(a,b){return 0<=(b=a.indexOf(b))&&a.splice(b,1),0<=b}var J={};function K(a){var b,c,d,e;if(1==arguments.length){if(g(a))return a.slice();if(this===J&&"string"==typeof a)return[a];if(e=H(a)){for(c=[];!(d=e.next()).done;)c.push(d.value);return c}if(null==a||"number"!=typeof(b=a.length))return[a];for(c=Array(b);b--;)c[b]=a[b];return c}for(b=arguments.length,c=Array(b);b--;)c[b]=arguments[b];return c}var L="u">typeof Symbol?function(a){return"AsyncFunction"===a[Symbol.toStringTag]}:function(){return!1},M=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],N=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(M),O={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function P(a,b){this.name=a,this.message=b}function Q(a,b){return a+". Errors: "+Object.keys(b).map(function(a){return b[a].toString()}).filter(function(a,b,c){return c.indexOf(a)===b}).join("\n")}function R(a,b,c,d){this.failures=b,this.failedKeys=d,this.successCount=c,this.message=Q(a,b)}function S(a,b){this.name="BulkError",this.failures=Object.keys(b).map(function(a){return b[a]}),this.failuresByPos=b,this.message=Q(a,this.failures)}o(P).from(Error).extend({toString:function(){return this.name+": "+this.message}}),o(R).from(P),o(S).from(P);var T=N.reduce(function(a,b){return a[b]=b+"Error",a},{}),U=N.reduce(function(a,b){var c=b+"Error";function d(a,d){this.name=c,a?"string"==typeof a?(this.message="".concat(a).concat(d?"\n "+d:""),this.inner=d||null):"object"==typeof a&&(this.message="".concat(a.name," ").concat(a.message),this.inner=a):(this.message=O[b]||c,this.inner=null)}return o(d).from(P),a[b]=d,a},{});U.Syntax=SyntaxError,U.Type=TypeError,U.Range=RangeError;var V=M.reduce(function(a,b){return a[b+"Error"]=U[b],a},{}),W=N.reduce(function(a,b){return -1===["Syntax","Type","Range"].indexOf(b)&&(a[b+"Error"]=U[b]),a},{});function X(){}function Y(a){return a}function Z(a,b){return null==a||a===Y?b:function(c){return b(a(c))}}function $(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function _(a,b){return a===X?b:function(){var c=a.apply(this,arguments);void 0!==c&&(arguments[0]=c);var d=this.onsuccess,e=this.onerror;this.onsuccess=null,this.onerror=null;var f=b.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?$(d,this.onsuccess):d),e&&(this.onerror=this.onerror?$(e,this.onerror):e),void 0!==f?f:c}}function aa(a,b){return a===X?b:function(){a.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?$(c,this.onsuccess):c),d&&(this.onerror=this.onerror?$(d,this.onerror):d)}}function ab(a,b){return a===X?b:function(c){var d=a.apply(this,arguments);h(c,d);var e=this.onsuccess,f=this.onerror;return this.onsuccess=null,this.onerror=null,c=b.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?$(e,this.onsuccess):e),f&&(this.onerror=this.onerror?$(f,this.onerror):f),void 0===d?void 0===c?void 0:c:h(d,c)}}function ac(a,b){return a===X?b:function(){return!1!==b.apply(this,arguments)&&a.apply(this,arguments)}}function ad(a,b){return a===X?b:function(){var c=a.apply(this,arguments);if(c&&"function"==typeof c.then){for(var d=this,e=arguments.length,f=Array(e);e--;)f[e]=arguments[e];return c.then(function(){return b.apply(d,f)})}return b.apply(this,arguments)}}W.ModifyError=R,W.DexieError=P,W.BulkError=S;var ae="u">typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),af={},A="u"<typeof Promise?[]:function(){var a=Promise.resolve();if("u"<typeof crypto||!crypto.subtle)return[a,i(a),a];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,i(b),a]}(),M=A[0],N=A[1],A=A[2],N=N&&N.then,ag=M&&M.constructor,ah=!!A,ai=function(a,b){aq.push([a,b]),ak&&(queueMicrotask(aA),ak=!1)},aj=!0,ak=!0,al=[],am=[],an=Y,ao={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:X,pgp:!1,env:{},finalize:X},ap=ao,aq=[],ar=0,as=[];function at(a){if("object"!=typeof this)throw TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=ap;if("function"!=typeof a){if(a!==af)throw TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&aw(this,this._value))}this._state=null,this._value=null,++b.ref,function a(b,c){try{c(function(c){if(null===b._state){if(c===b)throw TypeError("A promise cannot be resolved with itself.");var d=b._lib&&aB();c&&"function"==typeof c.then?a(b,function(a,b){c instanceof at?c._then(a,b):c.then(a,b)}):(b._state=!0,b._value=c,ax(b)),d&&aC()}},aw.bind(null,b))}catch(a){aw(b,a)}}(this,a)}var au={get:function(){var a=ap,b=aK;function c(c,d){var e=this,f=!a.global&&(a!==ap||b!==aK),g=f&&!aO(),h=new at(function(b,h){ay(e,new av(aU(c,a,f,g),aU(d,a,f,g),b,h,a))});return this._consoleTask&&(h._consoleTask=this._consoleTask),h}return c.prototype=af,c},set:function(a){n(this,"then",a&&a.prototype===af?au:{get:function(){return a},set:au.set})}};function av(a,b,c,d,e){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d,this.psd=e}function aw(a,b){var c;am.push(b),null===a._state&&(c=a._lib&&aB(),b=an(b),a._state=!1,a._value=b,al.some(function(b){return b._value===a._value})||al.push(a),ax(a),c&&aC())}function ax(a){var b=a._listeners;a._listeners=[];for(var c=0,d=b.length;c<d;++c)ay(a,b[c]);var e=a._PSD;--e.ref||e.finalize(),0===ar&&(++ar,ai(function(){0==--ar&&aD()},[]))}function ay(a,b){if(null!==a._state){var c=a._state?b.onFulfilled:b.onRejected;if(null===c)return(a._state?b.resolve:b.reject)(a._value);++b.psd.ref,++ar,ai(az,[c,a,b])}else a._listeners.push(b)}function az(a,b,c){try{var d,e=b._value;!b._state&&am.length&&(am=[]),d=ae&&b._consoleTask?b._consoleTask.run(function(){return a(e)}):a(e),b._state||-1!==am.indexOf(e)||function(a){for(var b=al.length;b;)if(al[--b]._value===a._value)return al.splice(b,1)}(b),c.resolve(d)}catch(a){c.reject(a)}finally{0==--ar&&aD(),--c.psd.ref||c.psd.finalize()}}function aA(){aT(ao,function(){aB()&&aC()})}function aB(){var a=aj;return ak=aj=!1,a}function aC(){var a,b,c;do for(;0<aq.length;)for(a=aq,aq=[],c=a.length,b=0;b<c;++b){var d=a[b];d[0].apply(null,d[1])}while(0<aq.length)ak=aj=!0}function aD(){var a=al;al=[],a.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});for(var b=as.slice(0),c=b.length;c;)b[--c]()}function aE(a){return new at(af,!1,a)}function aF(a,b){var c=ap;return function(){var d=aB(),e=ap;try{return aR(c,!0),a.apply(this,arguments)}catch(a){b&&b(a)}finally{aR(e,!1),d&&aC()}}}l(at.prototype,{then:au,_then:function(a,b){ay(this,new av(null,null,a,b,ap))},catch:function(a){if(1==arguments.length)return this.then(null,a);var b=arguments[1];return"function"==typeof a?this.then(null,function(c){return(c instanceof a?b:aE)(c)}):this.then(null,function(c){return(c&&c.name===a?b:aE)(c)})},finally:function(a){return this.then(function(b){return at.resolve(a()).then(function(){return b})},function(b){return at.resolve(a()).then(function(){return aE(b)})})},timeout:function(a,b){var c=this;return a<1/0?new at(function(d,e){var f=setTimeout(function(){return e(new U.Timeout(b))},a);c.then(d,e).finally(clearTimeout.bind(null,f))}):this}}),"u">typeof Symbol&&Symbol.toStringTag&&n(at.prototype,Symbol.toStringTag,"Dexie.Promise"),ao.env=aS(),l(at,{all:function(){var a=K.apply(null,arguments).map(aP);return new at(function(b,c){0===a.length&&b([]);var d=a.length;a.forEach(function(e,f){return at.resolve(e).then(function(c){a[f]=c,--d||b(a)},c)})})},resolve:function(a){return a instanceof at?a:a&&"function"==typeof a.then?new at(function(b,c){a.then(b,c)}):new at(af,!0,a)},reject:aE,race:function(){var a=K.apply(null,arguments).map(aP);return new at(function(b,c){a.map(function(a){return at.resolve(a).then(b,c)})})},PSD:{get:function(){return ap},set:function(a){return ap=a}},totalEchoes:{get:function(){return aK}},newPSD:aM,usePSD:aT,scheduler:{get:function(){return ai},set:function(a){ai=a}},rejectionMapper:{get:function(){return an},set:function(a){an=a}},follow:function(a,b){return new at(function(c,d){return aM(function(b,c){var d=ap;d.unhandleds=[],d.onunhandled=c,d.finalize=$(function(){var a,d=this;a=function(){0===d.unhandleds.length?b():c(d.unhandleds[0])},as.push(function b(){a(),as.splice(as.indexOf(b),1)}),++ar,ai(function(){0==--ar&&aD()},[])},d.finalize),a()},b,c,d)})}}),ag&&(ag.allSettled&&n(at,"allSettled",function(){var a=K.apply(null,arguments).map(aP);return new at(function(b){0===a.length&&b([]);var c=a.length,d=Array(c);a.forEach(function(a,e){return at.resolve(a).then(function(a){return d[e]={status:"fulfilled",value:a}},function(a){return d[e]={status:"rejected",reason:a}}).then(function(){return--c||b(d)})})})}),ag.any&&"u">typeof AggregateError&&n(at,"any",function(){var a=K.apply(null,arguments).map(aP);return new at(function(b,c){0===a.length&&c(AggregateError([]));var d=a.length,e=Array(d);a.forEach(function(a,f){return at.resolve(a).then(function(a){return b(a)},function(a){e[f]=a,--d||c(AggregateError(e))})})})}),ag.withResolvers&&(at.withResolvers=ag.withResolvers));var aG={awaits:0,echoes:0,id:0},aH=0,aI=[],aJ=0,aK=0,aL=0;function aM(a,b,c,d){var e=ap,f=Object.create(e);return f.parent=e,f.ref=0,f.global=!1,f.id=++aL,ao.env,f.env=ah?{Promise:at,PromiseProp:{value:at,configurable:!0,writable:!0},all:at.all,race:at.race,allSettled:at.allSettled,any:at.any,resolve:at.resolve,reject:at.reject}:{},b&&h(f,b),++e.ref,f.finalize=function(){--this.parent.ref||this.parent.finalize()},d=aT(f,a,c,d),0===f.ref&&f.finalize(),d}function aN(){return aG.id||(aG.id=++aH),++aG.awaits,aG.echoes+=100,aG.id}function aO(){return!!aG.awaits&&(0==--aG.awaits&&(aG.id=0),aG.echoes=100*aG.awaits,!0)}function aP(a){return aG.echoes&&a&&a.constructor===ag?(aN(),a.then(function(a){return aO(),a},function(a){return aO(),aW(a)})):a}function aQ(){var a=aI[aI.length-1];aI.pop(),aR(a,!1)}function aR(a,b){var c,d=ap;(b?!aG.echoes||aJ++&&a===ap:!aJ||--aJ&&a===ap)||queueMicrotask(b?(function(a){++aK,aG.echoes&&0!=--aG.echoes||(aG.echoes=aG.awaits=aG.id=0),aI.push(ap),aR(a,!0)}).bind(null,a):aQ),a!==ap&&(ap=a,d===ao&&(ao.env=aS()),ah&&(c=ao.env.Promise,b=a.env,(d.global||a.global)&&(Object.defineProperty(e,"Promise",b.PromiseProp),c.all=b.all,c.race=b.race,c.resolve=b.resolve,c.reject=b.reject,b.allSettled&&(c.allSettled=b.allSettled),b.any&&(c.any=b.any))))}function aS(){var a=e.Promise;return ah?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function aT(a,b,c,d,e){var f=ap;try{return aR(a,!0),b(c,d,e)}finally{aR(f,!1)}}function aU(a,b,c,d){return"function"!=typeof a?a:function(){var e=ap;c&&aN(),aR(b,!0);try{return a.apply(this,arguments)}finally{aR(e,!1),d&&queueMicrotask(aO)}}}function aV(a){Promise===ag&&0===aG.echoes?0===aJ?a():enqueueNativeMicroTask(a):setTimeout(a,0)}-1===(""+N).indexOf("[native code]")&&(aN=aO=X);var aW=at.reject,aX=String.fromCharCode(65535),aY="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",aZ="String expected.",a$=[],a_="__dbnames",a0="readonly",a1="readwrite";function a2(a,b){return a?b?function(){return a.apply(this,arguments)&&b.apply(this,arguments)}:a:b}var a3={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function a4(a){return"string"!=typeof a||/\./.test(a)?function(a){return a}:function(b){return void 0===b[a]&&a in b&&delete(b=D(b))[a],b}}function a5(){throw U.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function a6(a,b){try{var c=a7(a),d=a7(b);if(c!==d)return"Array"===c?1:"Array"===d?-1:"binary"===c?1:"binary"===d?-1:"string"===c?1:"string"===d?-1:"Date"===c?1:"Date"!==d?NaN:-1;switch(c){case"number":case"Date":case"string":return b<a?1:a<b?-1:0;case"binary":return function(a,b){for(var c=a.length,d=b.length,e=c<d?c:d,f=0;f<e;++f)if(a[f]!==b[f])return a[f]<b[f]?-1:1;return c===d?0:c<d?-1:1}(a8(a),a8(b));case"Array":return function(a,b){for(var c=a.length,d=b.length,e=c<d?c:d,f=0;f<e;++f){var g=a6(a[f],b[f]);if(0!==g)return g}return c===d?0:c<d?-1:1}(a,b)}}catch(a){}return NaN}function a7(a){var b=typeof a;return"object"!=b?b:ArrayBuffer.isView(a)||"ArrayBuffer"===(a=F(a))?"binary":a}function a8(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}function a9(a,b,c){var d=a.schema.yProps;return d?(b&&0<c.numFailures&&(b=b.filter(function(a,b){return!c.failures[b]})),Promise.all(d.map(function(c){return c=c.updatesTable,b?a.db.table(c).where("k").anyOf(b).delete():a.db.table(c).clear()})).then(function(){return c})):c}var ba=(bb.prototype.execute=function(a){var b=this["@@propmod"];if(void 0!==b.add){var c=b.add;if(g(c))return d(d([],g(a)?a:[],!0),c,!0).sort();if("number"==typeof c)return(Number(a)||0)+c;if("bigint"==typeof c)try{return BigInt(a)+c}catch(a){return BigInt(0)+c}throw TypeError("Invalid term ".concat(c))}if(void 0!==b.remove){var e=b.remove;if(g(e))return g(a)?a.filter(function(a){return!e.includes(a)}).sort():[];if("number"==typeof e)return Number(a)-e;if("bigint"==typeof e)try{return BigInt(a)-e}catch(a){return BigInt(0)-e}throw TypeError("Invalid subtrahend ".concat(e))}return(c=null==(c=b.replacePrefix)?void 0:c[0])&&"string"==typeof a&&a.startsWith(c)?b.replacePrefix[1]+a.substring(c.length):a},bb);function bb(a){this["@@propmod"]=a}function bc(a,b){for(var c=f(b),d=c.length,e=!1,g=0;g<d;++g){var h=c[g],i=b[h],j=v(a,h);i instanceof ba?(w(a,h,i.execute(j)),e=!0):j!==i&&(w(a,h,i),e=!0)}return e}var bd=(be.prototype._trans=function(a,b,c){var d=this._tx||ap.trans,e=this.name,f=ae&&"u">typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===a?"read":"write"," ").concat(this.name));function g(a,c,d){if(!d.schema[e])throw new U.NotFound("Table "+e+" not part of transaction");return b(d.idbtrans,d)}var h=aB();try{var i=d&&d.db._novip===this.db._novip?d===ap.trans?d._promise(a,g,c):aM(function(){return d._promise(a,g,c)},{trans:d,transless:ap.transless||ap}):function a(b,c,d,e){if(b.idbdb&&(b._state.openComplete||ap.letThrough||b._vip)){var f=b._createTransaction(c,d,b._dbSchema);try{f.create(),b._state.PR1398_maxLoop=3}catch(f){return f.name===T.InvalidState&&b.isOpen()&&0<--b._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),b.close({disableAutoOpen:!1}),b.open().then(function(){return a(b,c,d,e)})):aW(f)}return f._promise(c,function(a,b){return aM(function(){return ap.trans=f,e(a,b,f)})}).then(function(a){if("readwrite"===c)try{f.idbtrans.commit()}catch(a){}return"readonly"===c?a:f._completion.then(function(){return a})})}if(b._state.openComplete)return aW(new U.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return aW(new U.DatabaseClosed);b.open().catch(X)}return b._state.dbReadyPromise.then(function(){return a(b,c,d,e)})}(this.db,a,[this.name],g);return f&&(i._consoleTask=f,i=i.catch(function(a){return console.trace(a),aW(a)})),i}finally{h&&aC()}},be.prototype.get=function(a,b){var c=this;return a&&a.constructor===Object?this.where(a).first(b):null==a?aW(new U.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return c.core.get({trans:b,key:a}).then(function(a){return c.hook.reading.fire(a)})}).then(b)},be.prototype.where=function(a){if("string"==typeof a)return new this.db.WhereClause(this,a);if(g(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var b=f(a);if(1===b.length)return this.where(b[0]).equals(a[b[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(a){if(a.compound&&b.every(function(b){return 0<=a.keyPath.indexOf(b)})){for(var c=0;c<b.length;++c)if(-1===b.indexOf(a.keyPath[c]))return!1;return!0}return!1}).sort(function(a,b){return a.keyPath.length-b.keyPath.length})[0];if(c&&this.db._maxKey!==aX){var d=c.keyPath.slice(0,b.length);return this.where(d).equals(d.map(function(b){return a[b]}))}!c&&ae&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var e=this.schema.idxByName,h=b.reduce(function(b,c){var d=b[0],f=b[1],b=e[c],h=a[c];return[d||b,d||!b?a2(f,b&&b.multi?function(a){return g(a=v(a,c))&&a.some(function(a){return 0===a6(h,a)})}:function(a){return 0===a6(h,v(a,c))}):f]},[null,null]),d=h[0],h=h[1];return d?this.where(d.name).equals(a[d.keyPath]).filter(h):c?this.filter(h):this.where(b).equals("")},be.prototype.filter=function(a){return this.toCollection().and(a)},be.prototype.count=function(a){return this.toCollection().count(a)},be.prototype.offset=function(a){return this.toCollection().offset(a)},be.prototype.limit=function(a){return this.toCollection().limit(a)},be.prototype.each=function(a){return this.toCollection().each(a)},be.prototype.toArray=function(a){return this.toCollection().toArray(a)},be.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},be.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,g(a)?"[".concat(a.join("+"),"]"):a))},be.prototype.reverse=function(){return this.toCollection().reverse()},be.prototype.mapToClass=function(a){var c,d=this.db,e=this.name;function f(){return null!==c&&c.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof a5&&(function(a,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=a}b(a,c),a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}(f,c=a),Object.defineProperty(f.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),f.prototype.table=function(){return e},a=f);for(var g=new Set,h=a.prototype;h;h=i(h))Object.getOwnPropertyNames(h).forEach(function(a){return g.add(a)});function j(b){if(!b)return b;var c,d=Object.create(a.prototype);for(c in b)if(!g.has(c))try{d[c]=b[c]}catch(a){}return d}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=j,this.hook("reading",j),a},be.prototype.defineClass=function(){return this.mapToClass(function(a){h(this,a)})},be.prototype.add=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;return f&&e&&(g=a4(f)(a)),this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"add",keys:null!=b?[b]:null,values:[g]})}).then(function(a){return a.numFailures?at.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{w(a,f,b)}catch(a){}return b})},be.prototype.upsert=function(a,b){var c=this,d=this.schema.primKey.keyPath;return this._trans("readwrite",function(e){return c.core.get({trans:e,key:a}).then(function(f){var g=null!=f?f:{};return bc(g,b),d&&w(g,d,a),c.core.mutate({trans:e,type:"put",values:[g],keys:[a],upsert:!0,updates:{keys:[a],changeSpecs:[b]}}).then(function(a){return a.numFailures?at.reject(a.failures[0]):!!f})})})},be.prototype.update=function(a,b){return"object"!=typeof a||g(a)?this.where(":id").equals(a).modify(b):void 0===(a=v(a,this.schema.primKey.keyPath))?aW(new U.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(b)},be.prototype.put=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;return f&&e&&(g=a4(f)(a)),this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"put",values:[g],keys:null!=b?[b]:null})}).then(function(a){return a.numFailures?at.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{w(a,f,b)}catch(a){}return b})},be.prototype.delete=function(a){var b=this;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:[a]}).then(function(c){return a9(b,[a],c)}).then(function(a){return a.numFailures?at.reject(a.failures[0]):void 0})})},be.prototype.clear=function(){var a=this;return this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"deleteRange",range:a3}).then(function(b){return a9(a,null,b)})}).then(function(a){return a.numFailures?at.reject(a.failures[0]):void 0})},be.prototype.bulkGet=function(a){var b=this;return this._trans("readonly",function(c){return b.core.getMany({keys:a,trans:c}).then(function(a){return a.map(function(a){return b.hook.reading.fire(a)})})})},be.prototype.bulkAdd=function(a,b,c){var d=this,e=Array.isArray(b)?b:void 0,f=(c=c||(e?void 0:b))?c.allKeys:void 0;return this._trans("readwrite",function(b){var c=d.schema.primKey,g=c.auto,c=c.keyPath;if(c&&e)throw new U.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(e&&e.length!==a.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var h=a.length,c=c&&g?a.map(a4(c)):a;return d.core.mutate({trans:b,type:"add",keys:e,values:c,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,e=a.lastResult,a=a.failures;if(0===b)return f?c:e;throw new S("".concat(d.name,".bulkAdd(): ").concat(b," of ").concat(h," operations failed"),a)})})},be.prototype.bulkPut=function(a,b,c){var d=this,e=Array.isArray(b)?b:void 0,f=(c=c||(e?void 0:b))?c.allKeys:void 0;return this._trans("readwrite",function(b){var c=d.schema.primKey,g=c.auto,c=c.keyPath;if(c&&e)throw new U.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(e&&e.length!==a.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var h=a.length,c=c&&g?a.map(a4(c)):a;return d.core.mutate({trans:b,type:"put",keys:e,values:c,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,e=a.lastResult,a=a.failures;if(0===b)return f?c:e;throw new S("".concat(d.name,".bulkPut(): ").concat(b," of ").concat(h," operations failed"),a)})})},be.prototype.bulkUpdate=function(a){var b=this,c=this.core,d=a.map(function(a){return a.key}),e=a.map(function(a){return a.changes}),f=[];return this._trans("readwrite",function(g){return c.getMany({trans:g,keys:d,cache:"clone"}).then(function(h){var i=[],j=[];a.forEach(function(a,c){var d=a.key,e=a.changes,g=h[c];if(g){for(var k=0,l=Object.keys(e);k<l.length;k++){var m=l[k],n=e[m];if(m===b.schema.primKey.keyPath){if(0!==a6(n,d))throw new U.Constraint("Cannot update primary key in bulkUpdate()")}else w(g,m,n)}f.push(c),i.push(d),j.push(g)}});var k=i.length;return c.mutate({trans:g,type:"put",keys:i,values:j,updates:{keys:d,changeSpecs:e}}).then(function(a){var c=a.numFailures,d=a.failures;if(0===c)return k;for(var e=0,g=Object.keys(d);e<g.length;e++){var h,i=g[e],j=f[Number(i)];null!=j&&(h=d[i],delete d[i],d[j]=h)}throw new S("".concat(b.name,".bulkUpdate(): ").concat(c," of ").concat(k," operations failed"),d)})})})},be.prototype.bulkDelete=function(a){var b=this,c=a.length;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:a}).then(function(c){return a9(b,a,c)})}).then(function(a){var d=a.numFailures,e=a.lastResult,a=a.failures;if(0===d)return e;throw new S("".concat(b.name,".bulkDelete(): ").concat(d," of ").concat(c," operations failed"),a)})},be);function be(){}function bf(a){function b(b,d){if(d){for(var e=arguments.length,f=Array(e-1);--e;)f[e-1]=arguments[e];return c[b].subscribe.apply(null,f),a}if("string"==typeof b)return c[b]}var c={};b.addEventType=h;for(var d=1,e=arguments.length;d<e;++d)h(arguments[d]);return b;function h(a,d,e){if("object"!=typeof a){d=d||ac;var i={subscribers:[],fire:e=e||X,subscribe:function(a){-1===i.subscribers.indexOf(a)&&(i.subscribers.push(a),i.fire=d(i.fire,a))},unsubscribe:function(a){i.subscribers=i.subscribers.filter(function(b){return b!==a}),i.fire=i.subscribers.reduce(d,e)}};return c[a]=b[a]=i}f(a).forEach(function(b){var c=a[b];if(g(c))h(b,a[b][0],a[b][1]);else{if("asap"!==c)throw new U.InvalidArgument("Invalid event config");var d=h(b,Y,function(){for(var a=arguments.length,b=Array(a);a--;)b[a]=arguments[a];d.subscribers.forEach(function(a){u(function(){a.apply(null,b)})})})}})}}function bg(a,b){return o(b).from({prototype:a}),b}function bh(a,b){return!(a.filter||a.algorithm||a.or)&&(b?a.justLimit:!a.replayFilter)}function bi(a,b){a.filter=a2(a.filter,b)}function bj(a,b,c){var d=a.replayFilter;a.replayFilter=d?function(){return a2(d(),b())}:b,a.justLimit=c&&!d}function bk(a,b){if(a.isPrimKey)return b.primaryKey;var c=b.getIndexByKeyPath(a.index);if(!c)throw new U.Schema("KeyPath "+a.index+" on object store "+b.name+" is not indexed");return c}function bl(a,b,c){var d=bk(a,b.schema);return b.openCursor({trans:c,values:!a.keysOnly,reverse:"prev"===a.dir,unique:!!a.unique,query:{index:d,range:a.range}})}function bm(a,b,c,d){var e=a.replayFilter?a2(a.filter,a.replayFilter()):a.filter;if(a.or){var f={},g=function(a,c,d){var g,h;e&&!e(c,d,function(a){return c.stop(a)},function(a){return c.fail(a)})||("[object ArrayBuffer]"==(h=""+(g=c.primaryKey))&&(h=""+new Uint8Array(g)),k(f,h)||(f[h]=!0,b(a,c,d)))};return Promise.all([a.or._iterate(g,c),bn(bl(a,d,c),a.algorithm,g,!a.keysOnly&&a.valueMapper)])}return bn(bl(a,d,c),a2(a.algorithm,e),b,!a.keysOnly&&a.valueMapper)}function bn(a,b,c,d){var e=aF(d?function(a,b,e){return c(d(a),b,e)}:c);return a.then(function(a){if(a)return a.start(function(){var c=function(){return a.continue()};b&&!b(a,function(a){return c=a},function(b){a.stop(b),c=X},function(b){a.fail(b),c=X})||e(a.value,a,function(a){return c=a}),c()})})}var bo=(bp.prototype._read=function(a,b){var c=this._ctx;return c.error?c.table._trans(null,aW.bind(null,c.error)):c.table._trans("readonly",a).then(b)},bp.prototype._write=function(a){var b=this._ctx;return b.error?b.table._trans(null,aW.bind(null,b.error)):b.table._trans("readwrite",a,"locked")},bp.prototype._addAlgorithm=function(a){var b=this._ctx;b.algorithm=a2(b.algorithm,a)},bp.prototype._iterate=function(a,b){return bm(this._ctx,a,b,this._ctx.table.core)},bp.prototype.clone=function(a){var b=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return a&&h(c,a),b._ctx=c,b},bp.prototype.raw=function(){return this._ctx.valueMapper=null,this},bp.prototype.each=function(a){var b=this._ctx;return this._read(function(c){return bm(b,a,c,b.table.core)})},bp.prototype.count=function(a){var b=this;return this._read(function(a){var c=b._ctx,d=c.table.core;if(bh(c,!0))return d.count({trans:a,query:{index:bk(c,d.schema),range:c.range}}).then(function(a){return Math.min(a,c.limit)});var e=0;return bm(c,function(){return++e,!1},a,d).then(function(){return e})}).then(a)},bp.prototype.sortBy=function(a,b){var c=a.split(".").reverse(),d=c[0],e=c.length-1;function f(a,b){return b?f(a[c[b]],b-1):a[d]}var g="next"===this._ctx.dir?1:-1;function h(a,b){return a6(f(a,e),f(b,e))*g}return this.toArray(function(a){return a.sort(h)}).then(b)},bp.prototype.toArray=function(a){var b=this;return this._read(function(a){var c=b._ctx;if("next"===c.dir&&bh(c,!0)&&0<c.limit){var d=c.valueMapper,e=bk(c,c.table.core.schema);return c.table.core.query({trans:a,limit:c.limit,values:!0,query:{index:e,range:c.range}}).then(function(a){return a=a.result,d?a.map(d):a})}var f=[];return bm(c,function(a){return f.push(a)},a,c.table.core).then(function(){return f})},a)},bp.prototype.offset=function(a){var b=this._ctx;return a<=0||(b.offset+=a,bh(b)?bj(b,function(){var b=a;return function(a,c){return 0===b||(1===b?--b:c(function(){a.advance(b),b=0}),!1)}}):bj(b,function(){var b=a;return function(){return--b<0}})),this},bp.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),bj(this._ctx,function(){var b=a;return function(a,c,d){return--b<=0&&c(d),0<=b}},!0),this},bp.prototype.until=function(a,b){return bi(this._ctx,function(c,d,e){return!a(c.value)||(d(e),b)}),this},bp.prototype.first=function(a){return this.limit(1).toArray(function(a){return a[0]}).then(a)},bp.prototype.last=function(a){return this.reverse().first(a)},bp.prototype.filter=function(a){var b;return bi(this._ctx,function(b){return a(b.value)}),(b=this._ctx).isMatch=a2(b.isMatch,a),this},bp.prototype.and=function(a){return this.filter(a)},bp.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},bp.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},bp.prototype.desc=function(){return this.reverse()},bp.prototype.eachKey=function(a){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(b,c){a(c.key,c)})},bp.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},bp.prototype.eachPrimaryKey=function(a){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(b,c){a(c.primaryKey,c)})},bp.prototype.keys=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.key)}).then(function(){return c}).then(a)},bp.prototype.primaryKeys=function(a){var b=this._ctx;if("next"===b.dir&&bh(b,!0)&&0<b.limit)return this._read(function(a){var c=bk(b,b.table.core.schema);return b.table.core.query({trans:a,values:!1,limit:b.limit,query:{index:c,range:b.range}})}).then(function(a){return a.result}).then(a);b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.primaryKey)}).then(function(){return c}).then(a)},bp.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},bp.prototype.firstKey=function(a){return this.limit(1).keys(function(a){return a[0]}).then(a)},bp.prototype.lastKey=function(a){return this.reverse().firstKey(a)},bp.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var b={};return bi(this._ctx,function(a){var c=a.primaryKey.toString(),a=k(b,c);return b[c]=!0,!a}),this},bp.prototype.modify=function(a){var b=this,c=this._ctx;return this._write(function(d){var e="function"==typeof a?a:function(b){return bc(b,a)},g=c.table.core,h=g.schema.primaryKey,i=h.outbound,j=h.extractKey,k=200,h=b.db._options.modifyChunkSize;function l(a,b){var c=b.failures,b=b.numFailures;n+=a-b;for(var d=0,e=f(c);d<e.length;d++){var g=e[d];m.push(c[g])}}h&&(k="object"==typeof h?h[g.name]||h["*"]||200:h);var m=[],n=0,o=[],p=a===bq;return b.clone().primaryKeys().then(function(b){var f=bh(c)&&c.limit===1/0&&("function"!=typeof a||p)&&{index:c.index,range:c.range};return(function h(m){var n=Math.min(k,b.length-m),o=b.slice(m,m+n);return(p?Promise.resolve([]):g.getMany({trans:d,keys:o,cache:"immutable"})).then(function(q){var r=[],s=[],t=i?[]:null,u=p?o:[];if(!p)for(var v=0;v<n;++v){var w=q[v],x={value:D(w),primKey:b[m+v]};!1!==e.call(x,x.value,x)&&(null==x.value?u.push(b[m+v]):i||0===a6(j(w),j(x.value))?(s.push(x.value),i&&t.push(b[m+v])):(u.push(b[m+v]),r.push(x.value)))}return Promise.resolve(0<r.length&&g.mutate({trans:d,type:"add",values:r}).then(function(a){for(var b in a.failures)u.splice(parseInt(b),1);l(r.length,a)})).then(function(){return(0<s.length||f&&"object"==typeof a)&&g.mutate({trans:d,type:"put",keys:t,values:s,criteria:f,changeSpec:"function"!=typeof a&&a,isAdditionalChunk:0<m}).then(function(a){return l(s.length,a)})}).then(function(){return(0<u.length||f&&p)&&g.mutate({trans:d,type:"delete",keys:u,criteria:f,isAdditionalChunk:0<m}).then(function(a){return a9(c.table,u,a)}).then(function(a){return l(u.length,a)})}).then(function(){return b.length>m+n&&h(m+k)})})})(0).then(function(){if(0<m.length)throw new R("Error modifying one or more objects",m,n,o);return b.length})})})},bp.prototype.delete=function(){var a=this._ctx,b=a.range;return bh(a)&&!a.table.schema.yProps&&(a.isPrimKey||3===b.type)?this._write(function(c){var d=a.table.core.schema.primaryKey;return a.table.core.count({trans:c,query:{index:d,range:b}}).then(function(d){return a.table.core.mutate({trans:c,type:"deleteRange",range:b}).then(function(a){var b=a.failures,a=a.numFailures;if(a)throw new R("Could not delete some values",Object.keys(b).map(function(a){return b[a]}),d-a);return d-a})})}):this.modify(bq)},bp);function bp(){}var bq=function(a,b){return b.value=null};function br(a,b){return a<b?-1:+(a!==b)}function bs(a,b){return b<a?-1:+(a!==b)}function bt(a,b,c){return(a=a instanceof by?new a.Collection(a):a)._ctx.error=new(c||TypeError)(b),a}function bu(a){return new a.Collection(a,function(){return bx("")}).limit(0)}function bv(a,b,c,d){var e,f,g,h,i,j,k,l=c.length;if(!c.every(function(a){return"string"==typeof a}))return bt(a,aZ);function m(a){e="next"===a?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()},f="next"===a?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()},g="next"===a?br:bs;var b=c.map(function(a){return{lower:f(a),upper:e(a)}}).sort(function(a,b){return g(a.lower,b.lower)});h=b.map(function(a){return a.upper}),i=b.map(function(a){return a.lower}),k="next"===(j=a)?"":d}m("next"),(a=new a.Collection(a,function(){return bw(h[0],i[l-1]+d)}))._ondirectionchange=function(a){m(a)};var n=0;return a._addAlgorithm(function(a,c,d){var e=a.key;if("string"!=typeof e)return!1;var m=f(e);if(b(m,i,n))return!0;for(var o=null,p=n;p<l;++p){var q=function(a,b,c,d,e,f){for(var g=Math.min(a.length,d.length),h=-1,i=0;i<g;++i){var j=b[i];if(j!==d[i])return 0>e(a[i],c[i])?a.substr(0,i)+c[i]+c.substr(i+1):0>e(a[i],d[i])?a.substr(0,i)+d[i]+c.substr(i+1):0<=h?a.substr(0,h)+b[h]+c.substr(h+1):null;0>e(a[i],j)&&(h=i)}return g<d.length&&"next"===f?a+c.substr(a.length):g<a.length&&"prev"===f?a.substr(0,c.length):h<0?null:a.substr(0,h)+d[h]+c.substr(h+1)}(e,m,h[p],i[p],g,j);null===q&&null===o?n=p+1:(null===o||0<g(o,q))&&(o=q)}return c(null!==o?function(){a.continue(o+k)}:d),!1}),a}function bw(a,b,c,d){return{type:2,lower:a,upper:b,lowerOpen:c,upperOpen:d}}function bx(a){return{type:1,lower:a,upper:a}}var by=(Object.defineProperty(bz.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),bz.prototype.between=function(a,b,c,d){c=!1!==c,d=!0===d;try{return 0<this._cmp(a,b)||0===this._cmp(a,b)&&(c||d)&&(!c||!d)?bu(this):new this.Collection(this,function(){return bw(a,b,!c,!d)})}catch(a){return bt(this,aY)}},bz.prototype.equals=function(a){return null==a?bt(this,aY):new this.Collection(this,function(){return bx(a)})},bz.prototype.above=function(a){return null==a?bt(this,aY):new this.Collection(this,function(){return bw(a,void 0,!0)})},bz.prototype.aboveOrEqual=function(a){return null==a?bt(this,aY):new this.Collection(this,function(){return bw(a,void 0,!1)})},bz.prototype.below=function(a){return null==a?bt(this,aY):new this.Collection(this,function(){return bw(void 0,a,!1,!0)})},bz.prototype.belowOrEqual=function(a){return null==a?bt(this,aY):new this.Collection(this,function(){return bw(void 0,a)})},bz.prototype.startsWith=function(a){return"string"!=typeof a?bt(this,aZ):this.between(a,a+aX,!0,!0)},bz.prototype.startsWithIgnoreCase=function(a){return""===a?this.startsWith(a):bv(this,function(a,b){return 0===a.indexOf(b[0])},[a],aX)},bz.prototype.equalsIgnoreCase=function(a){return bv(this,function(a,b){return a===b[0]},[a],"")},bz.prototype.anyOfIgnoreCase=function(){var a=K.apply(J,arguments);return 0===a.length?bu(this):bv(this,function(a,b){return -1!==b.indexOf(a)},a,"")},bz.prototype.startsWithAnyOfIgnoreCase=function(){var a=K.apply(J,arguments);return 0===a.length?bu(this):bv(this,function(a,b){return b.some(function(b){return 0===a.indexOf(b)})},a,aX)},bz.prototype.anyOf=function(){var a=this,b=K.apply(J,arguments),c=this._cmp;try{b.sort(c)}catch(a){return bt(this,aY)}if(0===b.length)return bu(this);var d=new this.Collection(this,function(){return bw(b[0],b[b.length-1])});d._ondirectionchange=function(d){c="next"===d?a._ascending:a._descending,b.sort(c)};var e=0;return d._addAlgorithm(function(a,d,f){for(var g=a.key;0<c(g,b[e]);)if(++e===b.length)return d(f),!1;return 0===c(g,b[e])||(d(function(){a.continue(b[e])}),!1)}),d},bz.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},bz.prototype.noneOf=function(){var a=K.apply(J,arguments);if(0===a.length)return new this.Collection(this);try{a.sort(this._ascending)}catch(a){return bt(this,aY)}var b=a.reduce(function(a,b){return a?a.concat([[a[a.length-1][1],b]]):[[-1/0,b]]},null);return b.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},bz.prototype.inAnyRange=function(a,b){var c=this,d=this._cmp,e=this._ascending,f=this._descending,g=this._min,h=this._max;if(0===a.length)return bu(this);if(!a.every(function(a){return void 0!==a[0]&&void 0!==a[1]&&0>=e(a[0],a[1])}))return bt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",U.InvalidArgument);var i,j=!b||!1!==b.includeLowers,k=b&&!0===b.includeUppers,l=e;function m(a,b){return l(a[0],b[0])}try{(i=a.reduce(function(a,b){for(var c=0,e=a.length;c<e;++c){var f=a[c];if(0>d(b[0],f[1])&&0<d(b[1],f[0])){f[0]=g(f[0],b[0]),f[1]=h(f[1],b[1]);break}}return c===e&&a.push(b),a},[])).sort(m)}catch(a){return bt(this,aY)}var n=0,o=k?function(a){return 0<e(a,i[n][1])}:function(a){return 0<=e(a,i[n][1])},p=j?function(a){return 0<f(a,i[n][0])}:function(a){return 0<=f(a,i[n][0])},q=o,a=new this.Collection(this,function(){return bw(i[0][0],i[i.length-1][1],!j,!k)});return a._ondirectionchange=function(a){l="next"===a?(q=o,e):(q=p,f),i.sort(m)},a._addAlgorithm(function(a,b,d){for(var f=a.key;q(f);)if(++n===i.length)return b(d),!1;return!o(f)&&!p(f)||(0===c._cmp(f,i[n][1])||0===c._cmp(f,i[n][0])||b(function(){l===e?a.continue(i[n][0]):a.continue(i[n][1])}),!1)}),a},bz.prototype.startsWithAnyOf=function(){var a=K.apply(J,arguments);return a.every(function(a){return"string"==typeof a})?0===a.length?bu(this):this.inAnyRange(a.map(function(a){return[a,a+aX]})):bt(this,"startsWithAnyOf() only works with strings")},bz);function bz(){}function bA(a){return aF(function(b){return bB(b),a(b.target.error),!1})}function bB(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var bC="storagemutated",bD="x-storagemutated-1",bE=bf(null,bC),bF=(bG.prototype._lock=function(){return t(!ap.global),++this._reculock,1!==this._reculock||ap.global||(ap.lockOwnerFor=this),this},bG.prototype._unlock=function(){if(t(!ap.global),0==--this._reculock)for(ap.global||(ap.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{aT(a[1],a[0])}catch(a){}}return this},bG.prototype._locked=function(){return this._reculock&&ap.lockOwnerFor!==this},bG.prototype.create=function(a){var b=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;if(t(!this.idbtrans),!a&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new U.DatabaseClosed(d);case"MissingAPIError":throw new U.MissingAPI(d.message,d);default:throw new U.OpenFailed(d)}if(!this.active)throw new U.TransactionInactive;return t(null===this._completion._state),(a=this.idbtrans=a||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=aF(function(c){bB(c),b._reject(a.error)}),a.onabort=aF(function(c){bB(c),b.active&&b._reject(new U.Abort(a.error)),b.active=!1,b.on("abort").fire(c)}),a.oncomplete=aF(function(){b.active=!1,b._resolve(),"mutatedParts"in a&&bE.storagemutated.fire(a.mutatedParts)}),this},bG.prototype._promise=function(a,b,c){var d=this;if("readwrite"===a&&"readwrite"!==this.mode)return aW(new U.ReadOnly("Transaction is readonly"));if(!this.active)return aW(new U.TransactionInactive);if(this._locked())return new at(function(e,f){d._blockedFuncs.push([function(){d._promise(a,b,c).then(e,f)},ap])});if(c)return aM(function(){var a=new at(function(a,c){d._lock();var e=b(a,c,d);e&&e.then&&e.then(a,c)});return a.finally(function(){return d._unlock()}),a._lib=!0,a});var e=new at(function(a,c){var e=b(a,c,d);e&&e.then&&e.then(a,c)});return e._lib=!0,e},bG.prototype._root=function(){return this.parent?this.parent._root():this},bG.prototype.waitFor=function(a){var b,c=this._root(),d=at.resolve(a);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return d}):(c._waitingFor=d,c._waitingQueue=[],b=c.idbtrans.objectStore(c.storeNames[0]),function a(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(b.get(-1/0).onsuccess=a)}());var e=c._waitingFor;return new at(function(a,b){d.then(function(b){return c._waitingQueue.push(aF(a.bind(null,b)))},function(a){return c._waitingQueue.push(aF(b.bind(null,a)))}).finally(function(){c._waitingFor===e&&(c._waitingFor=null)})})},bG.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new U.Abort))},bG.prototype.table=function(a){var b=this._memoizedTables||(this._memoizedTables={});if(k(b,a))return b[a];var c=this.schema[a];if(!c)throw new U.NotFound("Table "+a+" not part of transaction");return(c=new this.db.Table(a,c,this)).core=this.db.core.table(a),b[a]=c},bG);function bG(){}function bH(a,b,c,d,e,f,g,h){return{name:a,keyPath:b,unique:c,multi:d,auto:e,compound:f,src:(c&&!g?"&":"")+(d?"*":"")+(e?"++":"")+bI(b),type:h}}function bI(a){return"string"==typeof a?a:a?"["+[].join.call(a,"+")+"]":""}function bJ(a,b,c){var d;return{name:a,primKey:b,indexes:c,mappedClass:null,idxByName:(d=function(a){return[a.name,a]},c.reduce(function(a,b,c){return(c=d(b,c))&&(a[c[0]]=c[1]),a},{}))}}var bK=function(a){try{return a.only([[]]),bK=function(){return[[]]},[[]]}catch(a){return bK=function(){return aX},aX}};function bL(a){return null==a?function(){}:"string"==typeof a?1===a.split(".").length?function(b){return b[a]}:function(b){return v(b,a)}:function(b){return v(b,a)}}function bM(a){return[].slice.call(a)}var bN=0;function bO(a){return null==a?":id":"string"==typeof a?a:"[".concat(a.join("+"),"]")}function bP(a,b){var d,e,f,h,i=b.db,b=(d=a._middlewares,e=a._deps,f=b,h=e.IDBKeyRange,e.indexedDB,{dbcore:(f=function(a,b,c){function d(a){if(3===a.type)return null;if(4===a.type)throw Error("Cannot convert never type to IDBKeyRange");var c=a.lower,d=a.upper,e=a.lowerOpen,a=a.upperOpen;return void 0===c?void 0===d?null:b.upperBound(d,!!a):void 0===d?b.lowerBound(c,!!e):b.bound(c,d,!!e,!!a)}var e,f,h=(e=c,f=bM(a.objectStoreNames),{schema:{name:a.name,tables:f.map(function(a){return e.objectStore(a)}).map(function(a){var b=a.keyPath,c=a.autoIncrement,d=g(b),e={},c={name:a.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==b,compound:d,keyPath:b,autoIncrement:c,unique:!0,extractKey:bL(b)},indexes:bM(a.indexNames).map(function(b){return a.index(b)}).map(function(a){var b=a.name,c=a.unique,d=a.multiEntry,a=a.keyPath,d={name:b,compound:g(a),keyPath:a,unique:c,multiEntry:d,extractKey:bL(a)};return e[bO(a)]=d}),getIndexByKeyPath:function(a){return e[bO(a)]}};return e[":id"]=c.primaryKey,null!=b&&(e[bO(b)]=c.primaryKey),c})},hasGetAll:0<f.length&&"getAll"in e.objectStore(f[0])&&!("u">typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),c=h.schema,i=h.hasGetAll,h=c.tables.map(function(a){var b=a.name;return{name:b,schema:a,mutate:function(a){var c=a.trans,e=a.type,f=a.keys,g=a.values,h=a.range;return new Promise(function(a,i){a=aF(a);var j=c.objectStore(b),k=null==j.keyPath,l="put"===e||"add"===e;if(!l&&"delete"!==e&&"deleteRange"!==e)throw Error("Invalid operation type: "+e);var m,n=(f||g||{length:1}).length;if(f&&g&&f.length!==g.length)throw Error("Given keys array must have same length as given values array.");if(0===n)return a({numFailures:0,failures:{},results:[],lastResult:void 0});function o(a){++r,bB(a)}var p=[],q=[],r=0;if("deleteRange"===e){if(4===h.type)return a({numFailures:r,failures:q,results:[],lastResult:void 0});3===h.type?p.push(m=j.clear()):p.push(m=j.delete(d(h)))}else{var k=l?k?[g,f]:[g,null]:[f,null],s=k[0],t=k[1];if(l)for(var u=0;u<n;++u)p.push(m=t&&void 0!==t[u]?j[e](s[u],t[u]):j[e](s[u])),m.onerror=o;else for(u=0;u<n;++u)p.push(m=j[e](s[u])),m.onerror=o}function v(b){b=b.target.result,p.forEach(function(a,b){return null!=a.error&&(q[b]=a.error)}),a({numFailures:r,failures:q,results:"delete"===e?f:p.map(function(a){return a.result}),lastResult:b})}m.onerror=function(a){o(a),v(a)},m.onsuccess=v})},getMany:function(a){var c=a.trans,d=a.keys;return new Promise(function(a,e){a=aF(a);for(var f,g=c.objectStore(b),h=d.length,i=Array(h),j=0,k=0,l=function(b){i[(b=b.target)._pos]=b.result,++k===j&&a(i)},m=bA(e),n=0;n<h;++n)null!=d[n]&&((f=g.get(d[n]))._pos=n,f.onsuccess=l,f.onerror=m,++j);0===j&&a(i)})},get:function(a){var c=a.trans,d=a.key;return new Promise(function(a,e){a=aF(a);var f=c.objectStore(b).get(d);f.onsuccess=function(b){return a(b.target.result)},f.onerror=bA(e)})},query:function(a){return new Promise(function(c,e){c=aF(c);var f,g,h,j=a.trans,k=a.values,l=a.limit,m=a.query,n=l===1/0?void 0:l,o=m.index,m=m.range,j=j.objectStore(b),o=o.isPrimaryKey?j:j.index(o.name),m=d(m);if(0===l)return c({result:[]});i?((n=k?o.getAll(m,n):o.getAllKeys(m,n)).onsuccess=function(a){return c({result:a.target.result})},n.onerror=bA(e)):(f=0,g=!k&&"openKeyCursor"in o?o.openKeyCursor(m):o.openCursor(m),h=[],g.onsuccess=function(a){var b=g.result;return b?(h.push(k?b.value:b.primaryKey),++f===l?c({result:h}):void b.continue()):c({result:h})},g.onerror=bA(e))})},openCursor:function(a){var c=a.trans,e=a.values,f=a.query,g=a.reverse,h=a.unique;return new Promise(function(a,i){a=aF(a);var j=f.index,k=f.range,l=c.objectStore(b),l=j.isPrimaryKey?l:l.index(j.name),j=g?h?"prevunique":"prev":h?"nextunique":"next",m=!e&&"openKeyCursor"in l?l.openKeyCursor(d(k),j):l.openCursor(d(k),j);m.onerror=bA(i),m.onsuccess=aF(function(b){var d,e,f,g,h=m.result;h?(h.___id=++bN,h.done=!1,d=h.continue.bind(h),e=(e=h.continuePrimaryKey)&&e.bind(h),f=h.advance.bind(h),g=function(){throw Error("Cursor not stopped")},h.trans=c,h.stop=h.continue=h.continuePrimaryKey=h.advance=function(){throw Error("Cursor not started")},h.fail=aF(i),h.next=function(){var a=this,b=1;return this.start(function(){return b--?a.continue():a.stop()}).then(function(){return a})},h.start=function(a){function b(){if(m.result)try{a()}catch(a){h.fail(a)}else h.done=!0,h.start=function(){throw Error("Cursor behind last entry")},h.stop()}var c=new Promise(function(a,b){a=aF(a),m.onerror=bA(b),h.fail=b,h.stop=function(b){h.stop=h.continue=h.continuePrimaryKey=h.advance=g,a(b)}});return m.onsuccess=aF(function(a){m.onsuccess=b,b()}),h.continue=d,h.continuePrimaryKey=e,h.advance=f,b(),c},a(h)):a(null)},i)})},count:function(a){var c=a.query,e=a.trans,f=c.index,g=c.range;return new Promise(function(a,c){var h=e.objectStore(b),i=f.isPrimaryKey?h:h.index(f.name),h=d(g),i=h?i.count(h):i.count();i.onsuccess=aF(function(b){return a(b.target.result)}),i.onerror=bA(c)})}}}),j={};return h.forEach(function(a){return j[a.name]=a}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(a){if(!j[a])throw Error("Table '".concat(a,"' not found"));return j[a]},MIN_KEY:-1/0,MAX_KEY:bK(b),schema:c}}(i,h,f),d.dbcore.reduce(function(a,b){return b=b.create,c(c({},a),b(a))},f))});a.core=b.dbcore,a.tables.forEach(function(b){var c=b.name;a.core.schema.tables.some(function(a){return a.name===c})&&(b.core=a.core.table(c),a[c]instanceof a.Table&&(a[c].core=b.core))})}function bQ(a,b,c,d){c.forEach(function(c){var e=d[c];b.forEach(function(b){var d=function a(b,c){return p(b,c)||(b=i(b))&&a(b,c)}(b,c);(!d||"value"in d&&void 0===d.value)&&(b===a.Transaction.prototype||b instanceof a.Transaction?n(b,c,{get:function(){return this.table(c)},set:function(a){m(this,c,{value:a,writable:!0,configurable:!0,enumerable:!0})}}):b[c]=new a.Table(c,e))})})}function bR(a,b){b.forEach(function(b){for(var c in b)b[c]instanceof a.Table&&delete b[c]})}function bS(a,b){return a._cfg.version-b._cfg.version}function bT(a,b){var c,d={del:[],add:[],change:[]};for(c in a)b[c]||d.del.push(c);for(c in b){var e=a[c],f=b[c];if(e){var g={name:c,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(e.primKey.keyPath||"")!=""+(f.primKey.keyPath||"")||e.primKey.auto!==f.primKey.auto)g.recreate=!0,d.change.push(g);else{var h=e.idxByName,i=f.idxByName,j=void 0;for(j in h)i[j]||g.del.push(j);for(j in i){var k=h[j],l=i[j];k?k.src!==l.src&&g.change.push(l):g.add.push(l)}(0<g.del.length||0<g.add.length||0<g.change.length)&&d.change.push(g)}}else d.add.push([c,f])}return d}function bU(a,b,c,d){var e=a.db.createObjectStore(b,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(a){return bW(e,a)}),e}function bV(a,b){f(a).forEach(function(c){b.db.objectStoreNames.contains(c)||(ae&&console.debug("Dexie: Creating missing table",c),bU(b,c,a[c].primKey,a[c].indexes))})}function bW(a,b){a.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function bX(a,b,c){var d={};return r(b.objectStoreNames,0).forEach(function(a){for(var b=c.objectStore(a),e=bH(bI(i=b.keyPath),i||"",!0,!1,!!b.autoIncrement,i&&"string"!=typeof i,!0),f=[],g=0;g<b.indexNames.length;++g){var h=b.index(b.indexNames[g]),i=h.keyPath,h=bH(h.name,i,!!h.unique,!!h.multiEntry,!1,i&&"string"!=typeof i,!1);f.push(h)}d[a]=bJ(a,e,f)}),d}function bY(a,b,c){for(var d=c.db.objectStoreNames,f=0;f<d.length;++f){var g=d[f],h=c.objectStore(g);a._hasGetAll="getAll"in h;for(var i=0;i<h.indexNames.length;++i){var j=h.indexNames[i],k=h.index(j).keyPath,l="string"==typeof k?k:"["+r(k).join("+")+"]";!b[g]||(k=b[g].idxByName[l])&&(k.name=j,delete b[g].idxByName[l],b[g].idxByName[j]=k)}}"u">typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function bZ(a){return a.split(",").map(function(a,b){var c=a.split(":"),d=null==(e=c[1])?void 0:e.trim(),e=(a=c[0].trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(e)?e.match(/^\[(.*)\]$/)[1].split("+"):e;return bH(e,c||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),g(c),0===b,d)})}var b$=(b_.prototype._createTableSchema=bJ,b_.prototype._parseIndexSyntax=bZ,b_.prototype._parseStoresSpec=function(a,b){var c=this;f(a).forEach(function(d){if(null!==a[d]){var e=c._parseIndexSyntax(a[d]),f=e.shift();if(!f)throw new U.Schema("Invalid schema for table "+d+": "+a[d]);if(f.unique=!0,f.multi)throw new U.Schema("Primary key cannot be multiEntry*");e.forEach(function(a){if(a.auto)throw new U.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new U.Schema("Index must have a name and cannot be an empty string")}),e=c._createTableSchema(d,f,e),b[d]=e}})},b_.prototype.stores=function(a){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,a):a;var a=b._versions,c={},d={};return a.forEach(function(a){h(c,a._cfg.storesSource),d=a._cfg.dbschema={},a._parseStoresSpec(c,d)}),b._dbSchema=d,bR(b,[b._allTables,b,b.Transaction.prototype]),bQ(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],f(d),d),b._storeNames=f(d),this},b_.prototype.upgrade=function(a){return this._cfg.contentUpgrade=ad(this._cfg.contentUpgrade||X,a),this},b_);function b_(){}function b0(a,b){var c=a._dbNamesDB;return c||(c=a._dbNamesDB=new cA(a_,{addons:[],indexedDB:a,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function b1(a){return a&&"function"==typeof a.databases}function b2(a){return aM(function(){return ap.letThrough=!0,a()})}function b3(a){return!("from"in a)}var b4=function(a,b){if(!this){var c=new b4;return a&&"d"in a&&h(c,a),c}h(this,arguments.length?{d:1,from:a,to:1<arguments.length?b:a}:{d:0})};function b5(a,b,c){var d=a6(b,c);if(!isNaN(d)){if(0<d)throw RangeError();if(b3(a))return h(a,{from:b,to:c,d:1});var e=a.l,d=a.r;if(0>a6(c,a.from))return e?b5(e,b,c):a.l={from:b,to:c,d:1,l:null,r:null},b9(a);if(0<a6(b,a.to))return d?b5(d,b,c):a.r={from:b,to:c,d:1,l:null,r:null},b9(a);0>a6(b,a.from)&&(a.from=b,a.l=null,a.d=d?d.d+1:1),0<a6(c,a.to)&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1),c=!a.r,e&&!a.l&&b6(a,e),d&&c&&b6(a,d)}}function b6(a,b){b3(b)||function a(b,c){var d=c.from,e=c.to,f=c.l,c=c.r;b5(b,d,e),f&&a(b,f),c&&a(b,c)}(a,b)}function b7(a,b){var c=b8(b),d=c.next();if(d.done)return!1;for(var e=d.value,f=b8(a),g=f.next(e.from),h=g.value;!d.done&&!g.done;){if(0>=a6(h.from,e.to)&&0<=a6(h.to,e.from))return!0;0>a6(e.from,h.from)?e=(d=c.next(h.from)).value:h=(g=f.next(e.from)).value}return!1}function b8(a){var b=b3(a)?null:{s:0,n:a};return{next:function(a){for(var c=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,c)for(;b.n.l&&0>a6(a,b.n.from);)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!c||0>=a6(a,b.n.to))return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function b9(a){var b,d,e=((null==(b=a.r)?void 0:b.d)||0)-((null==(d=a.l)?void 0:d.d)||0),f=1<e?"r":e<-1?"l":"";f&&(b="r"==f?"l":"r",d=c({},a),e=a[f],a.from=e.from,a.to=e.to,a[f]=e[f],d[f]=e[b],(a[b]=d).d=ca(d)),a.d=ca(a)}function ca(a){var b=a.r,a=a.l;return(b?a?Math.max(b.d,a.d):b.d:a?a.d:0)+1}function cb(a,b){return f(b).forEach(function(c){a[c]?b6(a[c],b[c]):a[c]=function a(b){var c,d,e={};for(c in b)k(b,c)&&(d=b[c],e[c]=!d||"object"!=typeof d||B.has(d.constructor)?d:a(d));return e}(b[c])}),a}function cc(a,b){return a.all||b.all||Object.keys(a).some(function(c){return b[c]&&b7(b[c],a[c])})}l(b4.prototype,((N={add:function(a){return b6(this,a),this},addKey:function(a){return b5(this,a,a),this},addKeys:function(a){var b=this;return a.forEach(function(a){return b5(b,a,a)}),this},hasKey:function(a){var b=b8(this).next(a).value;return b&&0>=a6(b.from,a)&&0<=a6(b.to,a)}})[G]=function(){return b8(this)},N));var cd={},ce={},cf=!1;function cg(a){cb(ce,a),cf||(cf=!0,setTimeout(function(){cf=!1,ch(ce,(ce={},!1))},0))}function ch(a,b){void 0===b&&(b=!1);var c=new Set;if(a.all)for(var d=0,e=Object.values(cd);d<e.length;d++)ci(g=e[d],a,c,b);else for(var f in a){var g,h=/^idb\:\/\/(.*)\/(.*)\//.exec(f);h&&(f=h[1],h=h[2],(g=cd["idb://".concat(f,"/").concat(h)])&&ci(g,a,c,b))}c.forEach(function(a){return a()})}function ci(a,b,c,d){for(var e=[],f=0,g=Object.entries(a.queries.query);f<g.length;f++){for(var h=g[f],i=h[0],j=[],k=0,l=h[1];k<l.length;k++){var m=l[k];cc(b,m.obsSet)?m.subscribers.forEach(function(a){return c.add(a)}):d&&j.push(m)}d&&e.push([i,j])}if(d)for(var n=0;n<e.length;n++){var o=e[n],i=o[0],j=o[1];a.queries.query[i]=j}}function cj(a){function b(b){return a.next(b)}var c=e(b),d=e(function(b){return a.throw(b)});function e(a){return function(b){var e=a(b),b=e.value;return e.done?b:b&&"function"==typeof b.then?b.then(c,d):g(b)?Promise.all(b).then(c,d):c(b)}}return e(b)()}function ck(a,b,c){for(var d=g(a)?a.slice():[a],e=0;e<c;++e)d.push(b);return d}var cl={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return c(c({},a),{table:function(b){var d=a.table(b),e=d.schema,f={},g=[];function h(a,b,d){var e=bO(a),i=f[e]=f[e]||[],j=null==a?0:"string"==typeof a?1:a.length,k=0<b,k=c(c({},d),{name:k?"".concat(e,"(virtual-from:").concat(d.name,")"):d.name,lowLevelIndex:d,isVirtual:k,keyTail:b,keyLength:j,extractKey:bL(a),unique:!k&&d.unique});return i.push(k),k.isPrimaryKey||g.push(k),1<j&&h(2===j?a[0]:a.slice(0,j-1),b+1,d),i.sort(function(a,b){return a.keyTail-b.keyTail}),k}b=h(e.primaryKey.keyPath,0,e.primaryKey),f[":id"]=[b];for(var i=0,j=e.indexes;i<j.length;i++){var k=j[i];h(k.keyPath,0,k)}function l(b){var d,e=b.query.index;return e.isVirtual?c(c({},b),{query:{index:e.lowLevelIndex,range:(d=b.query.range,e=e.keyTail,{type:1===d.type?2:d.type,lower:ck(d.lower,d.lowerOpen?a.MAX_KEY:a.MIN_KEY,e),lowerOpen:!0,upper:ck(d.upper,d.upperOpen?a.MIN_KEY:a.MAX_KEY,e),upperOpen:!0})}}):b}return c(c({},d),{schema:c(c({},e),{primaryKey:b,indexes:g,getIndexByKeyPath:function(a){return(a=f[bO(a)])&&a[0]}}),count:function(a){return d.count(l(a))},query:function(a){return d.query(l(a))},openCursor:function(b){var c=b.query.index,e=c.keyTail,f=c.isVirtual,g=c.keyLength;return f?d.openCursor(l(b)).then(function(c){var d;return c&&Object.create(d=c,{continue:{value:function(c){null!=c?d.continue(ck(c,b.reverse?a.MAX_KEY:a.MIN_KEY,e)):b.unique?d.continue(d.key.slice(0,g).concat(b.reverse?a.MIN_KEY:a.MAX_KEY,e)):d.continue()}},continuePrimaryKey:{value:function(b,c){d.continuePrimaryKey(ck(b,a.MAX_KEY,e),c)}},primaryKey:{get:function(){return d.primaryKey}},key:{get:function(){var a=d.key;return 1===g?a[0]:a.slice(0,g)}},value:{get:function(){return d.value}}})}):d.openCursor(b)}})}})}};function cm(a,b,c,d){return c=c||{},d=d||"",f(a).forEach(function(e){var f,g,h;k(b,e)?(f=a[e],g=b[e],"object"==typeof f&&"object"==typeof g&&f&&g?(h=F(f))!==F(g)?c[d+e]=b[e]:"Object"===h?cm(f,g,c,d+e+"."):f!==g&&(c[d+e]=b[e]):f!==g&&(c[d+e]=b[e])):c[d+e]=void 0}),f(b).forEach(function(e){k(a,e)||(c[d+e]=b[e])}),c}function cn(a,b){return"delete"===b.type?b.keys:b.keys||b.values.map(a.extractKey)}var co={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return c(c({},a),{table:function(b){var e=a.table(b),f=e.schema.primaryKey;return c(c({},e),{mutate:function(a){var g=ap.trans,h=g.table(b).hook,i=h.deleting,j=h.creating,l=h.updating;switch(a.type){case"add":if(j.fire===X)break;return g._promise("readwrite",function(){return m(a)},!0);case"put":if(j.fire===X&&l.fire===X)break;return g._promise("readwrite",function(){return m(a)},!0);case"delete":if(i.fire===X)break;return g._promise("readwrite",function(){return m(a)},!0);case"deleteRange":if(i.fire===X)break;return g._promise("readwrite",function(){return function a(b,d,g){return e.query({trans:b,values:!1,query:{index:f,range:d},limit:g}).then(function(e){var f=e.result;return m({type:"delete",keys:f,trans:b}).then(function(e){return 0<e.numFailures?Promise.reject(e.failures[0]):f.length<g?{failures:[],numFailures:0,lastResult:void 0}:a(b,c(c({},d),{lower:f[f.length-1],lowerOpen:!0}),g)})})}(a.trans,a.range,1e4)},!0)}return e.mutate(a);function m(a){var b,g=ap.trans,h=a.keys||cn(f,a);if(!h)throw Error("Keys missing");return"delete"!==(a="add"===a.type||"put"===a.type?c(c({},a),{keys:h}):c({},a)).type&&(a.values=d([],a.values,!0)),a.keys&&(a.keys=d([],a.keys,!0)),("add"===(b=a).type?Promise.resolve([]):e.getMany({trans:b.trans,keys:h,cache:"immutable"})).then(function(b){var c=h.map(function(c,d){var e,h,m,n=b[d],o={onerror:null,onsuccess:null};return"delete"===a.type?i.fire.call(o,c,n,g):"add"===a.type||void 0===n?(e=j.fire.call(o,c,a.values[d],g),null==c&&null!=e&&(a.keys[d]=c=e,f.outbound||w(a.values[d],f.keyPath,c))):(e=cm(n,a.values[d]),(h=l.fire.call(o,e,c,n,g))&&(m=a.values[d],Object.keys(h).forEach(function(a){k(m,a)?m[a]=h[a]:w(m,a,h[a])}))),o});return e.mutate(a).then(function(d){for(var e=d.failures,f=d.results,g=d.numFailures,d=d.lastResult,i=0;i<h.length;++i){var j=(f||h)[i],k=c[i];null==j?k.onerror&&k.onerror(e[i]):k.onsuccess&&k.onsuccess("put"===a.type&&b[i]?a.values[i]:j)}return{failures:e,results:f,numFailures:g,lastResult:d}}).catch(function(a){return c.forEach(function(b){return b.onerror&&b.onerror(a)}),Promise.reject(a)})})}}})}})}};function cp(a,b,c){try{if(!b||b.keys.length<a.length)return null;for(var d=[],e=0,f=0;e<b.keys.length&&f<a.length;++e)0===a6(b.keys[e],a[f])&&(d.push(c?D(b.values[e]):b.values[e]),++f);return d.length===a.length?d:null}catch(a){return null}}var cq={stack:"dbcore",level:-1,create:function(a){return{table:function(b){var d=a.table(b);return c(c({},d),{getMany:function(a){if(!a.cache)return d.getMany(a);var b=cp(a.keys,a.trans._cache,"clone"===a.cache);return b?at.resolve(b):d.getMany(a).then(function(b){return a.trans._cache={keys:a.keys,values:"clone"===a.cache?D(b):b},b})},mutate:function(a){return"add"!==a.type&&(a.trans._cache=null),d.mutate(a)}})}}}};function cr(a,b){return"readonly"===a.trans.mode&&!!a.subscr&&!a.trans.explicit&&"disabled"!==a.trans.db._options.cache&&!b.schema.primaryKey.outbound}function cs(a,b){switch(a){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ct={stack:"dbcore",level:0,name:"Observability",create:function(a){var b=a.schema.name,d=new b4(a.MIN_KEY,a.MAX_KEY);return c(c({},a),{transaction:function(b,c,d){if(ap.subscr&&"readonly"!==c)throw new U.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ap.querier));return a.transaction(b,c,d)},table:function(e){var h=a.table(e),i=h.schema,j=i.primaryKey,k=i.indexes,l=j.extractKey,m=j.outbound,n=j.autoIncrement&&k.filter(function(a){return a.compound&&a.keyPath.includes(j.keyPath)}),o=c(c({},h),{mutate:function(c){function f(a){return o[a="idb://".concat(b,"/").concat(e,"/").concat(a)]||(o[a]=new b4)}var k,l,m=c.trans,o=c.mutatedParts||(c.mutatedParts={}),p=f(""),q=f(":dels"),r=c.type,s="deleteRange"===c.type?[c.range]:"delete"===c.type?[c.keys]:c.values.length<50?[cn(j,c).filter(function(a){return a}),c.values]:[],t=s[0],u=s[1],s=c.trans._cache;return g(t)?(p.addKeys(t),(s="delete"===r||t.length===u.length?cp(t,s):null)||q.addKeys(t),(s||u)&&(k=s,l=u,i.indexes.forEach(function(a){var b=f(a.name||"");function c(b){return null!=b?a.extractKey(b):null}function d(c){return a.multiEntry&&g(c)?c.forEach(function(a){return b.addKey(a)}):b.addKey(c)}(k||l).forEach(function(a,b){var e=k&&c(k[b]),b=l&&c(l[b]);0!==a6(e,b)&&(null!=e&&d(e),null!=b&&d(b))})}))):t?(u={from:null!=(u=t.lower)?u:a.MIN_KEY,to:null!=(u=t.upper)?u:a.MAX_KEY},q.add(u),p.add(u)):(p.add(d),q.add(d),i.indexes.forEach(function(a){return f(a.name).add(d)})),h.mutate(c).then(function(a){return!t||"add"!==c.type&&"put"!==c.type||(p.addKeys(a.results),n&&n.forEach(function(b){for(var d=c.values.map(function(a){return b.extractKey(a)}),e=b.keyPath.findIndex(function(a){return a===j.keyPath}),g=0,h=a.results.length;g<h;++g)d[g][e]=a.results[g];f(b.name).addKeys(d)})),m.mutatedParts=cb(m.mutatedParts||{},o),a})}}),k=function(b){var c=b.query,b=c.index,c=c.range;return[b,new b4(null!=(b=c.lower)?b:a.MIN_KEY,null!=(c=c.upper)?c:a.MAX_KEY)]},p={get:function(a){return[j,new b4(a.key)]},getMany:function(a){return[j,(new b4).addKeys(a.keys)]},count:k,query:k,openCursor:k};return f(p).forEach(function(a){o[a]=function(f){var g=ap.subscr,i=!!g,j=cr(ap,h)&&cs(a,f)?f.obsSet={}:g;if(i){var k=function(a){return j[a="idb://".concat(b,"/").concat(e,"/").concat(a)]||(j[a]=new b4)},n=k(""),o=k(":dels"),g=p[a](f),i=g[0],g=g[1];if(("query"===a&&i.isPrimaryKey&&!f.values?o:k(i.name||"")).add(g),!i.isPrimaryKey){if("count"!==a){var q="query"===a&&m&&f.values&&h.query(c(c({},f),{values:!1}));return h[a].apply(this,arguments).then(function(b){if("query"===a){if(m&&f.values)return q.then(function(a){return a=a.result,n.addKeys(a),b});var c=f.values?b.result.map(l):b.result;(f.values?n:o).addKeys(c)}else if("openCursor"===a){var d=f.values;return b&&Object.create(b,{key:{get:function(){return o.addKey(b.primaryKey),b.key}},primaryKey:{get:function(){var a=b.primaryKey;return o.addKey(a),a}},value:{get:function(){return d&&n.addKey(b.primaryKey),b.value}}})}return b})}o.add(d)}}return h[a].apply(this,arguments)}}),o}})}};function cu(a,b,d){if(0===d.numFailures)return b;if("deleteRange"===b.type)return null;var e=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return d.numFailures===e?null:(g((b=c({},b)).keys)&&(b.keys=b.keys.filter(function(a,b){return!(b in d.failures)})),"values"in b&&g(b.values)&&(b.values=b.values.filter(function(a,b){return!(b in d.failures)})),b)}function cv(a,b){return(void 0===b.lower||(b.lowerOpen?0<a6(a,b.lower):0<=a6(a,b.lower)))&&(void 0===b.upper||(b.upperOpen?0>a6(a,b.upper):0>=a6(a,b.upper)))}function cw(a,b,c,d,e,f){if(!c||0===c.length)return a;var h=b.query.index,i=h.multiEntry,j=b.query.range,k=d.schema.primaryKey.extractKey,l=h.extractKey,m=(h.lowLevelIndex||h).extractKey,c=c.reduce(function(a,c){var d=a,e=[];if("add"===c.type||"put"===c.type)for(var f=new b4,h=c.values.length-1;0<=h;--h){var m,n=c.values[h],o=k(n);f.hasKey(o)||(m=l(n),(i&&g(m)?m.some(function(a){return cv(a,j)}):cv(m,j))&&(f.addKey(o),e.push(n)))}switch(c.type){case"add":var p=(new b4).addKeys(b.values?a.map(function(a){return k(a)}):a),d=a.concat(b.values?e.filter(function(a){return a=k(a),!p.hasKey(a)&&(p.addKey(a),!0)}):e.map(function(a){return k(a)}).filter(function(a){return!p.hasKey(a)&&(p.addKey(a),!0)}));break;case"put":var q=(new b4).addKeys(c.values.map(function(a){return k(a)}));d=a.filter(function(a){return!q.hasKey(b.values?k(a):a)}).concat(b.values?e:e.map(function(a){return k(a)}));break;case"delete":var r=(new b4).addKeys(c.keys);d=a.filter(function(a){return!r.hasKey(b.values?k(a):a)});break;case"deleteRange":var s=c.range;d=a.filter(function(a){return!cv(k(a),s)})}return d},a);return c===a?a:(c.sort(function(a,b){return a6(m(a),m(b))||a6(k(a),k(b))}),b.limit&&b.limit<1/0&&(c.length>b.limit?c.length=b.limit:a.length===b.limit&&c.length<b.limit&&(e.dirty=!0)),f?Object.freeze(c):c)}function cx(a,b){return 0===a6(a.lower,b.lower)&&0===a6(a.upper,b.upper)&&!!a.lowerOpen==!!b.lowerOpen&&!!a.upperOpen==!!b.upperOpen}var cy={stack:"dbcore",level:0,name:"Cache",create:function(a){var b=a.schema.name;return c(c({},a),{transaction:function(c,d,e){var f,g,h=a.transaction(c,d,e);return"readwrite"===d&&(g=(f=new AbortController).signal,e=function(e){return function(){if(f.abort(),"readwrite"===d){for(var g=new Set,i=0;i<c.length;i++){var j=c[i],k=cd["idb://".concat(b,"/").concat(j)];if(k){var l=a.table(j),m=k.optimisticOps.filter(function(a){return a.trans===h});if(h._explicit&&e&&h.mutatedParts)for(var n=0,o=Object.values(k.queries.query);n<o.length;n++)for(var p=0,q=(t=o[n]).slice();p<q.length;p++)cc((u=q[p]).obsSet,h.mutatedParts)&&(I(t,u),u.subscribers.forEach(function(a){return g.add(a)}));else if(0<m.length){k.optimisticOps=k.optimisticOps.filter(function(a){return a.trans!==h});for(var r=0,s=Object.values(k.queries.query);r<s.length;r++)for(var t,u,v,w=0,x=(t=s[r]).slice();w<x.length;w++)null!=(u=x[w]).res&&h.mutatedParts&&(e&&!u.dirty?(v=Object.isFrozen(u.res),v=cw(u.res,u.req,m,l,u,v),u.dirty?(I(t,u),u.subscribers.forEach(function(a){return g.add(a)})):v!==u.res&&(u.res=v,u.promise=at.resolve({result:v}))):(u.dirty&&I(t,u),u.subscribers.forEach(function(a){return g.add(a)})))}}}g.forEach(function(a){return a()})}}},h.addEventListener("abort",e(!1),{signal:g}),h.addEventListener("error",e(!1),{signal:g}),h.addEventListener("complete",e(!0),{signal:g})),h},table:function(d){var e=a.table(d),f=e.schema.primaryKey;return c(c({},e),{mutate:function(a){var g=ap.trans;if(f.outbound||"disabled"===g.db._options.cache||g.explicit||"readwrite"!==g.idbtrans.mode)return e.mutate(a);var h=cd["idb://".concat(b,"/").concat(d)];return h?(g=e.mutate(a),("add"===a.type||"put"===a.type)&&(50<=a.values.length||cn(f,a).some(function(a){return null==a}))?g.then(function(b){var d=cu(0,c(c({},a),{values:a.values.map(function(a,d){var e;return b.failures[d]||w(a=null!=(e=f.keyPath)&&e.includes(".")?D(a):c({},a),f.keyPath,b.results[d]),a})}),b);h.optimisticOps.push(d),queueMicrotask(function(){return a.mutatedParts&&cg(a.mutatedParts)})}):(h.optimisticOps.push(a),a.mutatedParts&&cg(a.mutatedParts),g.then(function(b){0<b.numFailures&&(I(h.optimisticOps,a),(b=cu(0,a,b))&&h.optimisticOps.push(b),a.mutatedParts&&cg(a.mutatedParts))}),g.catch(function(){I(h.optimisticOps,a),a.mutatedParts&&cg(a.mutatedParts)})),g):e.mutate(a)},query:function(a){if(!cr(ap,e)||!cs("query",a))return e.query(a);var c,f,g="immutable"===(null==(k=ap.trans)?void 0:k.db._options.cache),h=ap,i=h.requery,j=h.signal,k=function(a,b,c,d){var e=cd["idb://".concat(a,"/").concat(b)];if(!e)return[];if(!(b=e.queries[c]))return[null,!1,e,null];var f=b[(d.query?d.query.index.name:null)||""];if(!f)return[null,!1,e,null];switch(c){case"query":var g=f.find(function(a){return a.req.limit===d.limit&&a.req.values===d.values&&cx(a.req.query.range,d.query.range)});return g?[g,!0,e,f]:[f.find(function(a){var b,c;return("limit"in a.req?a.req.limit:1/0)>=d.limit&&(!d.values||a.req.values)&&(b=a.req.query.range,c=d.query.range,0>=function(a,b,c,d){if(void 0===a)return void 0!==b?-1:0;if(void 0===b)return 1;if(0===(b=a6(a,b))){if(c&&d)return 0;if(c)return 1;if(d)return -1}return b}(b.lower,c.lower,b.lowerOpen,c.lowerOpen)&&0<=function(a,b,c,d){if(void 0===a)return+(void 0!==b);if(void 0===b)return -1;if(0===(b=a6(a,b))){if(c&&d)return 0;if(c)return -1;if(d)return 1}return b}(b.upper,c.upper,b.upperOpen,c.upperOpen))}),!1,e,f];case"count":return[g=f.find(function(a){return cx(a.req.query.range,d.query.range)}),!!g,e,f]}}(b,d,"query",a),l=k[0],h=k[1],m=k[2],n=k[3];return l&&h?l.obsSet=a.obsSet:(h=e.query(a).then(function(a){var b=a.result;if(l&&(l.res=b),g){for(var c=0,d=b.length;c<d;++c)Object.freeze(b[c]);Object.freeze(b)}else a.result=D(b);return a}).catch(function(a){return n&&l&&I(n,l),Promise.reject(a)}),l={obsSet:a.obsSet,promise:h,subscribers:new Set,type:"query",req:a,dirty:!1},n?n.push(l):(n=[l],(m=m||(cd["idb://".concat(b,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[a.query.index.name||""]=n)),c=l,f=n,c.subscribers.add(i),j.addEventListener("abort",function(){c.subscribers.delete(i),0===c.subscribers.size&&setTimeout(function(){0===c.subscribers.size&&I(f,c)},3e3)}),l.promise.then(function(b){return{result:cw(b.result,a,null==m?void 0:m.optimisticOps,e,l,g)}})}})}})}};function cz(a,b){return new Proxy(a,{get:function(a,c,d){return"db"===c?b:Reflect.get(a,c,d)}})}var cA=(cB.prototype.version=function(a){if(isNaN(a)||a<.1)throw new U.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new U.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var b=this._versions,c=b.filter(function(b){return b._cfg.version===a})[0];return c||(c=new this.Version(a),b.push(c),b.sort(bS),c.stores({}),this._state.autoSchema=!1,c)},cB.prototype._whenReady=function(a){var b=this;return this.idbdb&&(this._state.openComplete||ap.letThrough||this._vip)?a():new at(function(a,c){if(b._state.openComplete)return c(new U.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void c(new U.DatabaseClosed);b.open().catch(X)}b._state.dbReadyPromise.then(a,c)}).then(a)},cB.prototype.use=function(a){var b=a.stack,c=a.create,d=a.level,e=a.name;return e&&this.unuse({stack:b,name:e}),(a=this._middlewares[b]||(this._middlewares[b]=[])).push({stack:b,create:c,level:null==d?10:d,name:e}),a.sort(function(a,b){return a.level-b.level}),this},cB.prototype.unuse=function(a){var b=a.stack,c=a.name,d=a.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(a){return d?a.create!==d:!!c&&a.name!==c})),this},cB.prototype.open=function(){var a=this;return aT(ao,function(){return function(a){var b=a._state,c=a._deps.indexedDB;if(b.isBeingOpened||a.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?aW(b.dbOpenError):a});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var d=b.openCanceller,e=Math.round(10*a.verno),g=!1;function h(){if(b.openCanceller!==d)throw new U.DatabaseClosed("db.open() was cancelled")}var i,j=b.dbReadyResolve,k=null,l=!1;return at.race([d,("u"<typeof navigator?at.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(a){function b(){return indexedDB.databases().finally(a)}i=setInterval(b,100),b()}).finally(function(){return clearInterval(i)}):Promise.resolve()).then(function d(){return new at(function(i,j){if(h(),!c)throw new U.MissingAPI;var m=a.name,n=b.autoSchema||!e?c.open(m):c.open(m,e);if(!n)throw new U.MissingAPI;n.onerror=bA(j),n.onblocked=aF(a._fireOnBlocked),n.onupgradeneeded=aF(function(d){var e,h,i,o,p,q,r;k=n.transaction,b.autoSchema&&!a._options.allowEmptyDB?(n.onerror=bB,k.abort(),n.result.close(),(e=c.deleteDatabase(m)).onsuccess=e.onerror=aF(function(){j(new U.NoSuchDatabase("Database ".concat(m," doesnt exist")))})):(k.onerror=bA(j),l=(d=d.oldVersion>0x4000000000000000?0:d.oldVersion)<1,a.idbdb=n.result,g&&function(a,b){bV(a._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var c=bX(0,a.idbdb,b);bY(a,a._dbSchema,b);for(var d=0,e=bT(c,a._dbSchema).change;d<e.length;d++){var f=function(a){if(a.change.length||a.recreate)return console.warn("Unable to patch indexes of table ".concat(a.name," because it has changes on the type of index or primary key.")),{value:void 0};var c=b.objectStore(a.name);a.add.forEach(function(b){ae&&console.debug("Dexie upgrade patch: Creating missing index ".concat(a.name,".").concat(b.src)),bW(c,b)})}(e[d]);if("object"==typeof f)return f.value}}(a,k),h=d/10,i=k,o=a._dbSchema,i.objectStoreNames.contains("$meta")&&!o.$meta&&(o.$meta=bJ("$meta",bZ("")[0],[]),a._storeNames.push("$meta")),(p=a._createTransaction("readwrite",a._storeNames,o)).create(i),p._completion.catch(j),q=p._reject.bind(p),r=ap.transless||ap,aM(function(){return ap.trans=p,ap.transless=r,0!==h?(bP(a,i),(p.storeNames.includes("$meta")?p.table("$meta").get("version").then(function(a){return null!=a?a:h}):at.resolve(h)).then(function(b){var c,d,e;return c=b,d=[],b=a._versions,e=a._dbSchema=bX(0,a.idbdb,i),0!==(b=b.filter(function(a){return a._cfg.version>=c})).length?(b.forEach(function(b){d.push(function(){var d=e,g=b._cfg.dbschema;bY(a,d,i),bY(a,g,i),e=a._dbSchema=g;var h=bT(d,g);h.add.forEach(function(a){bU(i,a[0],a[1].primKey,a[1].indexes)}),h.change.forEach(function(a){if(a.recreate)throw new U.Upgrade("Not yet support for changing primary key");var b=i.objectStore(a.name);a.add.forEach(function(a){return bW(b,a)}),a.change.forEach(function(a){b.deleteIndex(a.name),bW(b,a)}),a.del.forEach(function(a){return b.deleteIndex(a)})});var j=b._cfg.contentUpgrade;if(j&&b._cfg.version>c){bP(a,i),p._memoizedTables={};var k=x(g);h.del.forEach(function(a){k[a]=d[a]}),bR(a,[a.Transaction.prototype]),bQ(a,[a.Transaction.prototype],f(k),k),p.schema=k;var l,m=L(j);return m&&aN(),h=at.follow(function(){var a;(l=j(p))&&m&&(a=aO.bind(null,null),l.then(a,a))}),l&&"function"==typeof l.then?at.resolve(l):h.then(function(){return l})}}),d.push(function(c){var d=b._cfg.dbschema;[].slice.call(c.db.objectStoreNames).forEach(function(a){return null==d[a]&&c.db.deleteObjectStore(a)}),bR(a,[a.Transaction.prototype]),bQ(a,[a.Transaction.prototype],a._storeNames,a._dbSchema),p.schema=a._dbSchema}),d.push(function(c){a.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(a.idbdb.version/10)===b._cfg.version?(a.idbdb.deleteObjectStore("$meta"),delete a._dbSchema.$meta,a._storeNames=a._storeNames.filter(function(a){return"$meta"!==a})):c.objectStore("$meta").put(b._cfg.version,"version"))})}),(function a(){return d.length?at.resolve(d.shift()(p.idbtrans)).then(a):at.resolve()})().then(function(){bV(e,i)})):at.resolve()}).catch(q)):(f(o).forEach(function(a){bU(i,a,o[a].primKey,o[a].indexes)}),bP(a,i),void at.follow(function(){return a.on.populate.fire(p)}).catch(q))}))},j),n.onsuccess=aF(function(){k=null;var c,h,j,o=a.idbdb=n.result,p=r(o.objectStoreNames);if(0<p.length)try{var q=o.transaction(1===p.length?p[0]:p,"readonly");if(b.autoSchema)c=o,h=q,a.verno=c.version/10,h=a._dbSchema=bX(0,c,h),a._storeNames=r(c.objectStoreNames,0),bQ(a,[a._allTables],f(h),h);else if(bY(a,a._dbSchema,q),((j=bT(bX(0,(j=a).idbdb,q),j._dbSchema)).add.length||j.change.some(function(a){return a.add.length||a.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),o.close(),e=o.version+1,g=!0,i(d());bP(a,q)}catch(a){}a$.push(a),o.onversionchange=aF(function(c){b.vcFired=!0,a.on("versionchange").fire(c)}),o.onclose=aF(function(){a.close({disableAutoOpen:!1})}),l&&(j=a._deps,q=m,o=j.indexedDB,j=j.IDBKeyRange,b1(o)||q===a_||b0(o,j).put({name:q}).catch(X)),i()},j)}).catch(function(a){switch(null==a?void 0:a.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),d();break;case"VersionError":if(0<e)return e=0,d()}return at.reject(a)})})]).then(function(){return h(),b.onReadyBeingFired=[],at.resolve(b2(function(){return a.on.ready.fire(a.vip)})).then(function c(){if(0<b.onReadyBeingFired.length){var d=b.onReadyBeingFired.reduce(ad,X);return b.onReadyBeingFired=[],at.resolve(b2(function(){return d(a.vip)})).then(c)}})}).finally(function(){b.openCanceller===d&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(c){b.dbOpenError=c;try{k&&k.abort()}catch(a){}return d===b.openCanceller&&a._close(),aW(c)}).finally(function(){b.openComplete=!0,j()}).then(function(){var b;return l&&(b={},a.tables.forEach(function(c){c.schema.indexes.forEach(function(d){d.name&&(b["idb://".concat(a.name,"/").concat(c.name,"/").concat(d.name)]=new b4(-1/0,[[[]]]))}),b["idb://".concat(a.name,"/").concat(c.name,"/")]=b["idb://".concat(a.name,"/").concat(c.name,"/:dels")]=new b4(-1/0,[[[]]])}),bE(bC).fire(b),ch(b,!0)),a})}(a)})},cB.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var a=this._state,b=a$.indexOf(this);if(0<=b&&a$.splice(b,1),this.idbdb){try{this.idbdb.close()}catch(a){}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new at(function(b){a.dbReadyResolve=b}),a.openCanceller=new at(function(b,c){a.cancelOpen=c}))},cB.prototype.close=function(a){var b=(void 0===a?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;b?(a.isBeingOpened&&a.cancelOpen(new U.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new U.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},cB.prototype.delete=function(a){var b=this;void 0===a&&(a={disableAutoOpen:!0});var c=0<arguments.length&&"object"!=typeof arguments[0],d=this._state;return new at(function(e,f){function g(){b.close(a);var c=b._deps.indexedDB.deleteDatabase(b.name);c.onsuccess=aF(function(){var a,c,d;a=b._deps,c=b.name,d=a.indexedDB,a=a.IDBKeyRange,b1(d)||c===a_||b0(d,a).delete(c).catch(X),e()}),c.onerror=bA(f),c.onblocked=b._fireOnBlocked}if(c)throw new U.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(g):g()})},cB.prototype.backendDB=function(){return this.idbdb},cB.prototype.isOpen=function(){return null!==this.idbdb},cB.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&"DatabaseClosed"===a.name},cB.prototype.hasFailed=function(){return null!==this._state.dbOpenError},cB.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(cB.prototype,"tables",{get:function(){var a=this;return f(this._allTables).map(function(b){return a._allTables[b]})},enumerable:!1,configurable:!0}),cB.prototype.transaction=function(){var a=(function(a,b,c){var d=arguments.length;if(d<2)throw new U.InvalidArgument("Too few arguments");for(var e=Array(d-1);--d;)e[d-1]=arguments[d];return c=e.pop(),[a,z(e),c]}).apply(this,arguments);return this._transaction.apply(this,a)},cB.prototype._transaction=function(a,b,c){var d=this,e=ap.trans;e&&e.db===this&&-1===a.indexOf("!")||(e=null);var f,g,h=-1!==a.indexOf("?");a=a.replace("!","").replace("?","");try{if(g=b.map(function(a){if(a=a instanceof d.Table?a.name:a,"string"!=typeof a)throw TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return a}),"r"==a||a===a0)f=a0;else{if("rw"!=a&&a!=a1)throw new U.InvalidArgument("Invalid transaction mode: "+a);f=a1}if(e){if(e.mode===a0&&f===a1){if(!h)throw new U.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");e=null}e&&g.forEach(function(a){if(e&&-1===e.storeNames.indexOf(a)){if(!h)throw new U.SubTransaction("Table "+a+" not included in parent transaction.");e=null}}),h&&e&&!e.active&&(e=null)}}catch(a){return e?e._promise(null,function(b,c){c(a)}):aW(a)}var i=(function a(b,c,d,e,f){return at.resolve().then(function(){var g=ap.transless||ap,h=b._createTransaction(c,d,b._dbSchema,e);if(h.explicit=!0,g={trans:h,transless:g},e)h.idbtrans=e.idbtrans;else try{h.create(),h.idbtrans._explicit=!0,b._state.PR1398_maxLoop=3}catch(e){return e.name===T.InvalidState&&b.isOpen()&&0<--b._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),b.close({disableAutoOpen:!1}),b.open().then(function(){return a(b,c,d,null,f)})):aW(e)}var i,j=L(f);return j&&aN(),g=at.follow(function(){var a;(i=f.call(h,h))&&(j?(a=aO.bind(null,null),i.then(a,a)):"function"==typeof i.next&&"function"==typeof i.throw&&(i=cj(i)))},g),(i&&"function"==typeof i.then?at.resolve(i).then(function(a){return h.active?a:aW(new U.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):g.then(function(){return i})).then(function(a){return e&&h._resolve(),h._completion.then(function(){return a})}).catch(function(a){return h._reject(a),aW(a)})})}).bind(null,this,f,g,e,c);return e?e._promise(f,i,"lock"):ap.trans?aT(ap.transless,function(){return d._whenReady(i)}):this._whenReady(i)},cB.prototype.table=function(a){if(!k(this._allTables,a))throw new U.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},cB);function cB(a,b){var d=this;this._middlewares={},this.verno=0;var e=cB.dependencies;this._options=b=c({addons:cB.addons,autoOpen:!0,indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},e=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,g,h,i,j,k={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:X,dbReadyPromise:null,cancelOpen:X,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};k.dbReadyPromise=new at(function(a){k.dbReadyResolve=a}),k.openCanceller=new at(function(a,b){k.cancelOpen=b}),this._state=k,this.name=a,this.on=bf(this,"populate","blocked","versionchange","close",{ready:[ad,X]}),this.once=function(a,b){var c=function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];d.on(a).unsubscribe(c),b.apply(d,e)};return d.on(a,c)},this.on.ready.subscribe=s(this.on.ready.subscribe,function(a){return function(b,c){cB.vip(function(){var e=d._state;e.openComplete?(e.dbOpenError||at.resolve().then(b),c&&a(b)):e.onReadyBeingFired?(e.onReadyBeingFired.push(b),c&&a(b)):(a(b),c||a(function a(){d.on.ready.unsubscribe(b),d.on.ready.unsubscribe(a)}))})}}),this.Collection=(f=this,bg(bo.prototype,function(a,b){this.db=f;var c=a3,d=null;if(b)try{c=b()}catch(a){d=a}var e=a._ctx,b=e.table,a=b.hook.reading.fire;this._ctx={table:b,index:e.index,isPrimKey:!e.index||b.schema.primKey.keyPath&&e.index===b.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:d,or:e.or,valueMapper:a!==Y?a:null}})),this.Table=(g=this,bg(bd.prototype,function(a,b,c){this.db=g,this._tx=c,this.name=a,this.schema=b,this.hook=g._allTables[a]?g._allTables[a].hook:bf(null,{creating:[_,X],reading:[Z,Y],updating:[ab,X],deleting:[aa,X]})})),this.Transaction=(h=this,bg(bF.prototype,function(a,b,c,d,e){var f=this;"readonly"!==a&&b.forEach(function(a){(a=null==(a=c[a])?void 0:a.yProps)&&(b=b.concat(a.map(function(a){return a.updatesTable})))}),this.db=h,this.mode=a,this.storeNames=b,this.schema=c,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=bf(this,"complete","error","abort"),this.parent=e||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new at(function(a,b){f._resolve=a,f._reject=b}),this._completion.then(function(){f.active=!1,f.on.complete.fire()},function(a){var b=f.active;return f.active=!1,f.on.error.fire(a),f.parent?f.parent._reject(a):b&&f.idbtrans&&f.idbtrans.abort(),aW(a)})})),this.Version=(i=this,bg(b$.prototype,function(a){this.db=i,this._cfg={version:a,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,bg(by.prototype,function(a,b,c){if(this.db=j,this._ctx={table:a,index:":id"===b?null:b,or:c},this._cmp=this._ascending=a6,this._descending=function(a,b){return a6(b,a)},this._max=function(a,b){return 0<a6(a,b)?a:b},this._min=function(a,b){return 0>a6(a,b)?a:b},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new U.MissingAPI})),this.on("versionchange",function(a){0<a.newVersion?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1})}),this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(a.oldVersion/10))}),this._maxKey=bK(b.IDBKeyRange),this._createTransaction=function(a,b,c,e){return new d.Transaction(a,b,c,d._options.chromeTransactionDurability,e)},this._fireOnBlocked=function(a){d.on("blocked").fire(a),a$.filter(function(a){return a.name===d.name&&a!==d&&!a._state.vcFired}).map(function(b){return b.on("versionchange").fire(a)})},this.use(cq),this.use(cy),this.use(ct),this.use(cl),this.use(co);var l=new Proxy(this,{get:function(a,b,c){if("_vip"===b)return!0;if("table"===b)return function(a){return cz(d.table(a),l)};var e=Reflect.get(a,b,c);return e instanceof bd?cz(e,l):"tables"===b?e.map(function(a){return cz(a,l)}):"_createTransaction"===b?function(){return cz(e.apply(this,arguments),l)}:e}});this.vip=l,e.forEach(function(a){return a(d)})}var cC,N="u">typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",cD=(cE.prototype.subscribe=function(a,b,c){return this._subscribe(a&&"function"!=typeof a?a:{next:a,error:b,complete:c})},cE.prototype[N]=function(){return this},cE);function cE(a){this._subscribe=a}try{cC={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch(a){cC={indexedDB:null,IDBKeyRange:null}}function cF(a){var b,c=!1,d=new cD(function(d){var e,f=L(a),g=!1,h={},i={},j={get closed(){return g},unsubscribe:function(){g||(g=!0,e&&e.abort(),l&&bE.storagemutated.unsubscribe(n))}};d.start&&d.start(j);var l=!1,m=function(){return aV(o)},n=function(a){cb(h,a),cc(i,h)&&m()},o=function(){var j,o;!g&&cC.indexedDB&&(h={},j={},e&&e.abort(),Promise.resolve(function(b){var c=aB();try{f&&aN();var d=aM(a,b);return d=f?d.finally(aO):d}finally{c&&aC()}}(o={subscr:j,signal:(e=new AbortController).signal,requery:m,querier:a,trans:null})).then(function(a){c=!0,b=a,g||o.signal.aborted||(h={},function(a){for(var b in a)if(k(a,b))return;return 1}(i=j)||l||(bE(bC,n),l=!0),aV(function(){return!g&&d.next&&d.next(a)}))},function(a){c=!1,["DatabaseClosedError","AbortError"].includes(null==a?void 0:a.name)||g||aV(function(){g||d.error&&d.error(a)})}))};return setTimeout(m,0),j});return d.hasValue=function(){return c},d.getValue=function(){return b},d}function cG(a){var b=cI;try{cI=!0,bE.storagemutated.fire(a),ch(a,!0)}finally{cI=b}}l(cA,c(c({},W),{delete:function(a){return new cA(a,{addons:[]}).delete()},exists:function(a){return new cA(a,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){var b,c;try{return c=(b=cA.dependencies).indexedDB,b=b.IDBKeyRange,(b1(c)?Promise.resolve(c.databases()).then(function(a){return a.map(function(a){return a.name}).filter(function(a){return a!==a_})}):b0(c,b).toCollection().primaryKeys()).then(a)}catch(a){return aW(new U.MissingAPI)}},defineClass:function(){return function(a){h(this,a)}},ignoreTransaction:function(a){return ap.trans?aT(ap.transless,a):a()},vip:b2,async:function(a){return function(){try{var b=cj(a.apply(this,arguments));return b&&"function"==typeof b.then?b:at.resolve(b)}catch(a){return aW(a)}}},spawn:function(a,b,c){try{var d=cj(a.apply(c,b||[]));return d&&"function"==typeof d.then?d:at.resolve(d)}catch(a){return aW(a)}},currentTransaction:{get:function(){return ap.trans||null}},waitFor:function(a,b){return b=at.resolve("function"==typeof a?cA.ignoreTransaction(a):a).timeout(b||6e4),ap.trans?ap.trans.waitFor(b):b},Promise:at,debug:{get:function(){return ae},set:function(a){ae=a}},derive:o,extend:h,props:l,override:s,Events:bf,on:bE,liveQuery:cF,extendObservabilitySet:cb,getByKeyPath:v,setByKeyPath:w,delByKeyPath:function(a,b){"string"==typeof b?w(a,b,void 0):"length"in b&&[].map.call(b,function(b){w(a,b,void 0)})},shallowClone:x,deepClone:D,getObjectDiff:cm,cmp:a6,asap:u,minKey:-1/0,addons:[],connections:a$,errnames:T,dependencies:cC,cache:cd,semVer:"4.2.1",version:"4.2.1".split(".").map(function(a){return parseInt(a)}).reduce(function(a,b,c){return a+b/Math.pow(10,2*c)})})),cA.maxKey=bK(cA.dependencies.IDBKeyRange),"u">typeof dispatchEvent&&"u">typeof addEventListener&&(bE(bC,function(a){cI||(a=new CustomEvent(bD,{detail:a}),cI=!0,dispatchEvent(a),cI=!1)}),addEventListener(bD,function(a){a=a.detail,cI||cG(a)}));var cH,cI=!1,cJ=function(){};return"u">typeof BroadcastChannel&&((cJ=function(){(cH=new BroadcastChannel(bD)).onmessage=function(a){return a.data&&cG(a.data)}})(),"function"==typeof cH.unref&&cH.unref(),bE(bC,function(a){cI||cH.postMessage(a)})),"u">typeof addEventListener&&(addEventListener("pagehide",function(a){if(!cA.disableBfCache&&a.persisted){ae&&console.debug("Dexie: handling persisted pagehide"),null!=cH&&cH.close();for(var b=0;b<a$.length;b++)a$[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!cA.disableBfCache&&a.persisted&&(ae&&console.debug("Dexie: handling persisted pageshow"),cJ(),cG({all:new b4(-1/0,[[]])}))})),at.rejectionMapper=function(a,b){return!a||a instanceof P||a instanceof TypeError||a instanceof SyntaxError||!a.name||!V[a.name]?a:(b=new V[a.name](b||a.message,a),"stack"in a&&n(b,"stack",{get:function(){return this.inner.stack}}),b)},c(cA,Object.freeze({__proto__:null,Dexie:cA,liveQuery:cF,Entity:a5,cmp:a6,PropModification:ba,replacePrefix:function(a,b){return new ba({replacePrefix:[a,b]})},add:function(a){return new ba({add:a})},remove:function(a){return new ba({remove:a})},default:cA,RangeSet:b4,mergeRanges:b6,rangesOverlap:b7}),{default:cA}),cA}()},23605,a=>{"use strict";let b,c,d,e;a.s(["PhotoVaultApp",()=>hm,"dummyBackupPhrase",()=>hk],23605);var f,g=a.i(87924),h=a.i(72131);let i=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let k=(0,h.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:e="",children:f,iconNode:g,...k},l)=>(0,h.createElement)("svg",{ref:l,...j,width:b,height:b,stroke:a,strokeWidth:d?24*Number(c)/Number(b):c,className:i("lucide",e),...k},[...g.map(([a,b])=>(0,h.createElement)(a,b)),...Array.isArray(f)?f:[f]])),l=(a,b)=>{let c=(0,h.forwardRef)(({className:c,...d},e)=>(0,h.createElement)(k,{ref:e,iconNode:b,className:i(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,c),...d}));return c.displayName=`${a}`,c},m=l("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),n={src:a.i(83367).default,width:1877,height:1024,blurWidth:0,blurHeight:0},o={src:a.i(62609).default,width:1877,height:1024,blurWidth:0,blurHeight:0},p={src:a.i(57773).default,width:1408,height:768,blurWidth:0,blurHeight:0},q=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],r=new Set(q),s=(a,b,c)=>c>b?b:c<a?a:c,t={test:a=>"number"==typeof a,parse:parseFloat,transform:a=>a},u={...t,transform:a=>s(0,1,a)},v={...t,default:1},w=a=>Math.round(1e5*a)/1e5,x=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,y=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,z=(a,b)=>c=>!!("string"==typeof c&&y.test(c)&&c.startsWith(a)||b&&null!=c&&Object.prototype.hasOwnProperty.call(c,b)),A=(a,b,c)=>d=>{if("string"!=typeof d)return d;let[e,f,g,h]=d.match(x);return{[a]:parseFloat(e),[b]:parseFloat(f),[c]:parseFloat(g),alpha:void 0!==h?parseFloat(h):1}},B={...t,transform:a=>Math.round(s(0,255,a))},C={test:z("rgb","red"),parse:A("red","green","blue"),transform:({red:a,green:b,blue:c,alpha:d=1})=>"rgba("+B.transform(a)+", "+B.transform(b)+", "+B.transform(c)+", "+w(u.transform(d))+")"},D={test:z("#"),parse:function(a){let b="",c="",d="",e="";return a.length>5?(b=a.substring(1,3),c=a.substring(3,5),d=a.substring(5,7),e=a.substring(7,9)):(b=a.substring(1,2),c=a.substring(2,3),d=a.substring(3,4),e=a.substring(4,5),b+=b,c+=c,d+=d,e+=e),{red:parseInt(b,16),green:parseInt(c,16),blue:parseInt(d,16),alpha:e?parseInt(e,16)/255:1}},transform:C.transform},E=a=>({test:b=>"string"==typeof b&&b.endsWith(a)&&1===b.split(" ").length,parse:parseFloat,transform:b=>`${b}${a}`}),F=E("deg"),G=E("%"),H=E("px"),I=E("vh"),J=E("vw"),K={...G,parse:a=>G.parse(a)/100,transform:a=>G.transform(100*a)},L={test:z("hsl","hue"),parse:A("hue","saturation","lightness"),transform:({hue:a,saturation:b,lightness:c,alpha:d=1})=>"hsla("+Math.round(a)+", "+G.transform(w(b))+", "+G.transform(w(c))+", "+w(u.transform(d))+")"},M={test:a=>C.test(a)||D.test(a)||L.test(a),parse:a=>C.test(a)?C.parse(a):L.test(a)?L.parse(a):D.parse(a),transform:a=>"string"==typeof a?a:a.hasOwnProperty("red")?C.transform(a):L.transform(a),getAnimatableNone:a=>{let b=M.parse(a);return b.alpha=0,M.transform(b)}},N=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,O="number",P="color",Q=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function R(a){let b=a.toString(),c=[],d={color:[],number:[],var:[]},e=[],f=0,g=b.replace(Q,a=>(M.test(a)?(d.color.push(f),e.push(P),c.push(M.parse(a))):a.startsWith("var(")?(d.var.push(f),e.push("var"),c.push(a)):(d.number.push(f),e.push(O),c.push(parseFloat(a))),++f,"${}")).split("${}");return{values:c,split:g,indexes:d,types:e}}function S(a){return R(a).values}function T(a){let{split:b,types:c}=R(a),d=b.length;return a=>{let e="";for(let f=0;f<d;f++)if(e+=b[f],void 0!==a[f]){let b=c[f];b===O?e+=w(a[f]):b===P?e+=M.transform(a[f]):e+=a[f]}return e}}let U=a=>"number"==typeof a?0:M.test(a)?M.getAnimatableNone(a):a,V={test:function(a){return isNaN(a)&&"string"==typeof a&&(a.match(x)?.length||0)+(a.match(N)?.length||0)>0},parse:S,createTransformer:T,getAnimatableNone:function(a){let b=S(a);return T(a)(b.map(U))}},W=new Set(["brightness","contrast","saturate","opacity"]);function X(a){let[b,c]=a.slice(0,-1).split("(");if("drop-shadow"===b)return a;let[d]=c.match(x)||[];if(!d)return a;let e=c.replace(d,""),f=+!!W.has(b);return d!==c&&(f*=100),b+"("+f+e+")"}let Y=/\b([a-z-]*)\(.*?\)/gu,Z={...V,getAnimatableNone:a=>{let b=a.match(Y);return b?b.map(X).join(" "):a}},$={...t,transform:Math.round},_={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,top:H,right:H,bottom:H,left:H,inset:H,insetBlock:H,insetBlockStart:H,insetBlockEnd:H,insetInline:H,insetInlineStart:H,insetInlineEnd:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,paddingBlock:H,paddingBlockStart:H,paddingBlockEnd:H,paddingInline:H,paddingInlineStart:H,paddingInlineEnd:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,marginBlock:H,marginBlockStart:H,marginBlockEnd:H,marginInline:H,marginInlineStart:H,marginInlineEnd:H,backgroundPositionX:H,backgroundPositionY:H,rotate:F,rotateX:F,rotateY:F,rotateZ:F,scale:v,scaleX:v,scaleY:v,scaleZ:v,skew:F,skewX:F,skewY:F,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:u,originX:K,originY:K,originZ:H,zIndex:$,fillOpacity:u,strokeOpacity:u,numOctaves:$},aa={..._,color:M,backgroundColor:M,outlineColor:M,fill:M,stroke:M,borderColor:M,borderTopColor:M,borderRightColor:M,borderBottomColor:M,borderLeftColor:M,filter:Z,WebkitFilter:Z},ab=a=>aa[a],ac=()=>({translate:0,scale:1,origin:0,originPoint:0}),ad=()=>({x:ac(),y:ac()}),ae=()=>({min:0,max:0}),af=()=>({x:ae(),y:ae()}),ag=a=>!!(a&&a.getVelocity),ah=new Set(["width","height","top","left","right","bottom",...q]),ai=a=>b=>b.test(a),aj=[t,H,G,F,J,I,{test:a=>"auto"===a,parse:a=>a}],ak=a=>aj.find(ai(a)),al=()=>{},am=()=>{},an=a=>b=>"string"==typeof b&&b.startsWith(a),ao=an("--"),ap=an("var(--"),aq=a=>!!ap(a)&&ar.test(a.split("/*")[0].trim()),ar=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function as(a){return"string"==typeof a&&a.split("/*")[0].includes("var(--")}let at=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,au=a=>180*a/Math.PI,av=a=>ax(au(Math.atan2(a[1],a[0]))),aw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:av,rotateZ:av,skewX:a=>au(Math.atan(a[1])),skewY:a=>au(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},ax=a=>((a%=360)<0&&(a+=360),a),ay=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),az=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),aA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ay,scaleY:az,scale:a=>(ay(a)+az(a))/2,rotateX:a=>ax(au(Math.atan2(a[6],a[5]))),rotateY:a=>ax(au(Math.atan2(-a[2],a[0]))),rotateZ:av,rotate:av,skewX:a=>au(Math.atan(a[4])),skewY:a=>au(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function aB(a){return+!!a.includes("scale")}function aC(a,b){let c,d;if(!a||"none"===a)return aB(b);let e=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(e)c=aA,d=e;else{let b=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);c=aw,d=b}if(!d)return aB(b);let f=c[b],g=d[1].split(",").map(aD);return"function"==typeof f?f(g):g[f]}function aD(a){return parseFloat(a.trim())}let aE=a=>a===t||a===H,aF=new Set(["x","y","z"]),aG=q.filter(a=>!aF.has(a)),aH={width:({x:a},{paddingLeft:b="0",paddingRight:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),height:({y:a},{paddingTop:b="0",paddingBottom:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),top:(a,{top:b})=>parseFloat(b),left:(a,{left:b})=>parseFloat(b),bottom:({y:a},{top:b})=>parseFloat(b)+(a.max-a.min),right:({x:a},{left:b})=>parseFloat(b)+(a.max-a.min),x:(a,{transform:b})=>aC(b,"x"),y:(a,{transform:b})=>aC(b,"y")};aH.translateX=aH.x,aH.translateY=aH.y;let aI=a=>a,aJ={},aK=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aL(a,b){let c=!1,d=!0,e={delta:0,timestamp:0,isProcessing:!1},f=()=>c=!0,g=aK.reduce((a,c)=>(a[c]=function(a,b){let c=new Set,d=new Set,e=!1,f=!1,g=new WeakSet,h={delta:0,timestamp:0,isProcessing:!1},i=0;function j(b){g.has(b)&&(k.schedule(b),a()),i++,b(h)}let k={schedule:(a,b=!1,f=!1)=>{let h=f&&e?c:d;return b&&g.add(a),h.has(a)||h.add(a),a},cancel:a=>{d.delete(a),g.delete(a)},process:a=>{if(h=a,e){f=!0;return}e=!0,[c,d]=[d,c],c.forEach(j),b,i=0,c.clear(),e=!1,f&&(f=!1,k.process(a))}};return k}(f,b?c:void 0),a),{}),{setup:h,read:i,resolveKeyframes:j,preUpdate:k,update:l,preRender:m,render:n,postRender:o}=g,p=()=>{let f=aJ.useManualTiming?e.timestamp:performance.now();c=!1,aJ.useManualTiming||(e.delta=d?1e3/60:Math.max(Math.min(f-e.timestamp,40),1)),e.timestamp=f,e.isProcessing=!0,h.process(e),i.process(e),j.process(e),k.process(e),l.process(e),m.process(e),n.process(e),o.process(e),e.isProcessing=!1,c&&b&&(d=!1,a(p))};return{schedule:aK.reduce((b,f)=>{let h=g[f];return b[f]=(b,f=!1,g=!1)=>(!c&&(c=!0,d=!0,e.isProcessing||a(p)),h.schedule(b,f,g)),b},{}),cancel:a=>{for(let b=0;b<aK.length;b++)g[aK[b]].cancel(a)},state:e,steps:g}}let{schedule:aM,cancel:aN,state:aO,steps:aP}=aL("u">typeof requestAnimationFrame?requestAnimationFrame:aI,!0),aQ=new Set,aR=!1,aS=!1,aT=!1;function aU(){if(aS){let a=Array.from(aQ).filter(a=>a.needsMeasurement),b=new Set(a.map(a=>a.element)),c=new Map;b.forEach(a=>{let b,d=(b=[],aG.forEach(c=>{let d=a.getValue(c);void 0!==d&&(b.push([c,d.get()]),d.set(+!!c.startsWith("scale")))}),b);d.length&&(c.set(a,d),a.render())}),a.forEach(a=>a.measureInitialState()),b.forEach(a=>{a.render();let b=c.get(a);b&&b.forEach(([b,c])=>{a.getValue(b)?.set(c)})}),a.forEach(a=>a.measureEndState()),a.forEach(a=>{void 0!==a.suspendedScrollY&&window.scrollTo(0,a.suspendedScrollY)})}aS=!1,aR=!1,aQ.forEach(a=>a.complete(aT)),aQ.clear()}function aV(){aQ.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(aS=!0)})}class aW{constructor(a,b,c,d,e,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...a],this.onComplete=b,this.name=c,this.motionValue=d,this.element=e,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(aQ.add(this),aR||(aR=!0,aM.read(aV),aM.resolveKeyframes(aU))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:a,name:b,element:c,motionValue:d}=this;if(null===a[0]){let e=d?.get(),f=a[a.length-1];if(void 0!==e)a[0]=e;else if(c&&b){let d=c.readValue(b,f);null!=d&&(a[0]=d)}void 0===a[0]&&(a[0]=f),d&&void 0===e&&d.set(a[0])}for(let b=1;b<a.length;b++)a[b]??(a[b]=a[b-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(a=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,a),aQ.delete(this)}cancel(){"scheduled"===this.state&&(aQ.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function aX(a,b){let c=ab(a);return c!==Z&&(c=V),c.getAnimatableNone?c.getAnimatableNone(b):void 0}let aY=new Set(["auto","none","0"]);class aZ extends aW{constructor(a,b,c,d,e){super(a,b,c,d,e,!0)}readKeyframes(){let{unresolvedKeyframes:a,element:b,name:c}=this;if(!b||!b.current)return;super.readKeyframes();for(let c=0;c<a.length;c++){let d=a[c];if("string"==typeof d&&aq(d=d.trim())){let e=function a(b,c,d=1){am(d<=4,`Max CSS variable fallback depth detected in property "${b}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[e,f]=function(a){let b=at.exec(a);if(!b)return[,];let[,c,d,e]=b;return[`--${c??d}`,e]}(b);if(!e)return;let g=window.getComputedStyle(c).getPropertyValue(e);if(g){let a=g.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a)?parseFloat(a):a}return aq(f)?a(f,c,d+1):f}(d,b.current);void 0!==e&&(a[c]=e),c===a.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ah.has(c)||2!==a.length)return;let[d,e]=a,f=ak(d),g=ak(e);if(as(d)!==as(e)&&aH[c]){this.needsMeasurement=!0;return}if(f!==g)if(aE(f)&&aE(g))for(let b=0;b<a.length;b++){let c=a[b];"string"==typeof c&&(a[b]=parseFloat(c))}else aH[c]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:a,name:b}=this,c=[];for(let b=0;b<a.length;b++)(null===a[b]||function(a){if("number"==typeof a)return 0===a;if(null===a)return!0;return"none"===a||"0"===a||/^0[^.\s]+$/u.test(a)}(a[b]))&&c.push(b);c.length&&function(a,b,c){let d,e=0;for(;e<a.length&&!d;){let b=a[e];"string"==typeof b&&!aY.has(b)&&R(b).values.length&&(d=a[e]),e++}if(d&&c)for(let e of b)a[e]=aX(c,d)}(a,c,b)}measureInitialState(){let{element:a,unresolvedKeyframes:b,name:c}=this;if(!a||!a.current)return;"height"===c&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=aH[c](a.measureViewportBox(),window.getComputedStyle(a.current)),b[0]=this.measuredOrigin;let d=b[b.length-1];void 0!==d&&a.getValue(c,d).jump(d,!1)}measureEndState(){let{element:a,name:b,unresolvedKeyframes:c}=this;if(!a||!a.current)return;let d=a.getValue(b);d&&d.jump(this.measuredOrigin,!1);let e=c.length-1,f=c[e];c[e]=aH[b](a.measureViewportBox(),window.getComputedStyle(a.current)),null!==f&&void 0===this.finalKeyframe&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([b,c])=>{a.getValue(b).set(c)}),this.resolveNoneKeyframes()}}function a$(a,b){-1===a.indexOf(b)&&a.push(b)}function a_(a,b){let c=a.indexOf(b);c>-1&&a.splice(c,1)}class a0{constructor(){this.subscriptions=[]}add(a){return a$(this.subscriptions,a),()=>a_(this.subscriptions,a)}notify(a,b,c){let d=this.subscriptions.length;if(d)if(1===d)this.subscriptions[0](a,b,c);else for(let e=0;e<d;e++){let d=this.subscriptions[e];d&&d(a,b,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let{schedule:a1}=aL(queueMicrotask,!1);function a2(){b=void 0}let a3={now:()=>(void 0===b&&a3.set(aO.isProcessing||aJ.useManualTiming?aO.timestamp:performance.now()),b),set:a=>{b=a,queueMicrotask(a2)}};class a4{constructor(a,b={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{let b=a3.now();if(this.updatedAt!==b&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(a),this.owner=b.owner}setCurrent(a){this.current=a,this.updatedAt=a3.now(),null===this.canTrackVelocity&&void 0!==a&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,b){this.events[a]||(this.events[a]=new a0);let c=this.events[a].add(b);return"change"===a?()=>{c(),aM.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(let a in this.events)this.events[a].clear()}attach(a,b){this.passiveEffect=a,this.stopPassiveEffect=b}set(a){this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a)}setWithVelocity(a,b,c){this.set(b),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-c}jump(a,b=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,b&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(a){this.dependents||(this.dependents=new Set),this.dependents.add(a)}removeDependent(a){this.dependents&&this.dependents.delete(a)}get(){return e&&e.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var a;let b=a3.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||b-this.updatedAt>30)return 0;let c=Math.min(this.updatedAt-this.prevUpdatedAt,30);return a=parseFloat(this.current)-parseFloat(this.prevFrameValue),c?1e3/c*a:0}start(a){return this.stop(),new Promise(b=>{this.hasAnimated=!0,this.animation=a(b),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function a5(a,b){return new a4(a,b)}let a6=[...aj,M,V],a7={current:!1},a8=new WeakMap;function a9(a){return null!==a&&"object"==typeof a&&"function"==typeof a.start}function ba(a){return"string"==typeof a||Array.isArray(a)}let bb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bc=["initial",...bb];function bd(a){return a9(a.animate)||bc.some(b=>ba(a[b]))}function be(a){return!!(bd(a)||a.variants)}function bf(a){let b=[{},{}];return a?.values.forEach((a,c)=>{b[0][c]=a.get(),b[1][c]=a.getVelocity()}),b}function bg(a,b,c,d){if("function"==typeof b){let[e,f]=bf(d);b=b(void 0!==c?c:a.custom,e,f)}if("string"==typeof b&&(b=a.variants&&a.variants[b]),"function"==typeof b){let[e,f]=bf(d);b=b(void 0!==c?c:a.custom,e,f)}return b}let bh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],bi={};class bj{scrapeMotionValuesFromProps(a,b,c){return{}}constructor({parent:a,props:b,presenceContext:c,reducedMotionConfig:d,blockInitialAnimation:e,visualState:f},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=aW,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let a=a3.now();this.renderScheduledAt<a&&(this.renderScheduledAt=a,aM.render(this.render,!1,!0))};const{latestValues:h,renderState:i}=f;this.latestValues=h,this.baseTarget={...h},this.initialValues=b.initial?{...h}:{},this.renderState=i,this.parent=a,this.props=b,this.presenceContext=c,this.depth=a?a.depth+1:0,this.reducedMotionConfig=d,this.options=g,this.blockInitialAnimation=!!e,this.isControllingVariants=bd(b),this.isVariantNode=be(b),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:j,...k}=this.scrapeMotionValuesFromProps(b,{},this);for(const a in k){const b=k[a];void 0!==h[a]&&ag(b)&&b.set(h[a])}}mount(a){this.current=a,a8.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,b)=>this.bindToMotionValue(b,a)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(a7.current||(a7.current=!0),this.shouldReduceMotion=null),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let a in this.projection&&this.projection.unmount(),aN(this.notifyUpdate),aN(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[a].clear();for(let a in this.features){let b=this.features[a];b&&(b.unmount(),b.isMounted=!1)}this.current=null}addChild(a){this.children.add(a),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(a)}removeChild(a){this.children.delete(a),this.enteringChildren&&this.enteringChildren.delete(a)}bindToMotionValue(a,b){let c;this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();let d=r.has(a);d&&this.onBindTransform&&this.onBindTransform();let e=b.on("change",b=>{this.latestValues[a]=b,this.props.onUpdate&&aM.preRender(this.notifyUpdate),d&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});this.valueSubscriptions.set(a,()=>{e(),c&&c(),b.owner&&b.stop()})}sortNodePosition(a){return this.current&&this.sortInstanceNodePosition&&this.type===a.type?this.sortInstanceNodePosition(this.current,a.current):0}updateFeatures(){let a="animation";for(a in bi){let b=bi[a];if(!b)continue;let{isEnabled:c,Feature:d}=b;if(!this.features[a]&&d&&c(this.props)&&(this.features[a]=new d(this)),this.features[a]){let b=this.features[a];b.isMounted?b.update():(b.mount(),b.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):af()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,b){this.latestValues[a]=b}update(a,b){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=b;for(let b=0;b<bh.length;b++){let c=bh[b];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);let d=a["on"+c];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=function(a,b,c){for(let d in b){let e=b[d],f=c[d];if(ag(e))a.addValue(d,e);else if(ag(f))a.addValue(d,a5(e,{owner:a}));else if(f!==e)if(a.hasValue(d)){let b=a.getValue(d);!0===b.liveStyle?b.jump(e):b.hasAnimated||b.set(e)}else{let b=a.getStaticValue(d);a.addValue(d,a5(void 0!==b?b:e,{owner:a}))}}for(let d in c)void 0===b[d]&&a.removeValue(d);return b}(this,this.scrapeMotionValuesFromProps(a,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){let b=this.getClosestVariantNode();if(b)return b.variantChildren&&b.variantChildren.add(a),()=>b.variantChildren.delete(a)}addValue(a,b){let c=this.values.get(a);b!==c&&(c&&this.removeValue(a),this.bindToMotionValue(a,b),this.values.set(a,b),this.latestValues[a]=b.get())}removeValue(a){this.values.delete(a);let b=this.valueSubscriptions.get(a);b&&(b(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,b){if(this.props.values&&this.props.values[a])return this.props.values[a];let c=this.values.get(a);return void 0===c&&void 0!==b&&(c=a5(null===b?void 0:b,{owner:this}),this.addValue(a,c)),c}readValue(a,b){let c=void 0===this.latestValues[a]&&this.current?this.getBaseTargetFromProps(this.props,a)??this.readValueFromInstance(this.current,a,this.options):this.latestValues[a];if(null!=c){let d,e;if("string"==typeof c&&(d=c,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(d)||(e=c,/^0[^.\s]+$/u.test(e))))c=parseFloat(c);else{let d;d=c,!a6.find(ai(d))&&V.test(b)&&(c=aX(a,b))}this.setBaseTarget(a,ag(c)?c.get():c)}return ag(c)?c.get():c}setBaseTarget(a,b){this.baseTarget[a]=b}getBaseTarget(a){let b,{initial:c}=this.props;if("string"==typeof c||"object"==typeof c){let d=bg(this.props,c,this.presenceContext?.custom);d&&(b=d[a])}if(c&&void 0!==b)return b;let d=this.getBaseTargetFromProps(this.props,a);return void 0===d||ag(d)?void 0!==this.initialValues[a]&&void 0===b?void 0:this.baseTarget[a]:d}on(a,b){return this.events[a]||(this.events[a]=new a0),this.events[a].add(b)}notify(a,...b){this.events[a]&&this.events[a].notify(...b)}scheduleRenderMicrotask(){a1.render(this.render)}}class bk extends bj{constructor(){super(...arguments),this.KeyframeResolver=aZ}sortInstanceNodePosition(a,b){return 2&a.compareDocumentPosition(b)?1:-1}getBaseTargetFromProps(a,b){let c=a.style;return c?c[b]:void 0}removeValueFromRenderState(a,{vars:b,style:c}){delete b[a],delete c[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:a}=this.props;ag(a)&&(this.childSubscription=a.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function bl(a){return a.replace(/([A-Z])/g,a=>`-${a.toLowerCase()}`)}let bm=(a,b)=>b&&"number"==typeof a?b.transform(a):a,bn={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bo=q.length;function bp(a,b,c){let{style:d,vars:e,transformOrigin:f}=a,g=!1,h=!1;for(let a in b){let c=b[a];if(r.has(a)){g=!0;continue}if(ao(a)){e[a]=c;continue}{let b=bm(c,_[a]);a.startsWith("origin")?(h=!0,f[a]=b):d[a]=b}}if(!b.transform&&(g||c?d.transform=function(a,b,c){let d="",e=!0;for(let f=0;f<bo;f++){let g=q[f],h=a[g];if(void 0===h)continue;let i=!0;if("number"==typeof h)i=h===+!!g.startsWith("scale");else{let a=parseFloat(h);i=g.startsWith("scale")?1===a:0===a}if(!i||c){let a=bm(h,_[g]);if(!i){e=!1;let b=bn[g]||g;d+=`${b}(${a}) `}c&&(b[g]=a)}}return d=d.trim(),c?d=c(b,e?"":d):e&&(d="none"),d}(b,a.transform,c):d.transform&&(d.transform="none")),h){let{originX:a="50%",originY:b="50%",originZ:c=0}=f;d.transformOrigin=`${a} ${b} ${c}`}}let bq={offset:"stroke-dashoffset",array:"stroke-dasharray"},br={offset:"strokeDashoffset",array:"strokeDasharray"},bs=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function bt(a,{attrX:b,attrY:c,attrScale:d,pathLength:e,pathSpacing:f=1,pathOffset:g=0,...h},i,j,k){if(bp(a,h,j),i){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};let{attrs:l,style:m}=a;for(let a of(l.transform&&(m.transform=l.transform,delete l.transform),(m.transform||l.transformOrigin)&&(m.transformOrigin=l.transformOrigin??"50% 50%",delete l.transformOrigin),m.transform&&(m.transformBox=k?.transformBox??"fill-box",delete l.transformBox),bs))void 0!==l[a]&&(m[a]=l[a],delete l[a]);void 0!==b&&(l.x=b),void 0!==c&&(l.y=c),void 0!==d&&(l.scale=d),void 0!==e&&function(a,b,c=1,d=0,e=!0){a.pathLength=1;let f=e?bq:br;a[f.offset]=`${-d}`,a[f.array]=`${b} ${c}`}(l,e,f,g,!1)}let bu=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),bv=a=>"string"==typeof a&&"svg"===a.toLowerCase();function bw(a,{style:b,vars:c},d,e){let f,g=a.style;for(f in b)g[f]=b[f];for(f in e?.applyProjectionStyles(g,d),c)g.setProperty(f,c[f])}function bx(a,b){return b.max===b.min?0:a/(b.max-b.min)*100}let by={correct:(a,b)=>{if(!b.target)return a;if("string"==typeof a)if(!H.test(a))return a;else a=parseFloat(a);let c=bx(a,b.target.x),d=bx(a,b.target.y);return`${c}% ${d}%`}},bz=(a,b,c)=>a+(b-a)*c,bA={borderRadius:{...by,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:by,borderTopRightRadius:by,borderBottomLeftRadius:by,borderBottomRightRadius:by,boxShadow:{correct:(a,{treeScale:b,projectionDelta:c})=>{let d=V.parse(a);if(d.length>5)return a;let e=V.createTransformer(a),f=+("number"!=typeof d[0]),g=c.x.scale*b.x,h=c.y.scale*b.y;d[0+f]/=g,d[1+f]/=h;let i=bz(g,h,.5);return"number"==typeof d[2+f]&&(d[2+f]/=i),"number"==typeof d[3+f]&&(d[3+f]/=i),e(d)}}};function bB(a,{layout:b,layoutId:c}){return r.has(a)||a.startsWith("origin")||(b||void 0!==c)&&(!!bA[a]||"opacity"===a)}function bC(a,b,c){let d=a.style,e=b?.style,f={};if(!d)return f;for(let b in d)(ag(d[b])||e&&ag(e[b])||bB(b,a)||c?.getValue(b)?.liveStyle!==void 0)&&(f[b]=d[b]);return f}function bD(a,b,c){let d=bC(a,b,c);for(let c in a)(ag(a[c])||ag(b[c]))&&(d[-1!==q.indexOf(c)?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c]=a[c]);return d}class bE extends bk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=af}getBaseTargetFromProps(a,b){return a[b]}readValueFromInstance(a,b){if(r.has(b)){let a=ab(b);return a&&a.default||0}return b=bu.has(b)?b:bl(b),a.getAttribute(b)}scrapeMotionValuesFromProps(a,b,c){return bD(a,b,c)}build(a,b,c){bt(a,b,this.isSVGTag,c.transformTemplate,c.style)}renderInstance(a,b,c,d){for(let c in bw(a,b,void 0,d),b.attrs)a.setAttribute(bu.has(c)?c:bl(c),b.attrs[c])}mount(a){this.isSVGTag=bv(a.tagName),super.mount(a)}}function bF({top:a,left:b,right:c,bottom:d}){return{x:{min:b,max:c},y:{min:a,max:d}}}function bG(a){return void 0===a||1===a}function bH({scale:a,scaleX:b,scaleY:c}){return!bG(a)||!bG(b)||!bG(c)}function bI(a){return bH(a)||bJ(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function bJ(a){var b,c;return(b=a.x)&&"0%"!==b||(c=a.y)&&"0%"!==c}function bK(a,b,c,d,e){return void 0!==e&&(a=d+e*(a-d)),d+c*(a-d)+b}function bL(a,b=0,c=1,d,e){a.min=bK(a.min,b,c,d,e),a.max=bK(a.max,b,c,d,e)}function bM(a,{x:b,y:c}){bL(a.x,b.translate,b.scale,b.originPoint),bL(a.y,c.translate,c.scale,c.originPoint)}function bN(a,b){a.min=a.min+b,a.max=a.max+b}function bO(a,b,c,d,e=.5){let f=bz(a.min,a.max,e);bL(a,b,c,f,d)}function bP(a,b){bO(a.x,b.x,b.scaleX,b.scale,b.originX),bO(a.y,b.y,b.scaleY,b.scale,b.originY)}function bQ(a,b){return bF(function(a,b){if(!b)return a;let c=b({x:a.left,y:a.top}),d=b({x:a.right,y:a.bottom});return{top:c.y,left:c.x,bottom:d.y,right:d.x}}(a.getBoundingClientRect(),b))}class bR extends bk{constructor(){super(...arguments),this.type="html",this.renderInstance=bw}readValueFromInstance(a,b){if(r.has(b))return this.projection?.isProjecting?aB(b):((a,b)=>{let{transform:c="none"}=getComputedStyle(a);return aC(c,b)})(a,b);{let c=window.getComputedStyle(a),d=(ao(b)?c.getPropertyValue(b):c[b])||0;return"string"==typeof d?d.trim():d}}measureInstanceViewportBox(a,{transformPagePoint:b}){return bQ(a,b)}build(a,b,c){bp(a,b,c.transformTemplate)}scrapeMotionValuesFromProps(a,b,c){return bC(a,b,c)}}let bS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bT(a){if("string"!=typeof a||a.includes("-"));else if(bS.indexOf(a)>-1||/[A-Z]/u.test(a))return!0;return!1}let bU=(0,h.createContext)({}),bV=((0,h.createContext)({strict:!1}),(0,h.createContext)({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"})),bW=(0,h.createContext)({});function bX(a){return Array.isArray(a)?a.join(" "):a}let bY=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bZ(a,b,c){for(let d in b)ag(b[d])||bB(d,c)||(a[d]=b[d])}let b$=()=>({...bY(),attrs:{}}),b_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function b0(a){return a.startsWith("while")||a.startsWith("drag")&&"draggable"!==a||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||b_.has(a)}let b1=a=>!b0(a);try{f=(()=>{let a=Error("Cannot find module '@emotion/is-prop-valid'");throw a.code="MODULE_NOT_FOUND",a})().default,"function"==typeof f&&(b1=a=>a.startsWith("on")?!b0(a):f(a))}catch{}function b2(a){return ag(a)?a.get():a}let b3=(0,h.createContext)(null),b4=a=>(b,c)=>{let d,e=(0,h.useContext)(bW),f=(0,h.useContext)(b3),g=()=>(function({scrapeMotionValuesFromProps:a,createRenderState:b},c,d,e){return{latestValues:function(a,b,c,d){let e={},f=d(a,{});for(let a in f)e[a]=b2(f[a]);let{initial:g,animate:h}=a,i=bd(a),j=be(a);b&&j&&!i&&!1!==a.inherit&&(void 0===g&&(g=b.initial),void 0===h&&(h=b.animate));let k=!!c&&!1===c.initial,l=(k=k||!1===g)?h:g;if(l&&"boolean"!=typeof l&&!a9(l)){let b=Array.isArray(l)?l:[l];for(let c=0;c<b.length;c++){let d=bg(a,b[c]);if(d){let{transitionEnd:a,transition:b,...c}=d;for(let a in c){let b=c[a];if(Array.isArray(b)){let a=k?b.length-1:0;b=b[a]}null!==b&&(e[a]=b)}for(let b in a)e[b]=a[b]}}}return e}(c,d,e,a),renderState:b()}})(a,b,e,f);return c?g():(null===(d=(0,h.useRef)(null)).current&&(d.current=g()),d.current)},b5=b4({scrapeMotionValuesFromProps:bC,createRenderState:bY}),b6=b4({scrapeMotionValuesFromProps:bD,createRenderState:b$}),b7={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},b8=!1,b9=Symbol.for("motionComponentSymbol"),ca="data-"+bl("framerAppearId"),cb=(0,h.createContext)({});function cc(a){return a&&"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,"current")}function cd(a,{forwardMotionProps:b=!1,type:c}={},d,e){d&&function(a){let b=(!function(){if(b8)return;let a={};for(let b in b7)a[b]={isEnabled:a=>b7[b].some(b=>!!a[b])};bi=a,b8=!0}(),bi);for(let c in a)b[c]={...b[c],...a[c]};bi=b}(d);let f=c?"svg"===c:bT(a),i=f?b6:b5;function j(c,d){var e;let j,k,l,m={...(0,h.useContext)(bV),...c,layoutId:function({layoutId:a}){let b=(0,h.useContext)(bU).id;return b&&void 0!==a?b+"-"+a:a}(c)},{isStatic:n}=m,o=function(a){let{initial:b,animate:c}=function(a,b){if(bd(a)){let{initial:b,animate:c}=a;return{initial:!1===b||ba(b)?b:void 0,animate:ba(c)?c:void 0}}return!1!==a.inherit?b:{}}(a,(0,h.useContext)(bW));return(0,h.useMemo)(()=>({initial:b,animate:c}),[bX(b),bX(c)])}(c),p=i(c,n);return(0,g.jsxs)(bW.Provider,{value:o,children:[j&&o.visualElement?(0,g.jsx)(j,{visualElement:o.visualElement,...m}):null,function(a,b,c,{latestValues:d},e,f=!1,g){let i=(g??bT(a)?function(a,b,c,d){let e=(0,h.useMemo)(()=>{let c=b$();return bt(c,b,bv(d),a.transformTemplate,a.style),{...c.attrs,style:{...c.style}}},[b]);if(a.style){let b={};bZ(b,a.style,a),e.style={...b,...e.style}}return e}:function(a,b){let c,d,e={},f=(c=a.style||{},bZ(d={},c,a),Object.assign(d,function({transformTemplate:a},b){return(0,h.useMemo)(()=>{let c=bY();return bp(c,b,a),Object.assign({},c.vars,c.style)},[b])}(a,b)),d);return a.drag&&!1!==a.dragListener&&(e.draggable=!1,f.userSelect=f.WebkitUserSelect=f.WebkitTouchCallout="none",f.touchAction=!0===a.drag?"none":`pan-${"x"===a.drag?"y":"x"}`),void 0===a.tabIndex&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=f,e})(b,d,e,a),j=function(a,b,c){let d={};for(let e in a)("values"!==e||"object"!=typeof a.values)&&(b1(e)||!0===c&&b0(e)||!b&&!b0(e)||a.draggable&&e.startsWith("onDrag"))&&(d[e]=a[e]);return d}(b,"string"==typeof a,f),k=a!==h.Fragment?{...j,...i,ref:c}:{},{children:l}=b,m=(0,h.useMemo)(()=>ag(l)?l.get():l,[l]);return(0,h.createElement)(a,{...k,children:m})}(a,c,(e=o.visualElement,k=(0,h.useRef)(d),(0,h.useInsertionEffect)(()=>{k.current=d}),l=(0,h.useRef)(null),(0,h.useCallback)(a=>{a&&p.onMount?.(a),e&&(a?e.mount(a):e.unmount());let b=k.current;if("function"==typeof b)if(a){let c=b(a);"function"==typeof c&&(l.current=c)}else l.current?(l.current(),l.current=null):b(a);else b&&(b.current=a)},[e])),p,n,b,f)]})}j.displayName=`motion.${"string"==typeof a?a:`create(${a.displayName??a.name??""})`}`;let k=(0,h.forwardRef)(j);return k[b9]=a,k}h.useEffect;class ce{constructor(a){this.isMounted=!1,this.node=a}update(){}}function cf(a,b,c){let d=a.getProps();return bg(d,b,void 0!==c?c:d.custom,a)}function cg(a,b){return a?.[b]??a?.default??a}let ch=a=>Array.isArray(a);function ci(a,b){let c=a.getValue("willChange");if(ag(c)&&c.add)return c.add(b);if(!c&&aJ.WillChange){let c=new aJ.WillChange("auto");a.addValue("willChange",c),c.add(b)}}let cj=a=>1e3*a,ck=(a,b)=>c=>b(a(c)),cl=(...a)=>a.reduce(ck),cm={layout:0,mainThread:0,waapi:0};function cn(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function co(a,b){return c=>c>0?b:a}let cp=(a,b,c)=>{let d=a*a,e=c*(b*b-d)+d;return e<0?0:Math.sqrt(e)},cq=[D,C,L];function cr(a){let b=cq.find(b=>b.test(a));if(al(!!b,`'${a}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!b)return!1;let c=b.parse(a);return b===L&&(c=function({hue:a,saturation:b,lightness:c,alpha:d}){a/=360,c/=100;let e=0,f=0,g=0;if(b/=100){let d=c<.5?c*(1+b):c+b-c*b,h=2*c-d;e=cn(h,d,a+1/3),f=cn(h,d,a),g=cn(h,d,a-1/3)}else e=f=g=c;return{red:Math.round(255*e),green:Math.round(255*f),blue:Math.round(255*g),alpha:d}}(c)),c}let cs=(a,b)=>{let c=cr(a),d=cr(b);if(!c||!d)return co(a,b);let e={...c};return a=>(e.red=cp(c.red,d.red,a),e.green=cp(c.green,d.green,a),e.blue=cp(c.blue,d.blue,a),e.alpha=bz(c.alpha,d.alpha,a),C.transform(e))},ct=new Set(["none","hidden"]);function cu(a,b){return c=>bz(a,b,c)}function cv(a){return"number"==typeof a?cu:"string"==typeof a?aq(a)?co:M.test(a)?cs:cy:Array.isArray(a)?cw:"object"==typeof a?M.test(a)?cs:cx:co}function cw(a,b){let c=[...a],d=c.length,e=a.map((a,c)=>cv(a)(a,b[c]));return a=>{for(let b=0;b<d;b++)c[b]=e[b](a);return c}}function cx(a,b){let c={...a,...b},d={};for(let e in c)void 0!==a[e]&&void 0!==b[e]&&(d[e]=cv(a[e])(a[e],b[e]));return a=>{for(let b in d)c[b]=d[b](a);return c}}let cy=(a,b)=>{let c=V.createTransformer(b),d=R(a),e=R(b);if(!(d.indexes.var.length===e.indexes.var.length&&d.indexes.color.length===e.indexes.color.length&&d.indexes.number.length>=e.indexes.number.length))return al(!0,`Complex values '${a}' and '${b}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),co(a,b);if(ct.has(a)&&!e.values.length||ct.has(b)&&!d.values.length)return ct.has(a)?c=>c<=0?a:b:c=>c>=1?b:a;return cl(cw(function(a,b){let c=[],d={color:0,var:0,number:0};for(let e=0;e<b.values.length;e++){let f=b.types[e],g=a.indexes[f][d[f]],h=a.values[g]??0;c[e]=h,d[f]++}return c}(d,e),e.values),c)};function cz(a,b,c){return"number"==typeof a&&"number"==typeof b&&"number"==typeof c?bz(a,b,c):cv(a)(a,b)}let cA=a=>{let b=({timestamp:b})=>a(b);return{start:(a=!0)=>aM.update(b,a),stop:()=>aN(b),now:()=>aO.isProcessing?aO.timestamp:a3.now()}},cB=(a,b,c=10)=>{let d="",e=Math.max(Math.round(b/c),2);for(let b=0;b<e;b++)d+=Math.round(1e4*a(b/(e-1)))/1e4+", ";return`linear(${d.substring(0,d.length-2)})`};function cC(a){let b=0,c=a.next(b);for(;!c.done&&b<2e4;)b+=50,c=a.next(b);return b>=2e4?1/0:b}function cD(a,b,c){var d,e;let f=Math.max(b-5,0);return d=c-a(f),(e=b-f)?1e3/e*d:0}let cE=.01,cF=2,cG=.005,cH=.5;function cI(a,b){return a*Math.sqrt(1-b*b)}let cJ=["duration","bounce"],cK=["stiffness","damping","mass"];function cL(a,b){return b.some(b=>void 0!==a[b])}function cM(a=.3,b=.3){let c,d="object"!=typeof a?{visualDuration:a,keyframes:[0,1],bounce:b}:a,{restSpeed:e,restDelta:f}=d,g=d.keyframes[0],h=d.keyframes[d.keyframes.length-1],i={done:!1,value:g},{stiffness:j,damping:k,mass:l,duration:m,velocity:n,isResolvedFromDuration:o}=function(a){let b={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...a};if(!cL(a,cK)&&cL(a,cJ))if(a.visualDuration){let c=2*Math.PI/(1.2*a.visualDuration),d=c*c,e=2*s(.05,1,1-(a.bounce||0))*Math.sqrt(d);b={...b,mass:1,stiffness:d,damping:e}}else{let c=function({duration:a=800,bounce:b=.3,velocity:c=0,mass:d=1}){let e,f;al(a<=cj(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let g=1-b;g=s(.05,1,g),a=s(.01,10,a/1e3),g<1?(e=b=>{let d=b*g,e=d*a;return .001-(d-c)/cI(b,g)*Math.exp(-e)},f=b=>{let d=b*g*a,f=Math.pow(g,2)*Math.pow(b,2)*a,h=Math.exp(-d),i=cI(Math.pow(b,2),g);return(d*c+c-f)*h*(-e(b)+.001>0?-1:1)/i}):(e=b=>-.001+Math.exp(-b*a)*((b-c)*a+1),f=b=>a*a*(c-b)*Math.exp(-b*a));let h=function(a,b,c){let d=c;for(let c=1;c<12;c++)d-=a(d)/b(d);return d}(e,f,5/a);if(a=cj(a),isNaN(h))return{stiffness:100,damping:10,duration:a};{let b=Math.pow(h,2)*d;return{stiffness:b,damping:2*g*Math.sqrt(d*b),duration:a}}}(a);(b={...b,...c,mass:1}).isResolvedFromDuration=!0}return b}({...d,velocity:-((d.velocity||0)/1e3)}),p=n||0,q=k/(2*Math.sqrt(j*l)),r=h-g,t=Math.sqrt(j/l)/1e3,u=5>Math.abs(r);if(e||(e=u?cE:cF),f||(f=u?cG:cH),q<1){let a=cI(t,q);c=b=>h-Math.exp(-q*t*b)*((p+q*t*r)/a*Math.sin(a*b)+r*Math.cos(a*b))}else if(1===q)c=a=>h-Math.exp(-t*a)*(r+(p+t*r)*a);else{let a=t*Math.sqrt(q*q-1);c=b=>{let c=Math.exp(-q*t*b),d=Math.min(a*b,300);return h-c*((p+q*t*r)*Math.sinh(d)+a*r*Math.cosh(d))/a}}let v={calculatedDuration:o&&m||null,next:a=>{let b=c(a);if(o)i.done=a>=m;else{let d=0===a?p:0;q<1&&(d=0===a?cj(p):cD(c,a,b));let g=Math.abs(h-b)<=f;i.done=Math.abs(d)<=e&&g}return i.value=i.done?h:b,i},toString:()=>{let a=Math.min(cC(v),2e4),b=cB(b=>v.next(a*b).value,a,30);return a+"ms "+b},toTransition:()=>{}};return v}function cN({keyframes:a,velocity:b=0,power:c=.8,timeConstant:d=325,bounceDamping:e=10,bounceStiffness:f=500,modifyTarget:g,min:h,max:i,restDelta:j=.5,restSpeed:k}){let l,m,n=a[0],o={done:!1,value:n},p=c*b,q=n+p,r=void 0===g?q:g(q);r!==q&&(p=r-n);let s=a=>-p*Math.exp(-a/d),t=a=>r+s(a),u=a=>{let b=s(a),c=t(a);o.done=Math.abs(b)<=j,o.value=o.done?r:c},v=a=>{let b;if(b=o.value,void 0!==h&&b<h||void 0!==i&&b>i){var c;l=a,m=cM({keyframes:[o.value,(c=o.value,void 0===h?i:void 0===i||Math.abs(h-c)<Math.abs(i-c)?h:i)],velocity:cD(t,a,o.value),damping:e,stiffness:f,restDelta:j,restSpeed:k})}};return v(0),{calculatedDuration:null,next:a=>{let b=!1;return(m||void 0!==l||(b=!0,u(a),v(a)),void 0!==l&&a>=l)?m.next(a-l):(b||u(a),o)}}}cM.applyToOptions=a=>{let b=function(a,b=100,c){let d=c({...a,keyframes:[0,b]}),e=Math.min(cC(d),2e4);return{type:"keyframes",ease:a=>d.next(e*a).value/b,duration:e/1e3}}(a,100,cM);return a.ease=b.ease,a.duration=cj(b.duration),a.type="keyframes",a};let cO=(a,b,c)=>(((1-3*c+3*b)*a+(3*c-6*b))*a+3*b)*a;function cP(a,b,c,d){return a===b&&c===d?aI:e=>0===e||1===e?e:cO(function(a,b,c,d,e){let f,g,h=0;do(f=cO(g=b+(c-b)/2,d,e)-a)>0?c=g:b=g;while(Math.abs(f)>1e-7&&++h<12)return g}(e,0,1,a,c),b,d)}let cQ=cP(.42,0,1,1),cR=cP(0,0,.58,1),cS=cP(.42,0,.58,1),cT=a=>b=>b<=.5?a(2*b)/2:(2-a(2*(1-b)))/2,cU=a=>b=>1-a(1-b),cV=cP(.33,1.53,.69,.99),cW=cU(cV),cX=cT(cW),cY=a=>(a*=2)<1?.5*cW(a):.5*(2-Math.pow(2,-10*(a-1))),cZ=a=>1-Math.sin(Math.acos(a)),c$=cU(cZ),c_=cT(cZ),c0=a=>Array.isArray(a)&&"number"==typeof a[0],c1={linear:aI,easeIn:cQ,easeInOut:cS,easeOut:cR,circIn:cZ,circInOut:c_,circOut:c$,backIn:cW,backInOut:cX,backOut:cV,anticipate:cY},c2=a=>{if(c0(a)){am(4===a.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[b,c,d,e]=a;return cP(b,c,d,e)}return"string"==typeof a?(am(void 0!==c1[a],`Invalid easing type '${a}'`,"invalid-easing-type"),c1[a]):a},c3=(a,b,c)=>{let d=b-a;return 0===d?1:(c-a)/d};function c4({duration:a=300,keyframes:b,times:c,ease:d="easeInOut"}){var e;let f,g=Array.isArray(d)&&"number"!=typeof d[0]?d.map(c2):c2(d),h={done:!1,value:b[0]},i=function(a,b,{clamp:c=!0,ease:d,mixer:e}={}){let f=a.length;if(am(f===b.length,"Both input and output ranges must be the same length","range-length"),1===f)return()=>b[0];if(2===f&&b[0]===b[1])return()=>b[1];let g=a[0]===a[1];a[0]>a[f-1]&&(a=[...a].reverse(),b=[...b].reverse());let h=function(a,b,c){let d=[],e=c||aJ.mix||cz,f=a.length-1;for(let c=0;c<f;c++){let f=e(a[c],a[c+1]);b&&(f=cl(Array.isArray(b)?b[c]||aI:b,f)),d.push(f)}return d}(b,d,e),i=h.length,j=c=>{if(g&&c<a[0])return b[0];let d=0;if(i>1)for(;d<a.length-2&&!(c<a[d+1]);d++);let e=c3(a[d],a[d+1],c);return h[d](e)};return c?b=>j(s(a[0],a[f-1],b)):j}((e=c&&c.length===b.length?c:(!function(a,b){let c=a[a.length-1];for(let d=1;d<=b;d++){let e=c3(0,b,d);a.push(bz(c,1,e))}}(f=[0],b.length-1),f),e.map(b=>b*a)),b,{ease:Array.isArray(g)?g:b.map(()=>g||cS).splice(0,b.length-1)});return{calculatedDuration:a,next:b=>(h.value=i(b),h.done=b>=a,h)}}let c5=a=>null!==a;function c6(a,{repeat:b,repeatType:c="loop"},d,e=1){let f=a.filter(c5),g=e<0||b&&"loop"!==c&&b%2==1?0:f.length-1;return g&&void 0!==d?d:f[g]}let c7={decay:cN,inertia:cN,tween:c4,keyframes:c4,spring:cM};function c8(a){"string"==typeof a.type&&(a.type=c7[a.type])}class c9{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(a=>{this.resolve=a})}notifyFinished(){this.resolve()}then(a,b){return this.finished.then(a,b)}}let da=a=>a/100;class db extends c9{constructor(a){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:a}=this.options;a&&a.updatedAt!==a3.now()&&this.tick(a3.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},cm.mainThread++,this.options=a,this.initAnimation(),this.play(),!1===a.autoplay&&this.pause()}initAnimation(){let{options:a}=this;c8(a);let{type:b=c4,repeat:c=0,repeatDelay:d=0,repeatType:e,velocity:f=0}=a,{keyframes:g}=a,h=b||c4;h!==c4&&"number"!=typeof g[0]&&(this.mixKeyframes=cl(da,cz(g[0],g[1])),g=[0,100]);let i=h({...a,keyframes:g});"mirror"===e&&(this.mirroredGenerator=h({...a,keyframes:[...g].reverse(),velocity:-f})),null===i.calculatedDuration&&(i.calculatedDuration=cC(i));let{calculatedDuration:j}=i;this.calculatedDuration=j,this.resolvedDuration=j+d,this.totalDuration=this.resolvedDuration*(c+1)-d,this.generator=i}updateTime(a){let b=Math.round(a-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=b}tick(a,b=!1){let{generator:c,totalDuration:d,mixKeyframes:e,mirroredGenerator:f,resolvedDuration:g,calculatedDuration:h}=this;if(null===this.startTime)return c.next(0);let{delay:i=0,keyframes:j,repeat:k,repeatType:l,repeatDelay:m,type:n,onUpdate:o,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-d/this.speed,this.startTime)),b?this.currentTime=a:this.updateTime(a);let q=this.currentTime-i*(this.playbackSpeed>=0?1:-1),r=this.playbackSpeed>=0?q<0:q>d;this.currentTime=Math.max(q,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=d);let t=this.currentTime,u=c;if(k){let a=Math.min(this.currentTime,d)/g,b=Math.floor(a),c=a%1;!c&&a>=1&&(c=1),1===c&&b--,(b=Math.min(b,k+1))%2&&("reverse"===l?(c=1-c,m&&(c-=m/g)):"mirror"===l&&(u=f)),t=s(0,1,c)*g}let v=r?{done:!1,value:j[0]}:u.next(t);e&&(v.value=e(v.value));let{done:w}=v;r||null===h||(w=this.playbackSpeed>=0?this.currentTime>=d:this.currentTime<=0);let x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return x&&n!==cN&&(v.value=c6(j,this.options,p,this.speed)),o&&o(v.value),x&&this.finish(),v}then(a,b){return this.finished.then(a,b)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:a=0}=this.options||{};return this.duration+a/1e3}get time(){return this.currentTime/1e3}set time(a){a=cj(a),this.currentTime=a,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(a){this.updateTime(a3.now());let b=this.playbackSpeed!==a;this.playbackSpeed=a,b&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:a=cA,startTime:b}=this.options;this.driver||(this.driver=a(a=>this.tick(a))),this.options.onPlay?.();let c=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=c):null!==this.holdTime?this.startTime=c-this.holdTime:this.startTime||(this.startTime=b??c),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(a3.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,cm.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}attachTimeline(a){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),a.observe(this)}}function dc(a){let b;return()=>(void 0===b&&(b=a()),b)}let dd=dc(()=>void 0!==window.ScrollTimeline),de={},df=(c=dc(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(a){return!1}return!0}),()=>de.linearEasing??c()),dg=([a,b,c,d])=>`cubic-bezier(${a}, ${b}, ${c}, ${d})`,dh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dg([0,.65,.55,1]),circOut:dg([.55,0,1,.45]),backIn:dg([.31,.01,.66,-.59]),backOut:dg([.33,1.53,.69,.99])};function di(a){return"function"==typeof a&&"applyToOptions"in a}class dj extends c9{constructor(a){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!a)return;const{element:b,name:c,keyframes:d,pseudoElement:e,allowFlatten:f=!1,finalKeyframe:g,onComplete:h}=a;this.isPseudoElement=!!e,this.allowFlatten=f,this.options=a,am("string"!=typeof a.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const i=function({type:a,...b}){return di(a)&&df()?a.applyToOptions(b):(b.duration??(b.duration=300),b.ease??(b.ease="easeOut"),b)}(a);this.animation=function(a,b,c,{delay:d=0,duration:e=300,repeat:f=0,repeatType:g="loop",ease:h="easeOut",times:i}={},j){let k={[b]:c};i&&(k.offset=i);let l=function a(b,c){if(b)return"function"==typeof b?df()?cB(b,c):"ease-out":c0(b)?dg(b):Array.isArray(b)?b.map(b=>a(b,c)||dh.easeOut):dh[b]}(h,e);Array.isArray(l)&&(k.easing=l);let m={delay:d,duration:e,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:f+1,direction:"reverse"===g?"alternate":"normal"};j&&(m.pseudoElement=j);let n=a.animate(k,m);return n}(b,c,d,i,e),!1===i.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!e){let a=c6(d,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(a):c.startsWith("--")?b.style.setProperty(c,a):b.style[c]=a,this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(a){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:a}=this;"idle"!==a&&"finished"!==a&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:a=0}=this.options||{};return this.duration+a/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(a){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=cj(a)}get speed(){return this.animation.playbackRate}set speed(a){a<0&&(this.finishedTime=null),this.animation.playbackRate=a}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(a){this.manualStartTime=this.animation.startTime=a}attachTimeline({timeline:a,observe:b}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,a&&dd())?(this.animation.timeline=a,aI):b(this)}}let dk={anticipate:cY,backInOut:cX,circInOut:c_};class dl extends dj{constructor(a){!function(a){"string"==typeof a.ease&&a.ease in dk&&(a.ease=dk[a.ease])}(a),c8(a),super(a),void 0!==a.startTime&&(this.startTime=a.startTime),this.options=a}updateMotionValue(a){let{motionValue:b,onUpdate:c,onComplete:d,element:e,...f}=this.options;if(!b)return;if(void 0!==a)return void b.set(a);let g=new db({...f,autoplay:!1}),h=Math.max(10,a3.now()-this.startTime),i=s(0,10,h-10);b.setWithVelocity(g.sample(Math.max(0,h-i)).value,g.sample(h).value,i),g.stop()}}let dm=(a,b)=>"zIndex"!==b&&!!("number"==typeof a||Array.isArray(a)||"string"==typeof a&&(V.test(a)||"0"===a)&&!a.startsWith("url("));function dn(a){a.duration=0,a.type="keyframes"}let dp=new Set(["opacity","clipPath","filter","transform"]),dq=dc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class dr extends c9{constructor({autoplay:a=!0,delay:b=0,type:c="keyframes",repeat:d=0,repeatDelay:e=0,repeatType:f="loop",keyframes:g,name:h,motionValue:i,element:j,...k}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=a3.now();const l={autoplay:a,delay:b,type:c,repeat:d,repeatDelay:e,repeatType:f,name:h,motionValue:i,element:j,...k},m=j?.KeyframeResolver||aW;this.keyframeResolver=new m(g,(a,b,c)=>this.onKeyframesResolved(a,b,l,!c),h,i,j),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(a,b,c,d){this.keyframeResolver=void 0;let{name:e,type:f,velocity:g,delay:h,isHandoff:i,onUpdate:j}=c;this.resolvedAt=a3.now(),!function(a,b,c,d){let e=a[0];if(null===e)return!1;if("display"===b||"visibility"===b)return!0;let f=a[a.length-1],g=dm(e,b),h=dm(f,b);return al(g===h,`You are trying to animate ${b} from "${e}" to "${f}". "${g?f:e}" is not an animatable value.`,"value-not-animatable"),!!g&&!!h&&(function(a){let b=a[0];if(1===a.length)return!0;for(let c=0;c<a.length;c++)if(a[c]!==b)return!0}(a)||("spring"===c||di(c))&&d)}(a,e,f,g)&&((aJ.instantAnimations||!h)&&j?.(c6(a,c,b)),a[0]=a[a.length-1],dn(c),c.repeat=0);let k={startTime:d?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:b,...c,keyframes:a},l=!i&&function(a){let{motionValue:b,name:c,repeatDelay:d,repeatType:e,damping:f,type:g}=a;if(!(b?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:h,transformTemplate:i}=b.owner.getProps();return dq()&&c&&dp.has(c)&&("transform"!==c||!i)&&!h&&!d&&"mirror"!==e&&0!==f&&"inertia"!==g}(k),m=k.motionValue?.owner?.current,n=l?new dl({...k,element:m}):new db(k);n.finished.then(()=>{this.notifyFinished()}).catch(aI),this.pendingTimeline&&(this.stopTimeline=n.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=n}get finished(){return this._animation?this.animation.finished:this._finished}then(a,b){return this.finished.finally(a).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),aT=!0,aV(),aU(),aT=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(a){this.animation.time=a}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(a){this.animation.speed=a}get startTime(){return this.animation.startTime}attachTimeline(a){return this._animation?this.stopTimeline=this.animation.attachTimeline(a):this.pendingTimeline=a,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let ds={type:"spring",stiffness:500,damping:25,restSpeed:10},dt={type:"keyframes",duration:.8},du={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dv=a=>null!==a,dw=(a,b,c,d={},e,f)=>g=>{let h=cg(d,a)||{},i=h.delay||d.delay||0,{elapsed:j=0}=d;j-=cj(i);let k={keyframes:Array.isArray(c)?c:[null,c],ease:"easeOut",velocity:b.getVelocity(),...h,delay:-j,onUpdate:a=>{b.set(a),h.onUpdate&&h.onUpdate(a)},onComplete:()=>{g(),h.onComplete&&h.onComplete()},name:a,motionValue:b,element:f?void 0:e};!function({when:a,delay:b,delayChildren:c,staggerChildren:d,staggerDirection:e,repeat:f,repeatType:g,repeatDelay:h,from:i,elapsed:j,...k}){return!!Object.keys(k).length}(h)&&Object.assign(k,((a,{keyframes:b})=>b.length>2?dt:r.has(a)?a.startsWith("scale")?{type:"spring",stiffness:550,damping:0===b[1]?2*Math.sqrt(550):30,restSpeed:10}:ds:du)(a,k)),k.duration&&(k.duration=cj(k.duration)),k.repeatDelay&&(k.repeatDelay=cj(k.repeatDelay)),void 0!==k.from&&(k.keyframes[0]=k.from);let l=!1;if(!1!==k.type&&(0!==k.duration||k.repeatDelay)||(dn(k),0===k.delay&&(l=!0)),(aJ.instantAnimations||aJ.skipAnimations)&&(l=!0,dn(k),k.delay=0),k.allowFlatten=!h.type&&!h.ease,l&&!f&&void 0!==b.get()){let a=function(a,{repeat:b,repeatType:c="loop"},d){let e=a.filter(dv),f=b&&"loop"!==c&&b%2==1?0:e.length-1;return e[f]}(k.keyframes,h);if(void 0!==a)return void aM.update(()=>{k.onUpdate(a),k.onComplete()})}return h.isSync?new db(k):new dr(k)};function dx(a,b,{delay:c=0,transitionOverride:d,type:e}={}){let{transition:f=a.getDefaultTransition(),transitionEnd:g,...h}=b;d&&(f=d);let i=[],j=e&&a.animationState&&a.animationState.getState()[e];for(let b in h){let d=a.getValue(b,a.latestValues[b]??null),e=h[b];if(void 0===e||j&&function({protectedKeys:a,needsAnimating:b},c){let d=a.hasOwnProperty(c)&&!0!==b[c];return b[c]=!1,d}(j,b))continue;let g={delay:c,...cg(f||{},b)},k=d.get();if(void 0!==k&&!d.isAnimating&&!Array.isArray(e)&&e===k&&!g.velocity)continue;let l=!1;if(window.MotionHandoffAnimation){let c=a.props[ca];if(c){let a=window.MotionHandoffAnimation(c,b,aM);null!==a&&(g.startTime=a,l=!0)}}ci(a,b),d.start(dw(b,d,e,a.shouldReduceMotion&&ah.has(b)?{type:!1}:g,a,l));let m=d.animation;m&&i.push(m)}return g&&Promise.all(i).then(()=>{aM.update(()=>{g&&function(a,b){let{transitionEnd:c={},transition:d={},...e}=cf(a,b)||{};for(let b in e={...e,...c}){var f;let c=ch(f=e[b])?f[f.length-1]||0:f;a.hasValue(b)?a.getValue(b).set(c):a.addValue(b,a5(c))}}(a,g)})}),i}function dy(a,b,c,d=0,e=1){let f=Array.from(a).sort((a,b)=>a.sortNodePosition(b)).indexOf(b),g=a.size,h=(g-1)*d;return"function"==typeof c?c(f,g):1===e?f*d:h-f*d}function dz(a,b,c={}){let d=cf(a,b,"exit"===c.type?a.presenceContext?.custom:void 0),{transition:e=a.getDefaultTransition()||{}}=d||{};c.transitionOverride&&(e=c.transitionOverride);let f=d?()=>Promise.all(dx(a,d,c)):()=>Promise.resolve(),g=a.variantChildren&&a.variantChildren.size?(d=0)=>{let{delayChildren:f=0,staggerChildren:g,staggerDirection:h}=e;return function(a,b,c=0,d=0,e=0,f=1,g){let h=[];for(let i of a.variantChildren)i.notify("AnimationStart",b),h.push(dz(i,b,{...g,delay:c+("function"==typeof d?0:d)+dy(a.variantChildren,i,d,e,f)}).then(()=>i.notify("AnimationComplete",b)));return Promise.all(h)}(a,b,d,f,g,h,c)}:()=>Promise.resolve(),{when:h}=e;if(!h)return Promise.all([f(),g(c.delay)]);{let[a,b]="beforeChildren"===h?[f,g]:[g,f];return a().then(()=>b())}}let dA=bc.length;function dB(a,b){if(!Array.isArray(b))return!1;let c=b.length;if(c!==a.length)return!1;for(let d=0;d<c;d++)if(b[d]!==a[d])return!1;return!0}let dC=[...bb].reverse(),dD=bb.length;function dE(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dF(){return{animate:dE(!0),whileInView:dE(),whileHover:dE(),whileTap:dE(),whileDrag:dE(),whileFocus:dE(),exit:dE()}}let dG=0;function dH(a){return[a("x"),a("y")]}let dI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dJ(a){return dI.has(a.tagName)||!0===a.isContentEditable}function dK(a,b,c,d={passive:!0}){return a.addEventListener(b,c,d),()=>a.removeEventListener(b,c)}let dL={x:!1,y:!1};function dM(a){return a.max-a.min}function dN(a,b,c,d=.5){a.origin=d,a.originPoint=bz(b.min,b.max,a.origin),a.scale=dM(c)/dM(b),a.translate=bz(c.min,c.max,a.origin)-a.originPoint,(a.scale>=.9999&&a.scale<=1.0001||isNaN(a.scale))&&(a.scale=1),(a.translate>=-.01&&a.translate<=.01||isNaN(a.translate))&&(a.translate=0)}function dO(a,b,c,d){dN(a.x,b.x,c.x,d?d.originX:void 0),dN(a.y,b.y,c.y,d?d.originY:void 0)}function dP(a,b,c){a.min=c.min+b.min,a.max=a.min+dM(b)}function dQ(a,b,c){a.min=b.min-c.min,a.max=a.min+dM(b)}function dR(a,b,c){dQ(a.x,b.x,c.x),dQ(a.y,b.y,c.y)}let dS=a=>"mouse"===a.pointerType?"number"!=typeof a.button||a.button<=0:!1!==a.isPrimary;function dT(a){return{point:{x:a.pageX,y:a.pageY}}}function dU(a,b,c,d){return dK(a,b,a=>dS(a)&&c(a,dT(a)),d)}let dV=({current:a})=>a?a.ownerDocument.defaultView:null,dW=(a,b)=>Math.abs(a-b),dX=new Set(["auto","scroll"]);class dY{constructor(a,b,{transformPagePoint:c,contextWindow:d=window,dragSnapToOrigin:e=!1,distanceThreshold:f=3,element:g}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=a=>{this.handleScroll(a.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var a,b;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let c=d_(this.lastMoveEventInfo,this.history),d=null!==this.startEvent,e=(a=c.offset,b={x:0,y:0},Math.sqrt(dW(a.x,b.x)**2+dW(a.y,b.y)**2)>=this.distanceThreshold);if(!d&&!e)return;let{point:f}=c,{timestamp:g}=aO;this.history.push({...f,timestamp:g});let{onStart:h,onMove:i}=this.handlers;d||(h&&h(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,c)},this.handlePointerMove=(a,b)=>{this.lastMoveEvent=a,this.lastMoveEventInfo=dZ(b,this.transformPagePoint),aM.update(this.updatePoint,!0)},this.handlePointerUp=(a,b)=>{this.end();let{onEnd:c,onSessionEnd:d,resumeAnimation:e}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&e&&e(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let f=d_("pointercancel"===a.type?this.lastMoveEventInfo:dZ(b,this.transformPagePoint),this.history);this.startEvent&&c&&c(a,f),d&&d(a,f)},!dS(a))return;this.dragSnapToOrigin=e,this.handlers=b,this.transformPagePoint=c,this.distanceThreshold=f,this.contextWindow=d||window;const h=dZ(dT(a),this.transformPagePoint),{point:i}=h,{timestamp:j}=aO;this.history=[{...i,timestamp:j}];const{onSessionStart:k}=b;k&&k(a,d_(h,this.history)),this.removeListeners=cl(dU(this.contextWindow,"pointermove",this.handlePointerMove),dU(this.contextWindow,"pointerup",this.handlePointerUp),dU(this.contextWindow,"pointercancel",this.handlePointerUp)),g&&this.startScrollTracking(g)}startScrollTracking(a){let b=a.parentElement;for(;b;){let a=getComputedStyle(b);(dX.has(a.overflowX)||dX.has(a.overflowY))&&this.scrollPositions.set(b,{x:b.scrollLeft,y:b.scrollTop}),b=b.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(a){let b=this.scrollPositions.get(a);if(!b)return;let c=a===window,d=c?{x:window.scrollX,y:window.scrollY}:{x:a.scrollLeft,y:a.scrollTop},e={x:d.x-b.x,y:d.y-b.y};(0!==e.x||0!==e.y)&&(c?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=e.x,this.lastMoveEventInfo.point.y+=e.y):this.history.length>0&&(this.history[0].x-=e.x,this.history[0].y-=e.y),this.scrollPositions.set(a,d),aM.update(this.updatePoint,!0))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),aN(this.updatePoint)}}function dZ(a,b){return b?{point:b(a.point)}:a}function d$(a,b){return{x:a.x-b.x,y:a.y-b.y}}function d_({point:a},b){return{point:a,delta:d$(a,d0(b)),offset:d$(a,b[0]),velocity:function(a,b){if(a.length<2)return{x:0,y:0};let c=a.length-1,d=null,e=d0(a);for(;c>=0&&(d=a[c],!(e.timestamp-d.timestamp>cj(.1)));)c--;if(!d)return{x:0,y:0};let f=(e.timestamp-d.timestamp)/1e3;if(0===f)return{x:0,y:0};let g={x:(e.x-d.x)/f,y:(e.y-d.y)/f};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}(b,.1)}}function d0(a){return a[a.length-1]}function d1(a,b,c){return{min:void 0!==b?a.min+b:void 0,max:void 0!==c?a.max+c-(a.max-a.min):void 0}}function d2(a,b){let c=b.min-a.min,d=b.max-a.max;return b.max-b.min<a.max-a.min&&([c,d]=[d,c]),{min:c,max:d}}function d3(a,b,c){return{min:d4(a,b),max:d4(a,c)}}function d4(a,b){return"number"==typeof a?a:a[b]||0}let d5=new WeakMap;class d6{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=af(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=a}start(a,{snapToCursor:b=!1,distanceThreshold:c}={}){let{presenceContext:d}=this.visualElement;if(d&&!1===d.isPresent)return;let e=a=>{b?(this.stopAnimation(),this.snapToCursor(dT(a).point)):this.pauseAnimation()},f=(a,b)=>{this.stopAnimation();let{drag:c,dragPropagation:d,onDragStart:e}=this.getProps();if(c&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(a){if("x"===a||"y"===a)if(dL[a])return null;else return dL[a]=!0,()=>{dL[a]=!1};return dL.x||dL.y?null:(dL.x=dL.y=!0,()=>{dL.x=dL.y=!1})}(c),!this.openDragLock))return;this.latestPointerEvent=a,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dH(a=>{let b=this.getAxisMotionValue(a).get()||0;if(G.test(b)){let{projection:c}=this.visualElement;if(c&&c.layout){let d=c.layout.layoutBox[a];d&&(b=dM(d)*(parseFloat(b)/100))}}this.originPoint[a]=b}),e&&aM.postRender(()=>e(a,b)),ci(this.visualElement,"transform");let{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},g=(a,b)=>{this.latestPointerEvent=a,this.latestPanInfo=b;let{dragPropagation:c,dragDirectionLock:d,onDirectionLock:e,onDrag:f}=this.getProps();if(!c&&!this.openDragLock)return;let{offset:g}=b;if(d&&null===this.currentDirection){this.currentDirection=function(a,b=10){let c=null;return Math.abs(a.y)>b?c="y":Math.abs(a.x)>b&&(c="x"),c}(g),null!==this.currentDirection&&e&&e(this.currentDirection);return}this.updateAxis("x",b.point,g),this.updateAxis("y",b.point,g),this.visualElement.render(),f&&f(a,b)},h=(a,b)=>{this.latestPointerEvent=a,this.latestPanInfo=b,this.stop(a,b),this.latestPointerEvent=null,this.latestPanInfo=null},i=()=>dH(a=>"paused"===this.getAnimationState(a)&&this.getAxisMotionValue(a).animation?.play()),{dragSnapToOrigin:j}=this.getProps();this.panSession=new dY(a,{onSessionStart:e,onStart:f,onMove:g,onSessionEnd:h,resumeAnimation:i},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:j,distanceThreshold:c,contextWindow:dV(this.visualElement),element:this.visualElement.current})}stop(a,b){let c=a||this.latestPointerEvent,d=b||this.latestPanInfo,e=this.isDragging;if(this.cancel(),!e||!d||!c)return;let{velocity:f}=d;this.startAnimation(f);let{onDragEnd:g}=this.getProps();g&&aM.postRender(()=>g(c,d))}cancel(){this.isDragging=!1;let{projection:a,animationState:b}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),b&&b.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(a,b,c){let{drag:d}=this.getProps();if(!c||!d7(a,d,this.currentDirection))return;let e=this.getAxisMotionValue(a),f=this.originPoint[a]+c[a];this.constraints&&this.constraints[a]&&(f=function(a,{min:b,max:c},d){return void 0!==b&&a<b?a=d?bz(b,a,d.min):Math.max(a,b):void 0!==c&&a>c&&(a=d?bz(c,a,d.max):Math.min(a,c)),a}(f,this.constraints[a],this.elastic[a])),e.set(f)}resolveConstraints(){let{dragConstraints:a,dragElastic:b}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,d=this.constraints;a&&cc(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&c?this.constraints=function(a,{top:b,left:c,bottom:d,right:e}){return{x:d1(a.x,c,e),y:d1(a.y,b,d)}}(c.layoutBox,a):this.constraints=!1,this.elastic=function(a=.35){return!1===a?a=0:!0===a&&(a=.35),{x:d3(a,"left","right"),y:d3(a,"top","bottom")}}(b),d!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&dH(a=>{var b,d;let e;!1!==this.constraints&&this.getAxisMotionValue(a)&&(this.constraints[a]=(b=c.layoutBox[a],d=this.constraints[a],e={},void 0!==d.min&&(e.min=d.min-b.min),void 0!==d.max&&(e.max=d.max-b.min),e))})}resolveRefConstraints(){var a;let{dragConstraints:b,onMeasureDragConstraints:c}=this.getProps();if(!b||!cc(b))return!1;let d=b.current;am(null!==d,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:e}=this.visualElement;if(!e||!e.layout)return!1;let f=function(a,b,c){let d=bQ(a,c),{scroll:e}=b;return e&&(bN(d.x,e.offset.x),bN(d.y,e.offset.y)),d}(d,e.root,this.visualElement.getTransformPagePoint()),g=(a=e.layout.layoutBox,{x:d2(a.x,f.x),y:d2(a.y,f.y)});if(c){let a=c(function({x:a,y:b}){return{top:b.min,right:a.max,bottom:b.max,left:a.min}}(g));this.hasMutatedConstraints=!!a,a&&(g=bF(a))}return g}startAnimation(a){let{drag:b,dragMomentum:c,dragElastic:d,dragTransition:e,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),h=this.constraints||{};return Promise.all(dH(g=>{if(!d7(g,b,this.currentDirection))return;let i=h&&h[g]||{};f&&(i={min:0,max:0});let j={type:"inertia",velocity:c?a[g]:0,bounceStiffness:d?200:1e6,bounceDamping:d?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...e,...i};return this.startAxisValueAnimation(g,j)})).then(g)}startAxisValueAnimation(a,b){let c=this.getAxisMotionValue(a);return ci(this.visualElement,a),c.start(dw(a,c,0,b,this.visualElement,!1))}stopAnimation(){dH(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){dH(a=>this.getAxisMotionValue(a).animation?.pause())}getAnimationState(a){return this.getAxisMotionValue(a).animation?.state}getAxisMotionValue(a){let b=`_drag${a.toUpperCase()}`,c=this.visualElement.getProps();return c[b]||this.visualElement.getValue(a,(c.initial?c.initial[a]:void 0)||0)}snapToCursor(a){dH(b=>{let{drag:c}=this.getProps();if(!d7(b,c,this.currentDirection))return;let{projection:d}=this.visualElement,e=this.getAxisMotionValue(b);if(d&&d.layout){let{min:c,max:f}=d.layout.layoutBox[b],g=e.get()||0;e.set(a[b]-bz(c,f,.5)+g)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:a,dragConstraints:b}=this.getProps(),{projection:c}=this.visualElement;if(!cc(b)||!c||!this.constraints)return;this.stopAnimation();let d={x:0,y:0};dH(a=>{let b=this.getAxisMotionValue(a);if(b&&!1!==this.constraints){var c,e;let f,g,h,i=b.get();d[a]=(c={min:i,max:i},e=this.constraints[a],f=.5,g=dM(c),(h=dM(e))>g?f=c3(e.min,e.max-g,c.min):g>h&&(f=c3(c.min,c.max-h,e.min)),s(0,1,f))}});let{transformTemplate:e}=this.visualElement.getProps();this.visualElement.current.style.transform=e?e({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),dH(b=>{if(!d7(b,a,null))return;let c=this.getAxisMotionValue(b),{min:e,max:f}=this.constraints[b];c.set(bz(e,f,d[b]))})}addListeners(){if(!this.visualElement.current)return;d5.set(this.visualElement,this);let a=this.visualElement.current,b=dU(a,"pointerdown",b=>{let{drag:c,dragListener:d=!0}=this.getProps(),e=b.target,f=e!==a&&dJ(e);c&&d&&!f&&this.start(b)}),c=()=>{let{dragConstraints:a}=this.getProps();cc(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:d}=this.visualElement,e=d.addEventListener("measure",c);d&&!d.layout&&(d.root&&d.root.updateScroll(),d.updateLayout()),aM.read(c);let f=dK(window,"resize",()=>this.scalePositionWithinConstraints()),g=d.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b})=>{this.isDragging&&b&&(dH(b=>{let c=this.getAxisMotionValue(b);c&&(this.originPoint[b]+=a[b].translate,c.set(c.get()+a[b].translate))}),this.visualElement.render())});return()=>{f(),b(),e(),g&&g()}}getProps(){let a=this.visualElement.getProps(),{drag:b=!1,dragDirectionLock:c=!1,dragPropagation:d=!1,dragConstraints:e=!1,dragElastic:f=.35,dragMomentum:g=!0}=a;return{...a,drag:b,dragDirectionLock:c,dragPropagation:d,dragConstraints:e,dragElastic:f,dragMomentum:g}}}function d7(a,b,c){return(!0===b||b===a)&&(null===c||c===a)}let d8=a=>(b,c)=>{a&&aM.postRender(()=>a(b,c))},d9={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var ea=h;let eb=!1;class ec extends ea.Component{componentDidMount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c,layoutId:d}=this.props,{projection:e}=a;e&&(b.group&&b.group.add(e),c&&c.register&&d&&c.register(e),eb&&e.root.didUpdate(),e.addEventListener("animationComplete",()=>{this.safeToRemove()}),e.setOptions({...e.options,onExitComplete:()=>this.safeToRemove()})),d9.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){let{layoutDependency:b,visualElement:c,drag:d,isPresent:e}=this.props,{projection:f}=c;return f&&(f.isPresent=e,eb=!0,d||a.layoutDependency!==b||void 0===b||a.isPresent!==e?f.willUpdate():this.safeToRemove(),a.isPresent!==e&&(e?f.promote():f.relegate()||aM.postRender(()=>{let a=f.getStack();a&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),a1.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c}=this.props,{projection:d}=a;eb=!0,d&&(d.scheduleCheckAfterUnmount(),b&&b.group&&b.group.remove(d),c&&c.deregister&&c.deregister(d))}safeToRemove(){let{safeToRemove:a}=this.props;a&&a()}render(){return null}}function ed(a){let[b,c]=function(a=!0){let b=(0,h.useContext)(b3);if(null===b)return[!0,null];let{isPresent:c,onExitComplete:d,register:e}=b,f=(0,h.useId)();(0,h.useEffect)(()=>{if(a)return e(f)},[a]);let g=(0,h.useCallback)(()=>a&&d&&d(f),[f,d,a]);return!c&&d?[!1,g]:[!0]}(),d=(0,ea.useContext)(bU);return(0,g.jsx)(ec,{...a,layoutGroup:d,switchLayoutGroup:(0,ea.useContext)(cb),isPresent:b,safeToRemove:c})}function ee(a,b,c,d,e){return a-=b,a=d+1/c*(a-d),void 0!==e&&(a=d+1/e*(a-d)),a}function ef(a,b,[c,d,e],f,g){!function(a,b=0,c=1,d=.5,e,f=a,g=a){if(G.test(b)&&(b=parseFloat(b),b=bz(g.min,g.max,b/100)-g.min),"number"!=typeof b)return;let h=bz(f.min,f.max,d);a===f&&(h-=b),a.min=ee(a.min,b,c,h,e),a.max=ee(a.max,b,c,h,e)}(a,b[c],b[d],b[e],b.scale,f,g)}let eg=["x","scaleX","originX"],eh=["y","scaleY","originY"];function ei(a,b,c,d){ef(a.x,b,eg,c?c.x:void 0,d?d.x:void 0),ef(a.y,b,eh,c?c.y:void 0,d?d.y:void 0)}function ej(a,b){a.min=b.min,a.max=b.max}function ek(a,b){ej(a.x,b.x),ej(a.y,b.y)}function el(a,b){a.translate=b.translate,a.scale=b.scale,a.originPoint=b.originPoint,a.origin=b.origin}function em(a){return 0===a.translate&&1===a.scale}function en(a){return em(a.x)&&em(a.y)}function eo(a,b){return a.min===b.min&&a.max===b.max}function ep(a,b){return Math.round(a.min)===Math.round(b.min)&&Math.round(a.max)===Math.round(b.max)}function eq(a,b){return ep(a.x,b.x)&&ep(a.y,b.y)}function er(a){return dM(a.x)/dM(a.y)}function es(a,b){return a.translate===b.translate&&a.scale===b.scale&&a.originPoint===b.originPoint}let et=["TopLeft","TopRight","BottomLeft","BottomRight"],eu=et.length,ev=a=>"string"==typeof a?parseFloat(a):a,ew=a=>"number"==typeof a||H.test(a);function ex(a,b){return void 0!==a[b]?a[b]:a.borderRadius}let ey=eA(0,.5,c$),ez=eA(.5,.95,aI);function eA(a,b,c){return d=>d<a?0:d>b?1:c(c3(a,b,d))}function eB(a){return"object"==typeof a&&null!==a}function eC(a){return eB(a)&&"ownerSVGElement"in a}let eD=(a,b)=>a.depth-b.depth;class eE{constructor(){this.children=[],this.isDirty=!1}add(a){a$(this.children,a),this.isDirty=!0}remove(a){a_(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(eD),this.isDirty=!1,this.children.forEach(a)}}class eF{constructor(){this.members=[]}add(a){a$(this.members,a),a.scheduleRender()}remove(a){if(a_(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){let a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(a){let b,c=this.members.findIndex(b=>a===b);if(0===c)return!1;for(let a=c;a>=0;a--){let c=this.members[a];if(!1!==c.isPresent){b=c;break}}return!!b&&(this.promote(b),!0)}promote(a,b){let c=this.lead;if(a!==c&&(this.prevLead=c,this.lead=a,a.show(),c)){c.instance&&c.scheduleRender(),a.scheduleRender(),a.resumeFrom=c,b&&(a.resumeFrom.preserveOpacity=!0),c.snapshot&&(a.snapshot=c.snapshot,a.snapshot.latestValues=c.animationValues||c.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);let{crossfade:d}=a.options;!1===d&&c.hide()}}exitAnimationComplete(){this.members.forEach(a=>{let{options:b,resumingFrom:c}=a;b.onExitComplete&&b.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let eG=["","X","Y","Z"],eH=0;function eI(a,b,c,d){let{latestValues:e}=b;e[a]&&(c[a]=e[a],b.setStaticValue(a,0),d&&(d[a]=0))}function eJ({attachResizeListener:a,defaultParent:b,measureScroll:c,checkIsScrollRoot:d,resetTransform:e}){return class{constructor(a={},c=b?.()){this.id=eH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eM),this.nodes.forEach(eT),this.nodes.forEach(eU),this.nodes.forEach(eN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new eE)}addEventListener(a,b){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new a0),this.eventHandlers.get(a).add(b)}notifyListeners(a,...b){let c=this.eventHandlers.get(a);c&&c.notify(...b)}hasListeners(a){return this.eventHandlers.has(a)}mount(b){if(this.instance)return;this.isSVG=eC(b)&&!(eC(b)&&"svg"===b.tagName),this.instance=b;let{layoutId:c,layout:d,visualElement:e}=this.options;if(e&&!e.current&&e.mount(b),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),a){let c,d=0,e=()=>this.root.updateBlockedByResize=!1;aM.read(()=>{d=window.innerWidth}),a(b,()=>{let a=window.innerWidth;if(a!==d){let b,f;d=a,this.root.updateBlockedByResize=!0,c&&c(),b=a3.now(),f=({timestamp:a})=>{let c=a-b;c>=250&&(aN(f),e(c-250))},aM.setup(f,!0),c=()=>aN(f),d9.hasAnimatedSinceResize&&(d9.hasAnimatedSinceResize=!1,this.nodes.forEach(eS))}})}c&&this.root.registerSharedNode(c,this),!1!==this.options.animate&&e&&(c||d)&&this.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b,hasRelativeLayoutChanged:c,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let f=this.options.transition||e.getDefaultTransition()||e$,{onLayoutAnimationStart:g,onLayoutAnimationComplete:h}=e.getProps(),i=!this.targetLayout||!eq(this.targetLayout,d),j=!b&&c;if(this.options.layoutRoot||this.resumeFrom||j||b&&(i||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let b={...cg(f,"layout"),onPlay:g,onComplete:h};(e.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(a,j)}else b||eS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),aN(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eV),this.animationId++)}getTransformTemplate(){let{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function a(b){if(b.hasCheckedOptimisedAppear=!0,b.root===b)return;let{visualElement:c}=b.options;if(!c)return;let d=c.props[ca];if(window.MotionHasOptimisedAnimation(d,"transform")){let{layout:a,layoutId:c}=b.options;window.MotionCancelOptimisedAnimation(d,"transform",aM,!(a||c))}let{parent:e}=b;e&&!e.hasCheckedOptimisedAppear&&a(e)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){let b=this.path[a];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}let{layoutId:b,layout:c}=this.options;if(void 0===b&&!c)return;let d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eP);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(eQ);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eR),this.nodes.forEach(eK),this.nodes.forEach(eL)):this.nodes.forEach(eQ),this.clearAllSnapshots();let a=a3.now();aO.delta=s(0,1e3/60,a-aO.timestamp),aO.timestamp=a,aO.isProcessing=!0,aP.update.process(aO),aP.preRender.process(aO),aP.render.process(aO),aO.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eO),this.sharedNodes.forEach(eW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,aM.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){aM.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||dM(this.snapshot.measuredBox.x)||dM(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();let a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=af(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(b=!1),b&&this.instance){let b=d(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:b,offset:c(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!e)return;let a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!en(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(b||bI(this.latestValues)||f)&&(e(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){var b;let c=this.measurePageBox(),d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),e1((b=d).x),e1(b.y),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:a}=this.options;if(!a)return af();let b=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(e3))){let{scroll:a}=this.root;a&&(bN(b.x,a.offset.x),bN(b.y,a.offset.y))}return b}removeElementScroll(a){let b=af();if(ek(b,a),this.scroll?.wasRoot)return b;for(let c=0;c<this.path.length;c++){let d=this.path[c],{scroll:e,options:f}=d;d!==this.root&&e&&f.layoutScroll&&(e.wasRoot&&ek(b,a),bN(b.x,e.offset.x),bN(b.y,e.offset.y))}return b}applyTransform(a,b=!1){let c=af();ek(c,a);for(let a=0;a<this.path.length;a++){let d=this.path[a];!b&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bP(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),bI(d.latestValues)&&bP(c,d.latestValues)}return bI(this.latestValues)&&bP(c,this.latestValues),c}removeTransform(a){let b=af();ek(b,a);for(let a=0;a<this.path.length;a++){let c=this.path[a];if(!c.instance||!bI(c.latestValues))continue;bH(c.latestValues)&&c.updateSnapshot();let d=af();ek(d,c.measurePageBox()),ei(b,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return bI(this.latestValues)&&ei(b,this.latestValues),b}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:void 0===a.crossfade||a.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==aO.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){let b=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=b.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=b.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=b.isSharedProjectionDirty);let c=!!this.resumingFrom||this!==b;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:d,layoutId:e}=this.options;if(!this.layout||!(d||e))return;this.resolvedRelativeTargetAt=aO.timestamp;let f=this.getClosestProjectingParent();if(f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=af(),this.targetWithTransforms=af()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var g,h,i;this.forceRelativeParentToResolveTarget(),g=this.target,h=this.relativeTarget,i=this.relativeParent.target,dP(g.x,h.x,i.x),dP(g.y,h.y,i.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ek(this.target,this.layout.layoutBox),bM(this.target,this.targetDelta)):ek(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&1!==this.animationProgress?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||bH(this.parent.latestValues)||bJ(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,b,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=af(),this.relativeTargetOrigin=af(),dR(this.relativeTargetOrigin,b,c),ek(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let a=this.getLead(),b=!!this.resumingFrom||this!==a,c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),b&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===aO.timestamp&&(c=!1),c)return;let{layout:d,layoutId:e}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||e))return;ek(this.layoutCorrected,this.layout.layoutBox);let f=this.treeScale.x,g=this.treeScale.y;!function(a,b,c,d=!1){let e,f,g=c.length;if(g){b.x=b.y=1;for(let h=0;h<g;h++){f=(e=c[h]).projectionDelta;let{visualElement:g}=e.options;(!g||!g.props.style||"contents"!==g.props.style.display)&&(d&&e.options.layoutScroll&&e.scroll&&e!==e.root&&bP(a,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),f&&(b.x*=f.x.scale,b.y*=f.y.scale,bM(a,f)),d&&bI(e.latestValues)&&bP(a,e.latestValues))}b.x<1.0000000000001&&b.x>.999999999999&&(b.x=1),b.y<1.0000000000001&&b.y>.999999999999&&(b.y=1)}}(this.layoutCorrected,this.treeScale,this.path,b),a.layout&&!a.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=af());let{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(el(this.prevProjectionDelta.x,this.projectionDelta.x),el(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),dO(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.treeScale.x===f&&this.treeScale.y===g&&es(this.projectionDelta.x,this.prevProjectionDelta.x)&&es(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){let a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ad(),this.projectionDelta=ad(),this.projectionDeltaWithTransform=ad()}setAnimationOrigin(a,b=!1){let c,d=this.snapshot,e=d?d.latestValues:{},f={...this.latestValues},g=ad();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;let h=af(),i=(d?d.source:void 0)!==(this.layout?this.layout.source:void 0),j=this.getStack(),k=!j||j.members.length<=1,l=!!(i&&!k&&!0===this.options.crossfade&&!this.path.some(eZ));this.animationProgress=0,this.mixTargetDelta=b=>{let d=b/1e3;if(eX(g.x,a.x,d),eX(g.y,a.y,d),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var j,m,n,o,p,q;dR(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n=this.relativeTarget,o=this.relativeTargetOrigin,p=h,q=d,eY(n.x,o.x,p.x,q),eY(n.y,o.y,p.y,q),c&&(j=this.relativeTarget,m=c,eo(j.x,m.x)&&eo(j.y,m.y))&&(this.isProjectionDirty=!1),c||(c=af()),ek(c,this.relativeTarget)}i&&(this.animationValues=f,function(a,b,c,d,e,f){e?(a.opacity=bz(0,c.opacity??1,ey(d)),a.opacityExit=bz(b.opacity??1,0,ez(d))):f&&(a.opacity=bz(b.opacity??1,c.opacity??1,d));for(let e=0;e<eu;e++){let f=`border${et[e]}Radius`,g=ex(b,f),h=ex(c,f);(void 0!==g||void 0!==h)&&(g||(g=0),h||(h=0),0===g||0===h||ew(g)===ew(h)?(a[f]=Math.max(bz(ev(g),ev(h),d),0),(G.test(h)||G.test(g))&&(a[f]+="%")):a[f]=h)}(b.rotate||c.rotate)&&(a.rotate=bz(b.rotate||0,c.rotate||0,d))}(f,e,this.latestValues,d,l,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=d},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(aN(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=aM.update(()=>{var b,c,d;let e;d9.hasAnimatedSinceResize=!0,cm.layout++,this.motionValue||(this.motionValue=a5(0)),this.currentAnimation=(b=this.motionValue,c=[0,1e3],d={...a,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),a.onUpdate&&a.onUpdate(b)},onStop:()=>{cm.layout--},onComplete:()=>{cm.layout--,a.onComplete&&a.onComplete(),this.completeAnimation()}},(e=ag(b)?b:a5(b)).start(dw("",e,c,d)),e.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let a=this.getLead(),{targetWithTransforms:b,target:c,layout:d,latestValues:e}=a;if(b&&c&&d){if(this!==a&&this.layout&&d&&e2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||af();let b=dM(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+b;let d=dM(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+d}ek(b,c),bP(b,e),dO(this.projectionDeltaWithTransform,this.layoutCorrected,b,e)}}registerSharedNode(a,b){this.sharedNodes.has(a)||this.sharedNodes.set(a,new eF),this.sharedNodes.get(a).add(b);let c=b.options.initialPromotionConfig;b.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(b):void 0})}isLead(){let a=this.getStack();return!a||a.lead===this}getLead(){let{layoutId:a}=this.options;return a&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:b,preserveFollowOpacity:c}={}){let d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){let a=this.getStack();return!!a&&a.relegate(this)}resetSkewAndRotation(){let{visualElement:a}=this.options;if(!a)return;let b=!1,{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(b=!0),!b)return;let d={};c.z&&eI("z",a,d,this.animationValues);for(let b=0;b<eG.length;b++)eI(`rotate${eG[b]}`,a,d,this.animationValues),eI(`skew${eG[b]}`,a,d,this.animationValues);for(let b in a.render(),d)a.setStaticValue(b,d[b]),this.animationValues&&(this.animationValues[b]=d[b]);a.scheduleRender()}applyProjectionStyles(a,b){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}let c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=b2(b?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}let d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,a.pointerEvents=b2(b?.pointerEvents)||""),this.hasProjected&&!bI(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";let e=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=function(a,b,c){let d="",e=a.x.translate/b.x,f=a.y.translate/b.y,g=c?.z||0;if((e||f||g)&&(d=`translate3d(${e}px, ${f}px, ${g}px) `),(1!==b.x||1!==b.y)&&(d+=`scale(${1/b.x}, ${1/b.y}) `),c){let{transformPerspective:a,rotate:b,rotateX:e,rotateY:f,skewX:g,skewY:h}=c;a&&(d=`perspective(${a}px) ${d}`),b&&(d+=`rotate(${b}deg) `),e&&(d+=`rotateX(${e}deg) `),f&&(d+=`rotateY(${f}deg) `),g&&(d+=`skewX(${g}deg) `),h&&(d+=`skewY(${h}deg) `)}let h=a.x.scale*b.x,i=a.y.scale*b.y;return(1!==h||1!==i)&&(d+=`scale(${h}, ${i})`),d||"none"}(this.projectionDeltaWithTransform,this.treeScale,e);c&&(f=c(e,f)),a.transform=f;let{x:g,y:h}=this.projectionDelta;for(let b in a.transformOrigin=`${100*g.origin}% ${100*h.origin}% 0`,d.animationValues?a.opacity=d===this?e.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:e.opacityExit:a.opacity=d===this?void 0!==e.opacity?e.opacity:"":void 0!==e.opacityExit?e.opacityExit:0,bA){if(void 0===e[b])continue;let{correct:c,applyTo:g,isCSSVariable:h}=bA[b],i="none"===f?e[b]:c(e[b],d);if(g){let b=g.length;for(let c=0;c<b;c++)a[g[c]]=i}else h?this.options.visualElement.renderState.vars[b]=i:a[b]=i}this.options.layoutId&&(a.pointerEvents=d===this?b2(b?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(eP),this.root.sharedNodes.clear()}}}function eK(a){a.updateLayout()}function eL(a){let b=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&b&&a.hasListeners("didUpdate")){let{layoutBox:c,measuredBox:d}=a.layout,{animationType:e}=a.options,f=b.source!==a.layout.source;"size"===e?dH(a=>{let d=f?b.measuredBox[a]:b.layoutBox[a],e=dM(d);d.min=c[a].min,d.max=d.min+e}):e2(e,b.layoutBox,c)&&dH(d=>{let e=f?b.measuredBox[d]:b.layoutBox[d],g=dM(c[d]);e.max=e.min+g,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[d].max=a.relativeTarget[d].min+g)});let g=ad();dO(g,c,b.layoutBox);let h=ad();f?dO(h,a.applyTransform(d,!0),b.measuredBox):dO(h,c,b.layoutBox);let i=!en(g),j=!1;if(!a.resumeFrom){let d=a.getClosestProjectingParent();if(d&&!d.resumeFrom){let{snapshot:e,layout:f}=d;if(e&&f){let g=af();dR(g,b.layoutBox,e.layoutBox);let h=af();dR(h,c,f.layoutBox),eq(g,h)||(j=!0),d.options.layoutRoot&&(a.relativeTarget=h,a.relativeTargetOrigin=g,a.relativeParent=d)}}}a.notifyListeners("didUpdate",{layout:c,snapshot:b,delta:h,layoutDelta:g,hasLayoutChanged:i,hasRelativeLayoutChanged:j})}else if(a.isLead()){let{onExitComplete:b}=a.options;b&&b()}a.options.transition=void 0}function eM(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function eN(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function eO(a){a.clearSnapshot()}function eP(a){a.clearMeasurements()}function eQ(a){a.isLayoutDirty=!1}function eR(a){let{visualElement:b}=a.options;b&&b.getProps().onBeforeLayoutMeasure&&b.notify("BeforeLayoutMeasure"),a.resetTransform()}function eS(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function eT(a){a.resolveTargetDelta()}function eU(a){a.calcProjection()}function eV(a){a.resetSkewAndRotation()}function eW(a){a.removeLeadSnapshot()}function eX(a,b,c){a.translate=bz(b.translate,0,c),a.scale=bz(b.scale,1,c),a.origin=b.origin,a.originPoint=b.originPoint}function eY(a,b,c,d){a.min=bz(b.min,c.min,d),a.max=bz(b.max,c.max,d)}function eZ(a){return a.animationValues&&void 0!==a.animationValues.opacityExit}let e$={duration:.45,ease:[.4,0,.1,1]},e_=a=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),e0=e_("applewebkit/")&&!e_("chrome/")?Math.round:aI;function e1(a){a.min=e0(a.min),a.max=e0(a.max)}function e2(a,b,c){return"position"===a||"preserve-aspect"===a&&!(.2>=Math.abs(er(b)-er(c)))}function e3(a){return a!==a.root&&a.scroll?.wasRoot}let e4=eJ({attachResizeListener:(a,b)=>dK(a,"resize",b),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),e5={current:void 0},e6=eJ({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!e5.current){let a=new e4({});a.mount(window),a.setOptions({layoutScroll:!0}),e5.current=a}return e5.current},resetTransform:(a,b)=>{a.style.transform=void 0!==b?b:"none"},checkIsScrollRoot:a=>"fixed"===window.getComputedStyle(a).position});function e7(a,b){let c=function(a,b,c){if(null==a)return[];if(a instanceof EventTarget)return[a];if("string"==typeof a){let b=document,c=(void 0)??b.querySelectorAll(a);return c?Array.from(c):[]}return Array.from(a).filter(a=>null!=a)}(a),d=new AbortController;return[c,{passive:!0,...b,signal:d.signal},()=>d.abort()]}function e8(a){return!("touch"===a.pointerType||dL.x||dL.y)}function e9(a,b,c){let{props:d}=a;a.animationState&&d.whileHover&&a.animationState.setActive("whileHover","Start"===c);let e=d["onHover"+c];e&&aM.postRender(()=>e(b,dT(b)))}let fa=(a,b)=>!!b&&(a===b||fa(a,b.parentElement)),fb=new WeakSet;function fc(a){return b=>{"Enter"===b.key&&a(b)}}function fd(a,b){a.dispatchEvent(new PointerEvent("pointer"+b,{isPrimary:!0,bubbles:!0}))}function fe(a){return dS(a)&&!(dL.x||dL.y)}function ff(a,b,c){let{props:d}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&d.whileTap&&a.animationState.setActive("whileTap","Start"===c);let e=d["onTap"+("End"===c?"":c)];e&&aM.postRender(()=>e(b,dT(b)))}let fg=new WeakMap,fh=new WeakMap,fi=a=>{let b=fg.get(a.target);b&&b(a)},fj=a=>{a.forEach(fi)},fk={some:0,all:1},fl=function(a,b){if("u"<typeof Proxy)return cd;let c=new Map,d=(c,d)=>cd(c,d,a,b);return new Proxy((a,b)=>d(a,b),{get:(e,f)=>"create"===f?d:(c.has(f)||c.set(f,cd(f,void 0,a,b)),c.get(f))})}({animation:{Feature:class extends ce{constructor(a){super(a),a.animationState||(a.animationState=function(a){let b=b=>Promise.all(b.map(({animation:b,options:c})=>(function(a,b,c={}){let d;if(a.notify("AnimationStart",b),Array.isArray(b))d=Promise.all(b.map(b=>dz(a,b,c)));else if("string"==typeof b)d=dz(a,b,c);else{let e="function"==typeof b?cf(a,b,c.custom):b;d=Promise.all(dx(a,e,c))}return d.then(()=>{a.notify("AnimationComplete",b)})})(a,b,c))),c=dF(),d=!0,e=b=>(c,d)=>{let e=cf(a,d,"exit"===b?a.presenceContext?.custom:void 0);if(e){let{transition:a,transitionEnd:b,...d}=e;c={...c,...d,...b}}return c};function f(f){let{props:g}=a,h=function a(b){if(!b)return;if(!b.isControllingVariants){let c=b.parent&&a(b.parent)||{};return void 0!==b.props.initial&&(c.initial=b.props.initial),c}let c={};for(let a=0;a<dA;a++){let d=bc[a],e=b.props[d];(ba(e)||!1===e)&&(c[d]=e)}return c}(a.parent)||{},i=[],j=new Set,k={},l=1/0;for(let b=0;b<dD;b++){var m,n;let o=dC[b],p=c[o],q=void 0!==g[o]?g[o]:h[o],r=ba(q),s=o===f?p.isActive:null;!1===s&&(l=b);let t=q===h[o]&&q!==g[o]&&r;if(t&&d&&a.manuallyAnimateOnMount&&(t=!1),p.protectedKeys={...k},!p.isActive&&null===s||!q&&!p.prevProp||a9(q)||"boolean"==typeof q)continue;let u=(m=p.prevProp,"string"==typeof(n=q)?n!==m:!!Array.isArray(n)&&!dB(n,m)),v=u||o===f&&p.isActive&&!t&&r||b>l&&r,w=!1,x=Array.isArray(q)?q:[q],y=x.reduce(e(o),{});!1===s&&(y={});let{prevResolvedValues:z={}}=p,A={...z,...y},B=b=>{v=!0,j.has(b)&&(w=!0,j.delete(b)),p.needsAnimating[b]=!0;let c=a.getValue(b);c&&(c.liveStyle=!1)};for(let a in A){let b=y[a],c=z[a];if(!k.hasOwnProperty(a))(ch(b)&&ch(c)?dB(b,c):b===c)?void 0!==b&&j.has(a)?B(a):p.protectedKeys[a]=!0:null!=b?B(a):j.add(a)}p.prevProp=q,p.prevResolvedValues=y,p.isActive&&(k={...k,...y}),d&&a.blockInitialAnimation&&(v=!1);let C=t&&u,D=!C||w;v&&D&&i.push(...x.map(b=>{let c={type:o};if("string"==typeof b&&d&&!C&&a.manuallyAnimateOnMount&&a.parent){let{parent:d}=a,e=cf(d,b);if(d.enteringChildren&&e){let{delayChildren:b}=e.transition||{};c.delay=dy(d.enteringChildren,a,b)}}return{animation:b,options:c}}))}if(j.size){let b={};if("boolean"!=typeof g.initial){let c=cf(a,Array.isArray(g.initial)?g.initial[0]:g.initial);c&&c.transition&&(b.transition=c.transition)}j.forEach(c=>{let d=a.getBaseTarget(c),e=a.getValue(c);e&&(e.liveStyle=!0),b[c]=d??null}),i.push({animation:b})}let o=!!i.length;return d&&(!1===g.initial||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(o=!1),d=!1,o?b(i):Promise.resolve()}return{animateChanges:f,setActive:function(b,d){if(c[b].isActive===d)return Promise.resolve();a.variantChildren?.forEach(a=>a.animationState?.setActive(b,d)),c[b].isActive=d;let e=f(b);for(let a in c)c[a].protectedKeys={};return e},setAnimateFunction:function(c){b=c(a)},getState:()=>c,reset:()=>{c=dF()}}}(a))}updateAnimationControlsSubscription(){let{animate:a}=this.node.getProps();a9(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:a}=this.node.getProps(),{animate:b}=this.node.prevProps||{};a!==b&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends ce{constructor(){super(...arguments),this.id=dG++}update(){if(!this.node.presenceContext)return;let{isPresent:a,onExitComplete:b}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===c)return;let d=this.node.animationState.setActive("exit",!a);b&&!a&&d.then(()=>{b(this.id)})}mount(){let{register:a,onExitComplete:b}=this.node.presenceContext||{};b&&b(this.id),a&&(this.unmount=a(this.id))}unmount(){}}},inView:{Feature:class extends ce{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var a;let b;this.unmount();let{viewport:c={}}=this.node.getProps(),{root:d,margin:e,amount:f="some",once:g}=c,h={root:d?d.current:void 0,rootMargin:e,threshold:"number"==typeof f?f:fk[f]},i=a=>{let{isIntersecting:b}=a;if(this.isInView===b||(this.isInView=b,g&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);let{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),e=b?c:d;e&&e(a)};return a=this.node.current,b=function({root:a,...b}){let c=a||document;fh.has(c)||fh.set(c,{});let d=fh.get(c),e=JSON.stringify(b);return d[e]||(d[e]=new IntersectionObserver(fj,{root:a,...b})),d[e]}(h),fg.set(a,i),b.observe(a),()=>{fg.delete(a),b.unobserve(a)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:a,prevProps:b}=this.node;["amount","margin","root"].some(function({viewport:a={}},{viewport:b={}}={}){return c=>a[c]!==b[c]}(a,b))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ce{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=e7(a,c),g=a=>{let d=a.currentTarget;if(!fe(a))return;fb.add(d);let f=b(d,a),g=(a,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",i),fb.has(d)&&fb.delete(d),fe(a)&&"function"==typeof f&&f(a,{success:b})},h=a=>{g(a,d===window||d===document||c.useGlobalTarget||fa(d,a.target))},i=a=>{g(a,!1)};window.addEventListener("pointerup",h,e),window.addEventListener("pointercancel",i,e)};return d.forEach(a=>{(c.useGlobalTarget?window:a).addEventListener("pointerdown",g,e),eB(a)&&"offsetHeight"in a&&(a.addEventListener("focus",a=>((a,b)=>{let c=a.currentTarget;if(!c)return;let d=fc(()=>{if(fb.has(c))return;fd(c,"down");let a=fc(()=>{fd(c,"up")});c.addEventListener("keyup",a,b),c.addEventListener("blur",()=>fd(c,"cancel"),b)});c.addEventListener("keydown",d,b),c.addEventListener("blur",()=>c.removeEventListener("keydown",d),b)})(a,e)),dJ(a)||a.hasAttribute("tabindex")||(a.tabIndex=0))}),f}(a,(a,b)=>(ff(this.node,b,"Start"),(a,{success:b})=>ff(this.node,a,b?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends ce{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch(b){a=!0}a&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cl(dK(this.node.current,"focus",()=>this.onFocus()),dK(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends ce{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=e7(a,c),g=a=>{if(!e8(a))return;let{target:c}=a,d=b(c,a);if("function"!=typeof d||!c)return;let f=a=>{e8(a)&&(d(a),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,e)};return d.forEach(a=>{a.addEventListener("pointerenter",g,e)}),f}(a,(a,b)=>(e9(this.node,b,"Start"),a=>e9(this.node,a,"End"))))}unmount(){}}},pan:{Feature:class extends ce{constructor(){super(...arguments),this.removePointerDownListener=aI}onPointerDown(a){this.session=new dY(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dV(this.node)})}createPanHandlers(){let{onPanSessionStart:a,onPanStart:b,onPan:c,onPanEnd:d}=this.node.getProps();return{onSessionStart:d8(a),onStart:d8(b),onMove:c,onEnd:(a,b)=>{delete this.session,d&&aM.postRender(()=>d(a,b))}}}mount(){this.removePointerDownListener=dU(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ce{constructor(a){super(a),this.removeGroupControls=aI,this.removeListeners=aI,this.controls=new d6(a)}mount(){let{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||aI}update(){let{dragControls:a}=this.node.getProps(),{dragControls:b}=this.node.prevProps||{};a!==b&&(this.removeGroupControls(),a&&(this.removeGroupControls=a.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}},ProjectionNode:e6,MeasureLayout:ed},layout:{ProjectionNode:e6,MeasureLayout:ed}},(a,b)=>b.isSVG??bT(a)?new bE(b):new bR(b,{allowProjection:a!==h.Fragment})),fm=(a,b)=>{if(0===a.length)return b.classGroupId;let c=a[0],d=b.nextPart.get(c),e=d?fm(a.slice(1),d):void 0;if(e)return e;if(0===b.validators.length)return;let f=a.join("-");return b.validators.find(({validator:a})=>a(f))?.classGroupId},fn=/^\[(.+)\]$/,fo=(a,b,c,d)=>{a.forEach(a=>{if("string"==typeof a){(""===a?b:fp(b,a)).classGroupId=c;return}"function"==typeof a?fq(a)?fo(a(d),b,c,d):b.validators.push({validator:a,classGroupId:c}):Object.entries(a).forEach(([a,e])=>{fo(e,fp(b,a),c,d)})})},fp=(a,b)=>{let c=a;return b.split("-").forEach(a=>{c.nextPart.has(a)||c.nextPart.set(a,{nextPart:new Map,validators:[]}),c=c.nextPart.get(a)}),c},fq=a=>a.isThemeGetter,fr=(a,b)=>b?a.map(([a,c])=>[a,c.map(a=>"string"==typeof a?b+a:"object"==typeof a?Object.fromEntries(Object.entries(a).map(([a,c])=>[b+a,c])):a)]):a,fs=a=>{if(a.length<=1)return a;let b=[],c=[];return a.forEach(a=>{"["===a[0]?(b.push(...c.sort(),a),c=[]):c.push(a)}),b.push(...c.sort()),b},ft=/\s+/;function fu(){let a,b,c=0,d="";for(;c<arguments.length;)(a=arguments[c++])&&(b=fv(a))&&(d&&(d+=" "),d+=b);return d}let fv=a=>{let b;if("string"==typeof a)return a;let c="";for(let d=0;d<a.length;d++)a[d]&&(b=fv(a[d]))&&(c&&(c+=" "),c+=b);return c},fw=a=>{let b=b=>b[a]||[];return b.isThemeGetter=!0,b},fx=/^\[(?:([a-z-]+):)?(.+)\]$/i,fy=/^\d+\/\d+$/,fz=new Set(["px","full","screen"]),fA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fF=a=>fH(a)||fz.has(a)||fy.test(a),fG=a=>fU(a,"length",fV),fH=a=>!!a&&!Number.isNaN(Number(a)),fI=a=>fU(a,"number",fH),fJ=a=>!!a&&Number.isInteger(Number(a)),fK=a=>a.endsWith("%")&&fH(a.slice(0,-1)),fL=a=>fx.test(a),fM=a=>fA.test(a),fN=new Set(["length","size","percentage"]),fO=a=>fU(a,fN,fW),fP=a=>fU(a,"position",fW),fQ=new Set(["image","url"]),fR=a=>fU(a,fQ,fY),fS=a=>fU(a,"",fX),fT=()=>!0,fU=(a,b,c)=>{let d=fx.exec(a);return!!d&&(d[1]?"string"==typeof b?d[1]===b:b.has(d[1]):c(d[2]))},fV=a=>fB.test(a)&&!fC.test(a),fW=()=>!1,fX=a=>fD.test(a),fY=a=>fE.test(a),fZ=function(a,...b){let c,d,e,f=function(h){let i;return d=(c={cache:(a=>{if(a<1)return{get:()=>void 0,set:()=>{}};let b=0,c=new Map,d=new Map,e=(e,f)=>{c.set(e,f),++b>a&&(b=0,d=c,c=new Map)};return{get(a){let b=c.get(a);return void 0!==b?b:void 0!==(b=d.get(a))?(e(a,b),b):void 0},set(a,b){c.has(a)?c.set(a,b):e(a,b)}}})((i=b.reduce((a,b)=>b(a),a())).cacheSize),parseClassName:(a=>{let{separator:b,experimentalParseClassName:c}=a,d=1===b.length,e=b[0],f=b.length,g=a=>{let c,g=[],h=0,i=0;for(let j=0;j<a.length;j++){let k=a[j];if(0===h){if(k===e&&(d||a.slice(j,j+f)===b)){g.push(a.slice(i,j)),i=j+f;continue}if("/"===k){c=j;continue}}"["===k?h++:"]"===k&&h--}let j=0===g.length?a:a.substring(i),k=j.startsWith("!"),l=k?j.substring(1):j;return{modifiers:g,hasImportantModifier:k,baseClassName:l,maybePostfixModifierPosition:c&&c>i?c-i:void 0}};return c?a=>c({className:a,parseClassName:g}):g})(i),...(a=>{let b=(a=>{let{theme:b,prefix:c}=a,d={nextPart:new Map,validators:[]};return fr(Object.entries(a.classGroups),c).forEach(([a,c])=>{fo(c,d,a,b)}),d})(a),{conflictingClassGroups:c,conflictingClassGroupModifiers:d}=a;return{getClassGroupId:a=>{let c=a.split("-");return""===c[0]&&1!==c.length&&c.shift(),fm(c,b)||(a=>{if(fn.test(a)){let b=fn.exec(a)[1],c=b?.substring(0,b.indexOf(":"));if(c)return"arbitrary.."+c}})(a)},getConflictingClassGroupIds:(a,b)=>{let e=c[a]||[];return b&&d[a]?[...e,...d[a]]:e}}})(i)}).cache.get,e=c.cache.set,f=g,g(h)};function g(a){let b=d(a);if(b)return b;let f=((a,b)=>{let{parseClassName:c,getClassGroupId:d,getConflictingClassGroupIds:e}=b,f=[],g=a.trim().split(ft),h="";for(let a=g.length-1;a>=0;a-=1){let b=g[a],{modifiers:i,hasImportantModifier:j,baseClassName:k,maybePostfixModifierPosition:l}=c(b),m=!!l,n=d(m?k.substring(0,l):k);if(!n){if(!m||!(n=d(k))){h=b+(h.length>0?" "+h:h);continue}m=!1}let o=fs(i).join(":"),p=j?o+"!":o,q=p+n;if(f.includes(q))continue;f.push(q);let r=e(n,m);for(let a=0;a<r.length;++a){let b=r[a];f.push(p+b)}h=b+(h.length>0?" "+h:h)}return h})(a,c);return e(a,f),f}return function(){return f(fu.apply(null,arguments))}}(()=>{let a=fw("colors"),b=fw("spacing"),c=fw("blur"),d=fw("brightness"),e=fw("borderColor"),f=fw("borderRadius"),g=fw("borderSpacing"),h=fw("borderWidth"),i=fw("contrast"),j=fw("grayscale"),k=fw("hueRotate"),l=fw("invert"),m=fw("gap"),n=fw("gradientColorStops"),o=fw("gradientColorStopPositions"),p=fw("inset"),q=fw("margin"),r=fw("opacity"),s=fw("padding"),t=fw("saturate"),u=fw("scale"),v=fw("sepia"),w=fw("skew"),x=fw("space"),y=fw("translate"),z=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",fL,b],C=()=>[fL,b],D=()=>["",fF,fG],E=()=>["auto",fH,fL],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",fL],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[fH,fL];return{cacheSize:500,separator:":",theme:{colors:[fT],spacing:[fF,fG],blur:["none","",fM,fL],brightness:L(),borderColor:[a],borderRadius:["none","","full",fM,fL],borderSpacing:C(),borderWidth:D(),contrast:L(),grayscale:J(),hueRotate:L(),invert:J(),gap:C(),gradientColorStops:[a],gradientColorStopPositions:[fK,fG],inset:B(),margin:B(),opacity:L(),padding:C(),saturate:L(),scale:L(),sepia:J(),skew:L(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",fL]}],container:["container"],columns:[{columns:[fM]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),fL]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fJ,fL]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fL]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",fJ,fL]}],"grid-cols":[{"grid-cols":[fT]}],"col-start-end":[{col:["auto",{span:["full",fJ,fL]},fL]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[fT]}],"row-start-end":[{row:["auto",{span:[fJ,fL]},fL]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fL]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fL]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[s]}],px:[{px:[s]}],py:[{py:[s]}],ps:[{ps:[s]}],pe:[{pe:[s]}],pt:[{pt:[s]}],pr:[{pr:[s]}],pb:[{pb:[s]}],pl:[{pl:[s]}],m:[{m:[q]}],mx:[{mx:[q]}],my:[{my:[q]}],ms:[{ms:[q]}],me:[{me:[q]}],mt:[{mt:[q]}],mr:[{mr:[q]}],mb:[{mb:[q]}],ml:[{ml:[q]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fL,b]}],"min-w":[{"min-w":[fL,b,"min","max","fit"]}],"max-w":[{"max-w":[fL,b,"none","full","min","max","fit","prose",{screen:[fM]},fM]}],h:[{h:[fL,b,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fL,b,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fL,b,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fL,b,"auto","min","max","fit"]}],"font-size":[{text:["base",fM,fG]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fI]}],"font-family":[{font:[fT]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fL]}],"line-clamp":[{"line-clamp":["none",fH,fI]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fF,fL]}],"list-image":[{"list-image":["none",fL]}],"list-style-type":[{list:["none","disc","decimal",fL]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[a]}],"placeholder-opacity":[{"placeholder-opacity":[r]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[a]}],"text-opacity":[{"text-opacity":[r]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fF,fG]}],"underline-offset":[{"underline-offset":["auto",fF,fL]}],"text-decoration-color":[{decoration:[a]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fL]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fL]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[r]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),fP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fR]}],"bg-color":[{bg:[a]}],"gradient-from-pos":[{from:[o]}],"gradient-via-pos":[{via:[o]}],"gradient-to-pos":[{to:[o]}],"gradient-from":[{from:[n]}],"gradient-via":[{via:[n]}],"gradient-to":[{to:[n]}],rounded:[{rounded:[f]}],"rounded-s":[{"rounded-s":[f]}],"rounded-e":[{"rounded-e":[f]}],"rounded-t":[{"rounded-t":[f]}],"rounded-r":[{"rounded-r":[f]}],"rounded-b":[{"rounded-b":[f]}],"rounded-l":[{"rounded-l":[f]}],"rounded-ss":[{"rounded-ss":[f]}],"rounded-se":[{"rounded-se":[f]}],"rounded-ee":[{"rounded-ee":[f]}],"rounded-es":[{"rounded-es":[f]}],"rounded-tl":[{"rounded-tl":[f]}],"rounded-tr":[{"rounded-tr":[f]}],"rounded-br":[{"rounded-br":[f]}],"rounded-bl":[{"rounded-bl":[f]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[r]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[r]}],"divide-style":[{divide:G()}],"border-color":[{border:[e]}],"border-color-x":[{"border-x":[e]}],"border-color-y":[{"border-y":[e]}],"border-color-s":[{"border-s":[e]}],"border-color-e":[{"border-e":[e]}],"border-color-t":[{"border-t":[e]}],"border-color-r":[{"border-r":[e]}],"border-color-b":[{"border-b":[e]}],"border-color-l":[{"border-l":[e]}],"divide-color":[{divide:[e]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[fF,fL]}],"outline-w":[{outline:[fF,fG]}],"outline-color":[{outline:[a]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[a]}],"ring-opacity":[{"ring-opacity":[r]}],"ring-offset-w":[{"ring-offset":[fF,fG]}],"ring-offset-color":[{"ring-offset":[a]}],shadow:[{shadow:["","inner","none",fM,fS]}],"shadow-color":[{shadow:[fT]}],opacity:[{opacity:[r]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[c]}],brightness:[{brightness:[d]}],contrast:[{contrast:[i]}],"drop-shadow":[{"drop-shadow":["","none",fM,fL]}],grayscale:[{grayscale:[j]}],"hue-rotate":[{"hue-rotate":[k]}],invert:[{invert:[l]}],saturate:[{saturate:[t]}],sepia:[{sepia:[v]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[c]}],"backdrop-brightness":[{"backdrop-brightness":[d]}],"backdrop-contrast":[{"backdrop-contrast":[i]}],"backdrop-grayscale":[{"backdrop-grayscale":[j]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[k]}],"backdrop-invert":[{"backdrop-invert":[l]}],"backdrop-opacity":[{"backdrop-opacity":[r]}],"backdrop-saturate":[{"backdrop-saturate":[t]}],"backdrop-sepia":[{"backdrop-sepia":[v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[g]}],"border-spacing-x":[{"border-spacing-x":[g]}],"border-spacing-y":[{"border-spacing-y":[g]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fL]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",fL]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",fL]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[u]}],"scale-x":[{"scale-x":[u]}],"scale-y":[{"scale-y":[u]}],rotate:[{rotate:[fJ,fL]}],"translate-x":[{"translate-x":[y]}],"translate-y":[{"translate-y":[y]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fL]}],accent:[{accent:["auto",a]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fL]}],"caret-color":[{caret:[a]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fL]}],fill:[{fill:[a,"none"]}],"stroke-w":[{stroke:[fF,fG,fI]}],stroke:[{stroke:[a,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function f$(...a){return fZ(function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}(a))}let f_=({currentStep:a=1,onContinue:b,onBack:c,totalSteps:d=3})=>(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 w-full",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4 relative",children:[Array.from({length:d}).map((b,c)=>{let e=c+1;return(0,g.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,g.jsx)("div",{className:f$("w-2 h-2 rounded-full relative z-10 transition-all",e<=a?"bg-[#007AFF]":"bg-[#E5E5EA]")}),e<d&&(0,g.jsx)("div",{className:f$("w-8 h-0.5 transition-all",e<a?"bg-[#007AFF]":"bg-[#E5E5EA]")})]},e)}),(0,g.jsx)(fl.div,{initial:{width:0},animate:{width:`${a/d*100}%`},className:"absolute left-0 top-1/2 -translate-y-1/2 h-1 bg-[#007AFF]/20 rounded-full",transition:{type:"spring",stiffness:300,damping:30,mass:.5}})]}),(0,g.jsxs)("p",{className:"text-sm text-[#6E6E73]",children:["Schritt ",a," von ",d]})]}),f0=l("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),f1=()=>(0,g.jsxs)("div",{className:"loader-container",children:[(0,g.jsx)("div",{className:"peeking-photo-icon",children:(0,g.jsx)(f0,{strokeWidth:1.5})}),(0,g.jsxs)("div",{className:"shield-container",children:[Array.from({length:150}).map((a,b)=>(0,g.jsx)("div",{className:"particle",style:{animationDelay:`${b%10*.1+.02*Math.floor(b/10)}s`}},b)),(0,g.jsxs)("div",{className:"shield-structure",children:[(0,g.jsx)("div",{className:"structure-line line-1"}),(0,g.jsx)("div",{className:"structure-line line-2"}),(0,g.jsx)("div",{className:"structure-line line-3"}),(0,g.jsx)("div",{className:"structure-line line-4"})]})]}),(0,g.jsx)("div",{className:"loading-text",children:"LDT..."})]});var f2=a.i(21756),f3=a.i(47166);function f4(a){let b=(0,f3.encodeBase64)(a);return b.match(/.{1,8}/g)?.join("-")||b}async function f5(a,b){var c;let d,e,f=(c=new Uint8Array(await a.arrayBuffer()),d=f2.default.randomBytes(f2.default.secretbox.nonceLength),e=f2.default.secretbox(c,d,b),{ciphertext:(0,f3.encodeBase64)(e),nonce:(0,f3.encodeBase64)(d)});return{encrypted:new Blob([(0,f3.decodeBase64)(f.ciphertext)],{type:"application/octet-stream"}),nonce:f.nonce}}async function f6(a,b,c,d){var e;let f,g,h=new Uint8Array(await a.arrayBuffer()),i=(e={ciphertext:(0,f3.encodeBase64)(h),nonce:b},f=(0,f3.decodeBase64)(e.ciphertext),g=(0,f3.decodeBase64)(e.nonce),f2.default.secretbox.open(f,g,c));return i?new Blob([i],{type:d}):null}function f7(a,b){let c=(0,f3.encodeBase64)(a);localStorage.setItem("photovault_secret_key",c)}function f8(){let[a,b]=(0,h.useState)(null),[c,d]=(0,h.useState)(!1),[e,f]=(0,h.useState)(null),[g,i]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let a=function(){let a=localStorage.getItem("photovault_secret_key");if(!a)return null;try{return(0,f3.decodeBase64)(a)}catch{return null}}();a&&(b(a),f(f4(a))),d(!0)},[]);let j=(0,h.useCallback)(()=>new Promise(a=>{i(!0),setTimeout(()=>{let c,d={publicKey:(c=f2.default.box.keyPair()).publicKey,secretKey:c.secretKey}.secretKey;b(d),f7(d);let e=f4(d);f(e),i(!1),a(e)},1500)}),[]);return{secretKey:a,isInitialized:c,hasKey:!!a,recoveryPhrase:e,isGeneratingKey:g,generateNewKey:j,restoreFromPhrase:(0,h.useCallback)(a=>{try{let c,d=(c=a.replace(/-/g,""),(0,f3.decodeBase64)(c));return b(d),f7(d),f(a),!0}catch{return!1}},[]),clearKey:(0,h.useCallback)(()=>{b(null),f(null),localStorage.removeItem("photovault_secret_key")},[])}}function f9({state:a,setState:b,step:c,setStep:d,onComplete:e}){let[f,i]=(0,h.useState)(!1),[j,k]=(0,h.useState)(!1),[l,m]=(0,h.useState)(!1),{isGeneratingKey:n}=f8(),{generateNewKey:o}=f8(),p=async()=>{let a=await o(),c=a?.split("-").slice(0,12)||hk;b(b=>({...b,encryptionKey:a||"",backupPhrase:c})),i(!0)};return n?(0,g.jsx)(f1,{}):(0,g.jsxs)("div",{className:"min-h-screen flex flex-col px-6 pt-12 pb-8 safe-area-inset",children:[(0,g.jsx)(f_,{currentStep:f?1:c}),1===c&&!f&&(0,g.jsx)(ga,{onContinue:p,onImport:()=>{console.log("Show import dialog"),m(!0)}}),1===c&&f&&(0,g.jsx)(gb,{phrase:a.backupPhrase,confirmed:j,onConfirmChange:k,onContinue:()=>{console.log("TODO: Verify checkbox, proceed to step 2"),i(!1),k(!1),d(2)}}),2===c&&(0,g.jsx)(gc,{selectedSource:a.photoSource,onSelect:a=>{console.log("Selected photo source:",a),b(b=>({...b,photoSource:a})),d(3)}}),3===c&&(0,g.jsx)(gd,{selectedPlan:a.selectedPlan,onSelect:a=>{console.log("free"===a?"Set Free Plan":"Set Backup+ Plan"),b(b=>({...b,selectedPlan:a})),e()}}),l&&(0,g.jsx)(ge,{onClose:()=>m(!1)})]})}function ga({onContinue:a,onImport:b}){return(0,g.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[(0,g.jsx)("div",{className:"w-20 h-20 rounded-full bg-[#007AFF]/10 flex items-center justify-center mb-6",children:(0,g.jsx)(n,{className:"w-10 h-10 text-[#007AFF]"})}),(0,g.jsx)("h1",{className:"sf-pro-display text-[28px] leading-tight text-[#1D1D1F] mb-3",children:"Erstelle deinen Schlssel"}),(0,g.jsx)("p",{className:"text-[17px] leading-relaxed text-[#6E6E73] max-w-[300px] mb-6",children:"Dieser Schlssel verschlsselt alle Fotos. Speichere ihn gut:"}),(0,g.jsxs)("div",{className:"bg-[#F2F2F7] rounded-xl p-4 w-full max-w-[300px]",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,g.jsx)(n,{className:"w-5 h-5 text-[#007AFF]"}),(0,g.jsx)("span",{className:"text-[15px] text-[#1D1D1F] font-medium",children:"12-Wort Backup-Phrase"})]}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73]",children:"Wird im nchsten Schritt erstellt und angezeigt"})]})]}),(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("button",{onClick:a,className:"w-full h-[50px] bg-[#007AFF] text-white text-[17px] font-semibold rounded-xl ios-tap-target",children:"Schlssel erstellen"}),(0,g.jsx)("button",{onClick:b,className:"w-full h-[44px] text-[#007AFF] text-[17px] ios-tap-target",children:"Ich habe bereits einen Schlssel"})]})]})}function gb({phrase:a,confirmed:b,onConfirmChange:c,onContinue:d}){return(0,g.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("div",{className:"text-center mb-6",children:[(0,g.jsx)("h1",{className:"sf-pro-display text-[28px] leading-tight text-[#1D1D1F] mb-2",children:"Notiere diese Wrter"}),(0,g.jsx)("p",{className:"text-[15px] text-[#6E6E73]",children:"Speichere sie sicher ab. Du brauchst sie zur Wiederherstellung."})]}),(0,g.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-6",children:a.map((a,b)=>(0,g.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center border border-[#E5E5EA]",children:[(0,g.jsx)("span",{className:"text-[11px] text-[#8E8E93] block mb-0.5",children:b+1}),(0,g.jsx)("span",{className:"text-[15px] text-[#1D1D1F] font-mono",children:a})]},b))}),(0,g.jsx)("div",{className:"bg-[#FF3B30]/10 rounded-xl p-4 mb-6",children:(0,g.jsx)("p",{className:"text-[13px] text-[#FF3B30] text-center",children:" Teile diese Wrter niemals mit anderen. Wer sie hat, kann auf deine Fotos zugreifen."})}),(0,g.jsxs)("button",{onClick:()=>c(!b),className:"w-full flex items-center gap-3 p-4 bg-white rounded-xl ios-tap-target",children:[(0,g.jsx)("div",{className:`w-6 h-6 rounded-md border-2 flex items-center justify-center ${b?"bg-[#007AFF] border-[#007AFF]":"border-[#C7C7CC]"}`,children:b&&(0,g.jsx)(m,{className:"w-4 h-4 text-white"})}),(0,g.jsx)("span",{className:"text-[17px] text-[#1D1D1F]",children:"Ich habe die Wrter notiert"})]})]}),(0,g.jsx)("button",{onClick:d,disabled:!b,className:`w-full h-[50px] text-[17px] font-semibold rounded-xl ios-tap-target ${b?"bg-[#007AFF] text-white":"bg-[#E5E5EA] text-[#8E8E93]"}`,children:"Weiter"})]})}function gc({selectedSource:a,onSelect:b}){return(0,g.jsx)("div",{className:"flex-1 flex flex-col",children:(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("div",{className:"flex flex-col items-center text-center mb-8",children:[(0,g.jsx)("div",{className:"w-20 h-20 rounded-full bg-[#007AFF]/10 flex items-center justify-center mb-6",children:(0,g.jsx)(o,{className:"w-10 h-10 text-[#007AFF]"})}),(0,g.jsx)("h1",{className:"sf-pro-display text-[28px] leading-tight text-[#1D1D1F] mb-2",children:"Whle Backup-Quelle"}),(0,g.jsx)("p",{className:"text-[17px] leading-relaxed text-[#6E6E73] max-w-[300px]",children:"Wo sind deine Fotos gespeichert?"})]}),(0,g.jsx)("div",{className:"bg-[#F2F2F7] rounded-xl p-4 mb-6",children:(0,g.jsxs)("p",{className:"text-[15px] text-[#6E6E73] text-center",children:[" ",(0,g.jsx)("strong",{children:"Tipp:"}),' Die meisten Nutzer whlen "Fotos-App". Du kannst dies spter in den Einstellungen ndern.']})}),(0,g.jsx)("div",{className:"space-y-3",children:[{id:"photos-app",label:"Fotos-App",description:"Alle Fotos aus der iOS Foto-Bibliothek",details:"Empfohlen fr die meisten Nutzer"},{id:"files-app",label:"Dateien-App",description:"Fotos aus einem bestimmten Ordner",details:"Fr fortgeschrittene Nutzer"}].map(c=>(0,g.jsx)("button",{onClick:()=>b(c.id),className:`w-full p-4 rounded-xl bg-white text-left ios-tap-target transition-all ${a===c.id?"ring-2 ring-[#007AFF] shadow-lg":""}`,children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("p",{className:"text-[17px] font-medium text-[#1D1D1F]",children:c.label}),(0,g.jsx)("p",{className:"text-[15px] text-[#6E6E73] mt-0.5",children:c.description}),(0,g.jsx)("p",{className:"text-[13px] text-[#8E8E93] mt-1",children:c.details})]}),(0,g.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${a===c.id?"border-[#007AFF] bg-[#007AFF]":"border-[#C7C7CC]"}`,children:a===c.id&&(0,g.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})]})},c.id))})]})})}function gd({selectedPlan:a,onSelect:b}){let[c,d]=(0,h.useState)(a);return(0,g.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("div",{className:"flex flex-col items-center text-center mb-6",children:[(0,g.jsx)("div",{className:"w-20 h-20 rounded-full bg-[#007AFF]/10 flex items-center justify-center mb-6",children:(0,g.jsx)(p,{className:"w-10 h-10 text-[#007AFF]"})}),(0,g.jsx)("h1",{className:"sf-pro-display text-[28px] leading-tight text-[#1D1D1F] mb-2",children:"Whle Speicherplan"}),(0,g.jsx)("p",{className:"text-[17px] leading-relaxed text-[#6E6E73] max-w-[300px]",children:"Du kannst das spter jederzeit ndern"})]}),(0,g.jsx)("div",{className:"bg-[#F2F2F7] rounded-xl p-4 mb-4",children:(0,g.jsxs)("p",{className:"text-[13px] text-[#6E6E73] text-center",children:[" ",(0,g.jsx)("strong",{children:"Empfehlung:"})," Starte mit FREE und upgrade spter, wenn du mehr Speicher brauchst."]})}),(0,g.jsx)("div",{className:"space-y-3",children:[{id:"free",label:"FREE",subtitle:"Auf deinen Gerten",price:"0/Monat",features:["Unbegrenzte Fotos","Zero-Knowledge Verschlsselung","Multi-Device Sync"],description:"Perfekt fr den Start"},{id:"backup-plus",label:"BACKUP+",subtitle:"Dauerhaft im Netz",price:"2,99/Monat",features:["Alles von Free","200 GB Cloud-Backup","Schnellere Synchronisierung"],recommended:!0,description:"Maximale Sicherheit"}].map(a=>(0,g.jsxs)("button",{onClick:()=>d(a.id),className:`w-full p-4 rounded-xl bg-white text-left ios-tap-target relative transition-all ${c===a.id?"ring-2 ring-[#007AFF] shadow-lg":""}`,children:[a.recommended&&(0,g.jsx)("span",{className:"absolute -top-2 left-4 px-2 py-0.5 bg-[#30D158] text-white text-[11px] font-semibold rounded-full",children:"EMPFOHLEN"}),(0,g.jsxs)("div",{className:"flex items-start justify-between",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("p",{className:"text-[15px] font-bold text-[#007AFF] tracking-wide",children:a.label}),(0,g.jsx)("p",{className:"text-[17px] font-semibold text-[#1D1D1F] mt-0.5",children:a.subtitle}),(0,g.jsx)("p",{className:"text-[13px] text-[#8E8E93] mt-1",children:a.description}),(0,g.jsx)("ul",{className:"mt-3 space-y-1.5",children:a.features.map(a=>(0,g.jsxs)("li",{className:"text-[15px] text-[#6E6E73] flex items-center gap-2",children:[(0,g.jsx)("span",{className:"text-[#30D158]",children:""})," ",a]},a))}),(0,g.jsx)("p",{className:"text-[17px] font-semibold text-[#1D1D1F] mt-4",children:a.price})]}),(0,g.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${c===a.id?"border-[#007AFF] bg-[#007AFF]":"border-[#C7C7CC]"}`,children:c===a.id&&(0,g.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})]})]},a.id))})]}),(0,g.jsx)("button",{onClick:()=>b(c),className:"w-full h-[50px] bg-[#007AFF] text-white text-[17px] font-semibold rounded-xl ios-tap-target mt-4",children:"PhotoVault starten"})]})}function ge({onClose:a}){let[b,c]=(0,h.useState)("");return(0,g.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-end justify-center z-50",children:(0,g.jsxs)("div",{className:"bg-white w-full max-w-[428px] rounded-t-2xl p-6 pb-10",children:[(0,g.jsx)("h3",{className:"sf-pro-display text-[20px] text-[#1D1D1F] text-center mb-2",children:"Schlssel importieren"}),(0,g.jsx)("p",{className:"text-[15px] text-[#6E6E73] text-center mb-6",children:"Gib deine 12-Wort Backup-Phrase ein"}),(0,g.jsx)("textarea",{value:b,onChange:a=>c(a.target.value),placeholder:"beach ocean sunset cloud tree river...",className:"w-full h-[100px] bg-[#F2F2F7] rounded-xl p-4 text-[15px] text-[#1D1D1F] resize-none mb-4"}),(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("button",{onClick:()=>{console.log("TODO: Import key:",b),a()},className:"w-full h-[50px] bg-[#007AFF] text-white text-[17px] font-semibold rounded-xl ios-tap-target",children:"Importieren"}),(0,g.jsx)("button",{onClick:a,className:"w-full h-[44px] text-[#007AFF] text-[17px] ios-tap-target",children:"Abbrechen"})]})]})})}let gf=l("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),gg=l("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),gh={src:a.i(31522).default,width:1408,height:768,blurWidth:0,blurHeight:0};var gi=a.i(99745),gj=a.i(18544),gk=a.i(76644),gl=a.i(33791),gm=a.i(79715),gn=a.i(42871),go=a.i(8361),gp=class extends gl.Subscribable{constructor(a,b){super(),this.options=b,this.#a=a,this.#b=null,this.#c=(0,gm.pendingThenable)(),this.bindMethods(),this.setOptions(b)}#a;#d=void 0;#e=void 0;#f=void 0;#g;#h;#c;#b;#i;#j;#k;#l;#m;#n;#o=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#d.addObserver(this),gq(this.#d,this.options)?this.#p():this.updateResult(),this.#q())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gr(this.#d,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gr(this.#d,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#r(),this.#s(),this.#d.removeObserver(this)}setOptions(a){let b=this.options,c=this.#d;if(this.options=this.#a.defaultQueryOptions(a),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,gn.resolveEnabled)(this.options.enabled,this.#d))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#t(),this.#d.setOptions(this.options),b._defaulted&&!(0,gn.shallowEqualObjects)(this.options,b)&&this.#a.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#d,observer:this});let d=this.hasListeners();d&&gs(this.#d,c,this.options,b)&&this.#p(),this.updateResult(),d&&(this.#d!==c||(0,gn.resolveEnabled)(this.options.enabled,this.#d)!==(0,gn.resolveEnabled)(b.enabled,this.#d)||(0,gn.resolveStaleTime)(this.options.staleTime,this.#d)!==(0,gn.resolveStaleTime)(b.staleTime,this.#d))&&this.#u();let e=this.#v();d&&(this.#d!==c||(0,gn.resolveEnabled)(this.options.enabled,this.#d)!==(0,gn.resolveEnabled)(b.enabled,this.#d)||e!==this.#n)&&this.#w(e)}getOptimisticResult(a){var b,c;let d=this.#a.getQueryCache().build(this.#a,a),e=this.createResult(d,a);return b=this,c=e,(0,gn.shallowEqualObjects)(b.getCurrentResult(),c)||(this.#f=e,this.#h=this.options,this.#g=this.#d.state),e}getCurrentResult(){return this.#f}trackResult(a,b){return new Proxy(a,{get:(a,c)=>(this.trackProp(c),b?.(c),"promise"===c&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#c.status||this.#c.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,c))})}trackProp(a){this.#o.add(a)}getCurrentQuery(){return this.#d}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){let b=this.#a.defaultQueryOptions(a),c=this.#a.getQueryCache().build(this.#a,b);return c.fetch().then(()=>this.createResult(c,b))}fetch(a){return this.#p({...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#f))}#p(a){this.#t();let b=this.#d.fetch(this.options,a);return a?.throwOnError||(b=b.catch(gn.noop)),b}#u(){this.#r();let a=(0,gn.resolveStaleTime)(this.options.staleTime,this.#d);if(gn.isServer||this.#f.isStale||!(0,gn.isValidTimeout)(a))return;let b=(0,gn.timeUntilStale)(this.#f.dataUpdatedAt,a);this.#l=go.timeoutManager.setTimeout(()=>{this.#f.isStale||this.updateResult()},b+1)}#v(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#d):this.options.refetchInterval)??!1}#w(a){this.#s(),this.#n=a,!gn.isServer&&!1!==(0,gn.resolveEnabled)(this.options.enabled,this.#d)&&(0,gn.isValidTimeout)(this.#n)&&0!==this.#n&&(this.#m=go.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||gi.focusManager.isFocused())&&this.#p()},this.#n))}#q(){this.#u(),this.#w(this.#v())}#r(){this.#l&&(go.timeoutManager.clearTimeout(this.#l),this.#l=void 0)}#s(){this.#m&&(go.timeoutManager.clearInterval(this.#m),this.#m=void 0)}createResult(a,b){let c,d=this.#d,e=this.options,f=this.#f,g=this.#g,h=this.#h,i=a!==d?a.state:this.#e,{state:j}=a,k={...j},l=!1;if(b._optimisticResults){let c=this.hasListeners(),f=!c&&gq(a,b),g=c&&gs(a,d,b,e);(f||g)&&(k={...k,...(0,gk.fetchState)(j.data,a.options)}),"isRestoring"===b._optimisticResults&&(k.fetchStatus="idle")}let{error:m,errorUpdatedAt:n,status:o}=k;c=k.data;let p=!1;if(void 0!==b.placeholderData&&void 0===c&&"pending"===o){let a;f?.isPlaceholderData&&b.placeholderData===h?.placeholderData?(a=f.data,p=!0):a="function"==typeof b.placeholderData?b.placeholderData(this.#k?.state.data,this.#k):b.placeholderData,void 0!==a&&(o="success",c=(0,gn.replaceData)(f?.data,a,b),l=!0)}if(b.select&&void 0!==c&&!p)if(f&&c===g?.data&&b.select===this.#i)c=this.#j;else try{this.#i=b.select,c=b.select(c),c=(0,gn.replaceData)(f?.data,c,b),this.#j=c,this.#b=null}catch(a){this.#b=a}this.#b&&(m=this.#b,c=this.#j,n=Date.now(),o="error");let q="fetching"===k.fetchStatus,r="pending"===o,s="error"===o,t=r&&q,u=void 0!==c,v={status:o,fetchStatus:k.fetchStatus,isPending:r,isSuccess:"success"===o,isError:s,isInitialLoading:t,isLoading:t,data:c,dataUpdatedAt:k.dataUpdatedAt,error:m,errorUpdatedAt:n,failureCount:k.fetchFailureCount,failureReason:k.fetchFailureReason,errorUpdateCount:k.errorUpdateCount,isFetched:k.dataUpdateCount>0||k.errorUpdateCount>0,isFetchedAfterMount:k.dataUpdateCount>i.dataUpdateCount||k.errorUpdateCount>i.errorUpdateCount,isFetching:q,isRefetching:q&&!r,isLoadingError:s&&!u,isPaused:"paused"===k.fetchStatus,isPlaceholderData:l,isRefetchError:s&&u,isStale:gt(a,b),refetch:this.refetch,promise:this.#c,isEnabled:!1!==(0,gn.resolveEnabled)(b.enabled,a)};if(this.options.experimental_prefetchInRender){let b=void 0!==v.data,c="error"===v.status&&!b,e=a=>{c?a.reject(v.error):b&&a.resolve(v.data)},f=()=>{e(this.#c=v.promise=(0,gm.pendingThenable)())},g=this.#c;switch(g.status){case"pending":a.queryHash===d.queryHash&&e(g);break;case"fulfilled":(c||v.data!==g.value)&&f();break;case"rejected":c&&v.error===g.reason||f()}}return v}updateResult(){let a=this.#f,b=this.createResult(this.#d,this.options);if(this.#g=this.#d.state,this.#h=this.options,void 0!==this.#g.data&&(this.#k=this.#d),(0,gn.shallowEqualObjects)(b,a))return;this.#f=b;let c=()=>{if(!a)return!0;let{notifyOnChangeProps:b}=this.options,c="function"==typeof b?b():b;if("all"===c||!c&&!this.#o.size)return!0;let d=new Set(c??this.#o);return this.options.throwOnError&&d.add("error"),Object.keys(this.#f).some(b=>this.#f[b]!==a[b]&&d.has(b))};this.#x({listeners:c()})}#t(){let a=this.#a.getQueryCache().build(this.#a,this.options);if(a===this.#d)return;let b=this.#d;this.#d=a,this.#e=a.state,this.hasListeners()&&(b?.removeObserver(this),a.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#q()}#x(a){gj.notifyManager.batch(()=>{a.listeners&&this.listeners.forEach(a=>{a(this.#f)}),this.#a.getQueryCache().notify({query:this.#d,type:"observerResultsUpdated"})})}};function gq(a,b){return!1!==(0,gn.resolveEnabled)(b.enabled,a)&&void 0===a.state.data&&("error"!==a.state.status||!1!==b.retryOnMount)||void 0!==a.state.data&&gr(a,b,b.refetchOnMount)}function gr(a,b,c){if(!1!==(0,gn.resolveEnabled)(b.enabled,a)&&"static"!==(0,gn.resolveStaleTime)(b.staleTime,a)){let d="function"==typeof c?c(a):c;return"always"===d||!1!==d&&gt(a,b)}return!1}function gs(a,b,c,d){return(a!==b||!1===(0,gn.resolveEnabled)(d.enabled,a))&&(!c.suspense||"error"!==a.state.status)&&gt(a,c)}function gt(a,b){return!1!==(0,gn.resolveEnabled)(b.enabled,a)&&a.isStaleByTime((0,gn.resolveStaleTime)(b.staleTime,a))}var gu=a.i(37927),gv=h.createContext((d=!1,{clearReset:()=>{d=!1},reset:()=>{d=!0},isReset:()=>d})),gw=h.createContext(!1);gw.Provider;var gx=(a,b,c)=>b.fetchOptimistic(a).catch(()=>{c.clearReset()});function gy(a,b){return function(a,b,c){let d,e=h.useContext(gw),f=h.useContext(gv),g=(0,gu.useQueryClient)(c),i=g.defaultQueryOptions(a);g.getDefaultOptions().queries?._experimental_beforeQuery?.(i);let j=g.getQueryCache().get(i.queryHash);if(i._optimisticResults=e?"isRestoring":"optimistic",i.suspense){let a=a=>"static"===a?a:Math.max(a??1e3,1e3),b=i.staleTime;i.staleTime="function"==typeof b?(...c)=>a(b(...c)):a(b),"number"==typeof i.gcTime&&(i.gcTime=Math.max(i.gcTime,1e3))}d=j?.state.error&&"function"==typeof i.throwOnError?(0,gn.shouldThrowError)(i.throwOnError,[j.state.error,j]):i.throwOnError,(i.suspense||i.experimental_prefetchInRender||d)&&!f.isReset()&&(i.retryOnMount=!1),h.useEffect(()=>{f.clearReset()},[f]);let k=!g.getQueryCache().get(i.queryHash),[l]=h.useState(()=>new b(g,i)),m=l.getOptimisticResult(i),n=!e&&!1!==a.subscribed;if(h.useSyncExternalStore(h.useCallback(a=>{let b=n?l.subscribe(gj.notifyManager.batchCalls(a)):gn.noop;return l.updateResult(),b},[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),h.useEffect(()=>{l.setOptions(i)},[i,l]),i?.suspense&&m.isPending)throw gx(i,l,f);if((({result:a,errorResetBoundary:b,throwOnError:c,query:d,suspense:e})=>a.isError&&!b.isReset()&&!a.isFetching&&d&&(e&&void 0===a.data||(0,gn.shouldThrowError)(c,[a.error,d])))({result:m,errorResetBoundary:f,throwOnError:i.throwOnError,query:j,suspense:i.suspense}))throw m.error;if(g.getDefaultOptions().queries?._experimental_afterQuery?.(i,m),i.experimental_prefetchInRender&&!gn.isServer&&m.isLoading&&m.isFetching&&!e){let a=k?gx(i,l,f):j?.promise;a?.catch(gn.noop).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?m:l.trackResult(m)}(a,gp,b)}var gz=a.i(12794),gA=gl,gB=class extends gA.Subscribable{#a;#f=void 0;#y;#z;constructor(a,b){super(),this.#a=a,this.setOptions(b),this.bindMethods(),this.#A()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){let b=this.options;this.options=this.#a.defaultMutationOptions(a),(0,gn.shallowEqualObjects)(this.options,b)||this.#a.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#y,observer:this}),b?.mutationKey&&this.options.mutationKey&&(0,gn.hashKey)(b.mutationKey)!==(0,gn.hashKey)(this.options.mutationKey)?this.reset():this.#y?.state.status==="pending"&&this.#y.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#y?.removeObserver(this)}onMutationUpdate(a){this.#A(),this.#x(a)}getCurrentResult(){return this.#f}reset(){this.#y?.removeObserver(this),this.#y=void 0,this.#A(),this.#x()}mutate(a,b){return this.#z=b,this.#y?.removeObserver(this),this.#y=this.#a.getMutationCache().build(this.#a,this.options),this.#y.addObserver(this),this.#y.execute(a)}#A(){let a=this.#y?.state??(0,gz.getDefaultState)();this.#f={...a,isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}}#x(a){gj.notifyManager.batch(()=>{if(this.#z&&this.hasListeners()){let b=this.#f.variables,c=this.#f.context,d={client:this.#a,meta:this.options.meta,mutationKey:this.options.mutationKey};if(a?.type==="success"){try{this.#z.onSuccess?.(a.data,b,c,d)}catch(a){Promise.reject(a)}try{this.#z.onSettled?.(a.data,null,b,c,d)}catch(a){Promise.reject(a)}}else if(a?.type==="error"){try{this.#z.onError?.(a.error,b,c,d)}catch(a){Promise.reject(a)}try{this.#z.onSettled?.(void 0,a.error,b,c,d)}catch(a){Promise.reject(a)}}}this.listeners.forEach(a=>{a(this.#f)})})}};function gC(a,b){let c=(0,gu.useQueryClient)(b),[d]=h.useState(()=>new gB(c,a));h.useEffect(()=>{d.setOptions(a)},[d,a]);let e=h.useSyncExternalStore(h.useCallback(a=>d.subscribe(gj.notifyManager.batchCalls(a)),[d]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),f=h.useCallback((a,b)=>{d.mutate(a,b).catch(gn.noop)},[d]);if(e.error&&(0,gn.shouldThrowError)(d.options.throwOnError,[e.error]))throw e.error;return{...e,mutate:f,mutateAsync:e.mutate}}var gD=a.i(21730);let gE=Symbol.for("Dexie"),gF=globalThis[gE]||(globalThis[gE]=gD.default);if(gD.default.semVer!==gF.semVer)throw Error(`Two different versions of Dexie loaded in the same app: ${gD.default.semVer} and ${gF.semVer}`);let{liveQuery:gG,mergeRanges:gH,rangesOverlap:gI,RangeSet:gJ,cmp:gK,Entity:gL,PropModification:gM,replacePrefix:gN,add:gO,remove:gP,DexieYProvider:gQ}=gF,gR=gF,gS=new class extends gR{photos;constructor(){super("PhotoVaultDB"),this.version(1).stores({photos:"++id, cid, uploadedAt"})}};async function gT(a){return await gS.photos.add(a)}async function gU(){return await gS.photos.orderBy("uploadedAt").reverse().toArray()}async function gV(a){await gS.photos.delete(a)}async function gW(){return await gS.photos.count()}function gX(a){let b=(0,gu.useQueryClient)(),{data:c=[],isLoading:d,error:e}=gy({queryKey:["photos"],queryFn:gU,enabled:!!a}),{data:f=0}=gy({queryKey:["photoCount"],queryFn:gW}),g=gC({mutationFn:async b=>{if(!a)throw Error("No encryption key");let{encrypted:c,nonce:d}=await f5(b,a),e={cid:`cid_${Date.now()}_${Math.random().toString(36).slice(2)}`,nonce:d,fileName:b.name,mimeType:b.type,fileSize:b.size,uploadedAt:new Date,encryptedBlob:c};return await gT(e),e},onSuccess:()=>{b.invalidateQueries({queryKey:["photos"]}),b.invalidateQueries({queryKey:["photoCount"]})}}),i=gC({mutationFn:async a=>{await gV(a)},onSuccess:()=>{b.invalidateQueries({queryKey:["photos"]}),b.invalidateQueries({queryKey:["photoCount"]})}}),j=(0,h.useCallback)(async b=>{if(!a||!b.encryptedBlob)return null;let c=await f6(b.encryptedBlob,b.nonce,a,b.mimeType);return c?URL.createObjectURL(c):null},[a]);return{photos:c,photoCount:f,isLoading:d,error:e,uploadPhoto:g.mutate,deletePhoto:i.mutate,decryptPhoto:j,isUploading:g.isPending}}function gY({state:a,setState:b}){let[c,d]=(0,h.useState)(null),[e,f]=(0,h.useState)(!1),{secretKey:i}=f8(),{photoCount:j}=gX(i),k=j>0?j:a.photosCount;return(0,g.jsxs)("div",{className:"h-full flex flex-col px-5 pt-6 pb-4 overflow-y-auto",children:[(0,g.jsxs)("header",{className:"mb-6",children:[(0,g.jsx)("h1",{className:"sf-pro-display text-[28px] text-[#1D1D1F]",children:"Backup"}),(0,g.jsx)("p",{className:"text-[15px] text-[#6E6E73] mt-1",children:"Verschlsseltes Photo-Backup"})]}),(0,g.jsx)("button",{onClick:()=>{console.log("TODO: Toggle backup with confirmation dialog"),f(!0)},className:"w-full bg-white rounded-xl p-5 mb-3 ios-tap-target",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)("div",{className:`w-14 h-14 rounded-full flex items-center justify-center ${a.backupActive?"bg-[#30D158]/10":"bg-[#E5E5EA]"}`,children:(0,g.jsx)(gh,{className:`w-7 h-7 ${a.backupActive?"text-[#30D158]":"text-[#8E8E93]"}`})}),(0,g.jsxs)("div",{className:"text-left",children:[(0,g.jsxs)("p",{className:"text-[17px] font-semibold text-[#1D1D1F]",children:["Backup ",a.backupActive?"Aktiv":"Aus"]}),(0,g.jsx)("p",{className:"text-[15px] text-[#6E6E73]",children:a.backupActive?"Deine Fotos werden geschtzt":"Tippe zum Aktivieren"})]})]}),(0,g.jsx)("div",{className:`w-[51px] h-[31px] rounded-full p-[2px] ${a.backupActive?"bg-[#30D158]":"bg-[#E5E5EA]"}`,children:(0,g.jsx)("div",{className:`w-[27px] h-[27px] rounded-full bg-white shadow-sm ${a.backupActive?"ml-auto":""}`})})]})}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73] px-2 mb-6",children:"Automatisch neue Fotos sichern"}),(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[(0,g.jsx)(gZ,{icon:(0,g.jsx)(f0,{className:"w-5 h-5 text-[#007AFF]"}),value:k.toLocaleString(),label:"Fotos gesichert",tooltip:"Lokal auf deinen Gerten gespeichert",showTooltip:"photos"===c,onTap:()=>d("photos"===c?null:"photos")}),(0,g.jsx)(gZ,{icon:(0,g.jsx)(gf,{className:"w-5 h-5 text-[#007AFF]"}),value:a.lastBackup,label:"Letztes Backup",tooltip:"Automatisches Backup alle 6 Stunden",showTooltip:"lastBackup"===c,onTap:()=>d("lastBackup"===c?null:"lastBackup")}),(0,g.jsx)(gZ,{icon:(0,g.jsx)(gh,{className:"w-5 h-5 text-[#007AFF]"}),value:`${a.permanence}%`,label:"Dauerhaft",tooltip:"Fotos sind auf mehreren Gerten gesichert",showTooltip:"permanence"===c,onTap:()=>d("permanence"===c?null:"permanence")})]}),(0,g.jsx)("button",{onClick:()=>{console.log("TODO: Start backup with progress bar"),console.log("Trigger Backup Process"),console.log("Update Backup Metadata"),b(a=>({...a,lastBackup:"Gerade eben",photosCount:a.photosCount+Math.floor(10*Math.random())}))},className:`w-full h-[50px] text-[17px] font-semibold rounded-xl mb-4 ios-tap-target ${a.backupActive?"bg-[#007AFF] text-white":"bg-[#30D158] text-white"}`,children:a.backupActive?"Jetzt sichern":"Backup aktivieren"}),(0,g.jsx)("div",{className:"mt-auto pt-4",children:(0,g.jsxs)("p",{className:"text-[15px] text-[#8E8E93] text-center leading-relaxed",children:["Deine Fotos sind verschlsselt.",(0,g.jsx)("br",{}),"Niemand kann sie sehen."]})}),e&&(0,g.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-8",children:(0,g.jsxs)("div",{className:"bg-white w-full max-w-[270px] rounded-2xl overflow-hidden",children:[(0,g.jsxs)("div",{className:"p-4 text-center",children:[(0,g.jsx)("h3",{className:"sf-pro-display text-[17px] text-[#1D1D1F] mb-1",children:a.backupActive?"Backup deaktivieren?":"Backup aktivieren?"}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73] leading-relaxed",children:a.backupActive?"Neue Fotos werden nicht mehr automatisch gesichert.":"Neue Fotos werden automatisch verschlsselt und gesichert."})]}),(0,g.jsxs)("div",{className:"border-t border-[#E5E5EA]",children:[(0,g.jsx)("button",{onClick:()=>f(!1),className:"w-full py-3 text-[17px] text-[#007AFF] border-b border-[#E5E5EA] ios-tap-target",children:"Abbrechen"}),(0,g.jsx)("button",{onClick:()=>{let c=!a.backupActive;console.log(c?"Activate Backup":"Deactivate Backup"),b(a=>({...a,backupActive:c})),f(!1)},className:`w-full py-3 text-[17px] font-semibold ios-tap-target ${a.backupActive?"text-[#FF3B30]":"text-[#30D158]"}`,children:a.backupActive?"Deaktivieren":"Aktivieren"})]})]})})]})}function gZ({icon:a,value:b,label:c,tooltip:d,showTooltip:e,onTap:f}){return(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsxs)("button",{onClick:f,className:"w-full bg-white rounded-xl p-4 text-center ios-tap-target",children:[(0,g.jsxs)("div",{className:"flex justify-center mb-2 relative",children:[a,(0,g.jsx)(gg,{className:"w-3 h-3 text-[#C7C7CC] absolute -right-1 -top-1"})]}),(0,g.jsx)("p",{className:"text-[17px] font-semibold text-[#1D1D1F] truncate",children:b}),(0,g.jsx)("p",{className:"text-[11px] text-[#6E6E73]",children:c})]}),e&&(0,g.jsxs)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-[180px] bg-[#1D1D1F] text-white text-[13px] p-3 rounded-lg z-10 text-center",children:[d,(0,g.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-[#1D1D1F]"})]})]})}let g$=l("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),g_=l("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),g0=l("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),g1={src:a.i(97972).default,width:1408,height:768,blurWidth:0,blurHeight:0},g2={src:a.i(53294).default,width:1408,height:768,blurWidth:0,blurHeight:0};function g3({state:a,setState:b,onRestartOnboarding:c}){let[d,e]=(0,h.useState)(!1),[f,i]=(0,h.useState)(!1),[j,k]=(0,h.useState)(!1),[l,m]=(0,h.useState)(!1),[n,p]=(0,h.useState)(!1),[q,r]=(0,h.useState)(!1);return d?(0,g.jsx)(g5,{devices:a.devices,onBack:()=>e(!1),onAddDevice:()=>{console.log("Show QR code or key import")}}):(0,g.jsxs)("div",{className:"h-full flex flex-col pb-4 overflow-y-auto",children:[(0,g.jsx)("header",{className:"px-5 pt-6 pb-4 bg-[#F2F2F7]",children:(0,g.jsx)("h1",{className:"sf-pro-display text-[28px] text-[#1D1D1F]",children:"Einstellungen"})}),(0,g.jsxs)("div",{className:"flex-1 px-5",children:[(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("h2",{className:"text-[13px] font-semibold text-[#6E6E73] uppercase tracking-wide px-4 mb-2",children:"Backup"}),(0,g.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",children:[(0,g.jsx)(g4,{label:"Automatisches Backup",description:"Neue Fotos automatisch sichern",enabled:a.autoBackupEnabled,onToggle:()=>{let c=!a.autoBackupEnabled;console.log("Update Auto-Backup Preference:",c),b(a=>({...a,autoBackupEnabled:c}))}}),(0,g.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,g.jsx)(g4,{label:"Hintergrund-Backup",description:"Weiter sichern wenn App geschlossen",enabled:a.backgroundBackupEnabled,onToggle:()=>{let c=!a.backgroundBackupEnabled;console.log("Update Background Preference:",c),b(a=>({...a,backgroundBackupEnabled:c}))}}),(0,g.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,g.jsxs)("button",{onClick:()=>p(!0),className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)(o,{className:"w-5 h-5 text-[#007AFF]"}),(0,g.jsxs)("div",{className:"text-left",children:[(0,g.jsx)("span",{className:"text-[17px] text-[#1D1D1F] block",children:"Backup-Quelle"}),(0,g.jsx)("span",{className:"text-[13px] text-[#6E6E73]",children:"photos-app"===a.photoSource?"Fotos-App":"Dateien-App"})]})]}),(0,g.jsx)(g$,{className:"w-5 h-5 text-[#C7C7CC]"})]})]})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("h2",{className:"text-[13px] font-semibold text-[#6E6E73] uppercase tracking-wide px-4 mb-2",children:"Speicher"}),(0,g.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",children:[(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,g.jsx)("span",{className:"text-[17px] text-[#1D1D1F]",children:"Aktueller Plan"}),(0,g.jsx)("span",{className:"text-[15px] font-semibold text-[#007AFF]",children:"free"===a.selectedPlan?"Free":"Backup+"})]}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73]",children:"free"===a.selectedPlan?"Fotos auf deinen Gerten":"200 GB Cloud-Backup"})]}),(0,g.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,g.jsx)("div",{className:"p-4",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("span",{className:"text-[15px] text-[#6E6E73]",children:"Verwendet"}),(0,g.jsxs)("span",{className:"text-[15px] text-[#1D1D1F]",children:[a.photosCount.toLocaleString()," Fotos (nur lokal)"]})]})}),(0,g.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,g.jsxs)("button",{onClick:()=>r(!0),className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,g.jsx)("span",{className:"text-[17px] text-[#007AFF]",children:"free"===a.selectedPlan?"Upgrade zu Backup+":"Plan verwalten"}),(0,g.jsx)(g$,{className:"w-5 h-5 text-[#C7C7CC]"})]})]})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("h2",{className:"text-[13px] font-semibold text-[#6E6E73] uppercase tracking-wide px-4 mb-2",children:"Gerte"}),(0,g.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",children:(0,g.jsxs)("button",{onClick:()=>{console.log("Fetch Device List"),e(!0)},className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)(g1,{className:"w-5 h-5 text-[#007AFF]"}),(0,g.jsx)("span",{className:"text-[17px] text-[#1D1D1F]",children:"Verbundene Gerte"})]}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("span",{className:"text-[15px] text-[#6E6E73]",children:a.devices.length}),(0,g.jsx)(g$,{className:"w-5 h-5 text-[#C7C7CC]"})]})]})})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("h2",{className:"text-[13px] font-semibold text-[#6E6E73] uppercase tracking-wide px-4 mb-2",children:"Sicherheit"}),(0,g.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",children:[(0,g.jsxs)("button",{onClick:()=>i(!0),className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,g.jsx)("span",{className:"text-[17px] text-[#1D1D1F]",children:"Backup-Phrase anzeigen"}),(0,g.jsx)(g$,{className:"w-5 h-5 text-[#C7C7CC]"})]}),(0,g.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,g.jsxs)("button",{onClick:()=>k(!0),className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,g.jsx)("span",{className:"text-[17px] text-[#FF3B30]",children:"Neuen Schlssel erstellen"}),(0,g.jsx)(g$,{className:"w-5 h-5 text-[#C7C7CC]"})]})]}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73] px-4 mt-2",children:"Teile diese Wrter niemals mit anderen."})]}),(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("h2",{className:"text-[13px] font-semibold text-[#6E6E73] uppercase tracking-wide px-4 mb-2",children:"Setup"}),(0,g.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",children:(0,g.jsxs)("button",{onClick:()=>{console.log("TODO: Navigate to onboarding screen 1"),c()},className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)(g2,{className:"w-5 h-5 text-[#007AFF]"}),(0,g.jsx)("span",{className:"text-[17px] text-[#1D1D1F]",children:"Onboarding wiederholen"})]}),(0,g.jsx)(g$,{className:"w-5 h-5 text-[#C7C7CC]"})]})}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73] px-4 mt-2",children:"Schlssel, Quelle und Plan neu einrichten"})]})]}),f&&(0,g.jsx)(g8,{title:"Sicherheitshinweis",message:"Deine Backup-Phrase gibt vollen Zugriff auf deine verschlsselten Fotos. Nur an einem privaten Ort anzeigen.",confirmLabel:"Phrase anzeigen",confirmDestructive:!1,onConfirm:()=>{console.log("Display Backup Phrase"),i(!1),m(!0)},onCancel:()=>i(!1)}),l&&(0,g.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-end justify-center z-50",children:(0,g.jsxs)("div",{className:"bg-white w-full max-w-[428px] rounded-t-2xl p-6 pb-10",children:[(0,g.jsx)("h3",{className:"sf-pro-display text-[20px] text-[#1D1D1F] text-center mb-2",children:"Deine Backup-Phrase"}),(0,g.jsx)("p",{className:"text-[15px] text-[#6E6E73] text-center mb-4",children:"Notiere diese Wrter und bewahre sie sicher auf."}),(0,g.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:(a.backupPhrase.length>0?a.backupPhrase:hk).map((a,b)=>(0,g.jsxs)("div",{className:"bg-[#F2F2F7] rounded-lg p-2 text-center",children:[(0,g.jsx)("span",{className:"text-[11px] text-[#8E8E93] block",children:b+1}),(0,g.jsx)("span",{className:"text-[14px] text-[#1D1D1F] font-mono",children:a})]},b))}),(0,g.jsx)("div",{className:"bg-[#FF3B30]/10 rounded-xl p-3 mb-4",children:(0,g.jsx)("p",{className:"text-[13px] text-[#FF3B30] text-center",children:" Teile diese Wrter niemals mit anderen"})}),(0,g.jsx)("button",{onClick:()=>m(!1),className:"w-full h-[50px] bg-[#007AFF] text-white text-[17px] font-semibold rounded-xl ios-tap-target",children:"Fertig"})]})}),j&&(0,g.jsx)(g8,{title:"Datenverlust-Warnung",message:"Das Erstellen eines neuen Schlssels lscht alle vorhandenen Backup-Daten permanent. Diese Aktion kann nicht rckgngig gemacht werden.",confirmLabel:"Neuen Schlssel erstellen",confirmDestructive:!0,onConfirm:()=>{console.log("Generate New Encryption Key"),console.log("Clear Existing Backup Data");let a=["mango","noble","ocean","prime","quest","royal","solar","titan","ultra","vivid","world","xenon"],c=a.join(" ");b(b=>({...b,encryptionKey:c,backupPhrase:a,photosCount:0})),k(!1)},onCancel:()=>k(!1)}),n&&(0,g.jsx)(g6,{currentSource:a.photoSource,onSelect:a=>{console.log("TODO: Update backup source preference:",a),b(b=>({...b,photoSource:a})),p(!1)},onClose:()=>p(!1)}),q&&(0,g.jsx)(g7,{currentPlan:a.selectedPlan,onSelect:a=>{console.log("TODO: Show plan selection modal",a),b(b=>({...b,selectedPlan:a})),r(!1)},onClose:()=>r(!1)})]})}function g4({label:a,description:b,enabled:c,onToggle:d}){return(0,g.jsxs)("button",{onClick:d,className:"w-full flex items-center justify-between p-4 ios-tap-target",children:[(0,g.jsxs)("div",{className:"text-left",children:[(0,g.jsx)("p",{className:"text-[17px] text-[#1D1D1F]",children:a}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73] mt-0.5",children:b})]}),(0,g.jsx)("div",{className:`w-[51px] h-[31px] rounded-full p-[2px] shrink-0 ${c?"bg-[#30D158]":"bg-[#E5E5EA]"}`,children:(0,g.jsx)("div",{className:`w-[27px] h-[27px] rounded-full bg-white shadow-sm ${c?"ml-auto":""}`})})]})}function g5({devices:a,onBack:b,onAddDevice:c}){return(0,g.jsxs)("div",{className:"h-full flex flex-col pb-4 overflow-y-auto",children:[(0,g.jsxs)("header",{className:"px-5 pt-6 pb-4 bg-[#F2F2F7]",children:[(0,g.jsx)("button",{onClick:b,className:"text-[#007AFF] text-[17px] ios-tap-target mb-2",children:" Zurck"}),(0,g.jsx)("h1",{className:"sf-pro-display text-[28px] text-[#1D1D1F]",children:"Gerte"})]}),(0,g.jsxs)("div",{className:"flex-1 px-5",children:[(0,g.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",children:a.map((a,b)=>(0,g.jsxs)("div",{children:[b>0&&(0,g.jsx)("div",{className:"h-[0.5px] bg-[#E5E5EA] ml-4"}),(0,g.jsxs)("div",{className:"flex items-center gap-3 p-4",children:[(0,g.jsx)(g1,{className:"w-8 h-8 text-[#007AFF]"}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("p",{className:"text-[17px] text-[#1D1D1F]",children:a.name}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73]",children:a.lastActive})]}),a.syncing?(0,g.jsx)(g0,{className:"w-5 h-5 text-[#007AFF] animate-spin"}):"Aktiv"===a.lastActive?(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[(0,g.jsx)(m,{className:"w-4 h-4 text-[#30D158]"}),(0,g.jsx)("span",{className:"text-[13px] text-[#30D158] font-medium",children:"Dieses Gert"})]}):null]})]},a.id))}),(0,g.jsxs)("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 mt-6 p-4 bg-white rounded-xl ios-tap-target",children:[(0,g.jsx)(g_,{className:"w-5 h-5 text-[#007AFF]"}),(0,g.jsx)("span",{className:"text-[17px] text-[#007AFF]",children:"Neues Gert verbinden"})]}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73] text-center mt-3",children:"Scanne den QR-Code oder gib deine Backup-Phrase ein"})]})]})}function g6({currentSource:a,onSelect:b,onClose:c}){return(0,g.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-end justify-center z-50",children:(0,g.jsxs)("div",{className:"bg-white w-full max-w-[428px] rounded-t-2xl p-6 pb-10",children:[(0,g.jsx)("h3",{className:"sf-pro-display text-[20px] text-[#1D1D1F] text-center mb-2",children:"Backup-Quelle"}),(0,g.jsx)("p",{className:"text-[15px] text-[#6E6E73] text-center mb-6",children:"Wo sind deine Fotos gespeichert?"}),(0,g.jsx)("div",{className:"space-y-3 mb-6",children:[{id:"photos-app",label:"Fotos-App",description:"Alle Fotos aus der iOS Foto-Bibliothek"},{id:"files-app",label:"Dateien-App",description:"Fotos aus einem bestimmten Ordner"}].map(c=>(0,g.jsx)("button",{onClick:()=>b(c.id),className:`w-full p-4 rounded-xl bg-[#F2F2F7] text-left ios-tap-target ${a===c.id?"ring-2 ring-[#007AFF]":""}`,children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-[17px] font-medium text-[#1D1D1F]",children:c.label}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73] mt-0.5",children:c.description})]}),(0,g.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${a===c.id?"border-[#007AFF] bg-[#007AFF]":"border-[#C7C7CC]"}`,children:a===c.id&&(0,g.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})]})},c.id))}),(0,g.jsx)("button",{onClick:c,className:"w-full h-[44px] text-[#007AFF] text-[17px] ios-tap-target",children:"Abbrechen"})]})})}function g7({currentPlan:a,onSelect:b,onClose:c}){return(0,g.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-end justify-center z-50",children:(0,g.jsxs)("div",{className:"bg-white w-full max-w-[428px] rounded-t-2xl p-6 pb-10 max-h-[80vh] overflow-y-auto",children:[(0,g.jsx)("h3",{className:"sf-pro-display text-[20px] text-[#1D1D1F] text-center mb-2",children:"Speicherplan"}),(0,g.jsx)("p",{className:"text-[15px] text-[#6E6E73] text-center mb-6",children:"Du kannst jederzeit wechseln"}),(0,g.jsx)("div",{className:"space-y-3 mb-6",children:[{id:"free",label:"FREE",subtitle:"Auf deinen Gerten",price:"0/Monat",features:["Unbegrenzte Fotos","Zero-Knowledge Verschlsselung","Multi-Device Sync"]},{id:"backup-plus",label:"BACKUP+",subtitle:"Dauerhaft im Netz",price:"2,99/Monat",features:["Alles von Free","200 GB Cloud-Backup","Schnellere Synchronisierung"]}].map(c=>(0,g.jsx)("button",{onClick:()=>b(c.id),className:`w-full p-4 rounded-xl bg-[#F2F2F7] text-left ios-tap-target ${a===c.id?"ring-2 ring-[#007AFF]":""}`,children:(0,g.jsxs)("div",{className:"flex items-start justify-between",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("p",{className:"text-[13px] font-bold text-[#007AFF] tracking-wide",children:c.label}),(0,g.jsx)("p",{className:"text-[17px] font-semibold text-[#1D1D1F] mt-0.5",children:c.subtitle}),(0,g.jsx)("ul",{className:"mt-2 space-y-1",children:c.features.map(a=>(0,g.jsxs)("li",{className:"text-[13px] text-[#6E6E73] flex items-center gap-2",children:[(0,g.jsx)("span",{className:"text-[#30D158]",children:""})," ",a]},a))}),(0,g.jsx)("p",{className:"text-[15px] font-semibold text-[#1D1D1F] mt-3",children:c.price})]}),(0,g.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${a===c.id?"border-[#007AFF] bg-[#007AFF]":"border-[#C7C7CC]"}`,children:a===c.id&&(0,g.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})]})},c.id))}),(0,g.jsx)("button",{onClick:c,className:"w-full h-[44px] text-[#007AFF] text-[17px] ios-tap-target",children:"Abbrechen"})]})})}function g8({title:a,message:b,confirmLabel:c,confirmDestructive:d,onConfirm:e,onCancel:f}){return(0,g.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-8",children:(0,g.jsxs)("div",{className:"bg-white w-full max-w-[270px] rounded-2xl overflow-hidden",children:[(0,g.jsxs)("div",{className:"p-4 text-center",children:[(0,g.jsx)("h3",{className:"sf-pro-display text-[17px] text-[#1D1D1F] mb-1",children:a}),(0,g.jsx)("p",{className:"text-[13px] text-[#6E6E73] leading-relaxed",children:b})]}),(0,g.jsxs)("div",{className:"border-t border-[#E5E5EA]",children:[(0,g.jsx)("button",{onClick:f,className:"w-full py-3 text-[17px] text-[#007AFF] border-b border-[#E5E5EA] ios-tap-target",children:"Abbrechen"}),(0,g.jsx)("button",{onClick:e,className:`w-full py-3 text-[17px] font-semibold ios-tap-target ${d?"text-[#FF3B30]":"text-[#007AFF]"}`,children:c})]})]})})}let g9=l("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ha=l("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),hb=l("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hc=l("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),hd={src:a.i(87418).default,width:1408,height:768,blurWidth:0,blurHeight:0},he=a=>{let b={};return a.forEach(a=>{b[a.date]||(b[a.date]=[]),b[a.date].push(a)}),Object.entries(b).map(([a,b])=>({date:a,photos:b,label:hf(a)}))},hf=a=>{let b=new Date(a),c=new Date,d=new Date(c);return(d.setDate(d.getDate()-1),a===c.toISOString().split("T")[0])?"Heute":a===d.toISOString().split("T")[0]?"Gestern":b.toLocaleDateString("de-DE",{weekday:"long",day:"numeric",month:"long"})};function hg({photosCount:a}){var b;let c,d,e,[f,i]=(0,h.useState)(""),[j,k]=(0,h.useState)(!1),[l,n]=(0,h.useState)(!1),[o,p]=(0,h.useState)(null),[q,r]=(0,h.useState)(!1),[s,t]=(0,h.useState)(new Set),[u,v]=(0,h.useState)(null),w=(0,h.useRef)(null),{secretKey:x,hasKey:y}=f8(),{photos:z,uploadPhoto:A,deletePhoto:B,decryptPhoto:C,isUploading:D}=gX(x),E=z.length>0?z.map(a=>({id:a.id?.toString()||a.cid,cid:a.cid,placeholderUrl:"",category:"photo",date:a.uploadedAt.toISOString().split("T")[0],metadata:a})):(b=Math.min(a,50),c=["nature","architecture","travel","food","animals","city","landscape","portrait","ocean","forest"],d=new Date,Array.from({length:b},(a,b)=>{let e=new Date(d);return e.setDate(e.getDate()-Math.floor(b/3)),{id:`photo-${b}`,cid:`Qm${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,placeholderUrl:`https://picsum.photos/seed/${b+100}/400/400`,category:c[b%c.length],date:e.toISOString().split("T")[0],metadata:void 0}}));he(E);let F=he(E.filter(a=>(!o||a.category===o)&&(!f||!!a.category.includes(f.toLowerCase())))),G=()=>{w.current&&(clearTimeout(w.current),w.current=null)};return(0,g.jsxs)("div",{className:"flex flex-col h-full bg-[#F2F2F7]",children:[(0,g.jsx)("header",{className:"h-[60px] bg-white border-b border-[#E5E5EA] px-4 flex items-center justify-between shrink-0",children:j?(0,g.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[(0,g.jsxs)("div",{className:"flex-1 bg-[#E5E5EA] rounded-lg px-3 py-2 flex items-center gap-2",children:[(0,g.jsx)(g9,{className:"w-4 h-4 text-[#8E8E93]"}),(0,g.jsx)("input",{type:"text",placeholder:"Suchen...",value:f,onChange:a=>i(a.target.value),className:"flex-1 bg-transparent text-[15px] text-[#1D1D1F] outline-none",autoFocus:!0})]}),(0,g.jsx)("button",{onClick:()=>{k(!1),i("")},className:"text-[17px] text-[#007AFF] ios-tap-target",children:"Abbrechen"})]}):q?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{onClick:()=>{r(!1),t(new Set)},className:"text-[17px] text-[#007AFF] ios-tap-target",children:"Abbrechen"}),(0,g.jsxs)("span",{className:"sf-pro-display text-[17px] text-[#1D1D1F]",children:[s.size," ausgewhlt"]}),(0,g.jsx)("button",{onClick:()=>{console.log("TODO: Delete selected photos",Array.from(s))},className:"text-[17px] text-[#FF3B30] ios-tap-target",children:"Lschen"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)(hd,{className:"w-5 h-5 text-[#30D158]"}),(0,g.jsx)("h1",{className:"sf-pro-display text-[20px] text-[#1D1D1F]",children:"Galerie"})]}),(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsxs)("label",{className:"ios-tap-target cursor-pointer",children:[(0,g.jsx)(hc,{className:`w-6 h-6 ${D?"text-[#8E8E93] animate-pulse":"text-[#007AFF]"}`}),(0,g.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:a=>{Array.from(a.target.files||[]).forEach(a=>A(a))},className:"hidden",disabled:D})]}),(0,g.jsx)("button",{onClick:()=>k(!0),className:"ios-tap-target",children:(0,g.jsx)(g9,{className:"w-6 h-6 text-[#007AFF]"})}),(0,g.jsx)("button",{onClick:()=>n(!l),className:"ios-tap-target",children:(0,g.jsx)(ha,{className:`w-6 h-6 ${o?"text-[#30D158]":"text-[#007AFF]"}`})})]})]})}),l&&(0,g.jsx)("div",{className:"bg-white border-b border-[#E5E5EA] px-4 py-3 shrink-0",children:(0,g.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1",children:[(0,g.jsx)("button",{onClick:()=>p(null),className:`px-4 py-1.5 rounded-full text-[15px] whitespace-nowrap shrink-0 ${null===o?"bg-[#007AFF] text-white":"bg-[#E5E5EA] text-[#1D1D1F]"}`,children:"Alle"}),[{id:"nature",label:"Natur"},{id:"architecture",label:"Architektur"},{id:"travel",label:"Reisen"},{id:"food",label:"Essen"},{id:"animals",label:"Tiere"},{id:"city",label:"Stadt"},{id:"landscape",label:"Landschaft"}].map(a=>(0,g.jsx)("button",{onClick:()=>p(a.id),className:`px-4 py-1.5 rounded-full text-[15px] whitespace-nowrap shrink-0 ${o===a.id?"bg-[#007AFF] text-white":"bg-[#E5E5EA] text-[#1D1D1F]"}`,children:a.label},a.id))]})}),(0,g.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[F.map(a=>(0,g.jsxs)("div",{className:"mb-2",children:[(0,g.jsx)("div",{className:"sticky top-0 bg-[#F2F2F7]/95 backdrop-blur-sm px-3 py-2 z-10",children:(0,g.jsx)("p",{className:"text-[13px] font-semibold text-[#6E6E73]",children:a.label})}),(0,g.jsx)("div",{className:"grid grid-cols-3 gap-[2px] px-[2px]",children:a.photos.map(a=>{let b=void 0!==a.metadata;return(0,g.jsxs)("button",{onClick:()=>{var b,c;return b=a.id,c=a.cid,void(q?t(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c}):(console.log("TODO: Show full photo from IPFS CID:",c),v(b)))},onTouchStart:()=>{var b;return b=a.id,void(w.current=setTimeout(()=>{r(!0),t(new Set([b]))},500))},onTouchEnd:G,onTouchCancel:G,onContextMenu:b=>{b.preventDefault(),r(!0),t(new Set([a.id]))},className:"relative aspect-square overflow-hidden bg-[#E5E5EA]",children:[b?(0,g.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#E5E5EA] to-[#C7C7CC]",children:(0,g.jsx)(hd,{className:"w-8 h-8 text-[#8E8E93]"})}):a.placeholderUrl?(0,g.jsx)("img",{src:a.placeholderUrl,alt:"",className:"w-full h-full object-cover",loading:"lazy"}):null,q&&(0,g.jsx)("div",{className:"absolute inset-0 bg-black/20",children:(0,g.jsx)("div",{className:`absolute top-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center ${s.has(a.id)?"bg-[#007AFF] border-[#007AFF]":"border-white bg-black/30"}`,children:s.has(a.id)&&(0,g.jsx)(m,{className:"w-4 h-4 text-white"})})})]},a.id)})})]},a.date)),(0,g.jsxs)("div",{className:"text-center py-6 px-4",children:[(0,g.jsx)("p",{className:"text-[13px] text-[#8E8E93]",children:"Lange drcken zum Auswhlen  Tippen zum ffnen"}),(0,g.jsxs)("p",{className:"text-[11px] text-[#C7C7CC] mt-1",children:[E.length," Fotos verschlsselt gespeichert"]})]})]}),u&&(0,g.jsxs)("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[(0,g.jsxs)("header",{className:"h-[60px] flex items-center justify-between px-4 bg-black/80",children:[(0,g.jsx)("button",{onClick:()=>v(null),className:"ios-tap-target",children:(0,g.jsx)(hb,{className:"w-6 h-6 text-white"})}),(0,g.jsxs)("span",{className:"text-[17px] text-white",children:["Foto ",E.findIndex(a=>a.id===u)+1," von"," ",E.length]}),(0,g.jsx)("div",{className:"w-10"})]}),(0,g.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(e=E.find(a=>a.id===u))?e.metadata?(0,g.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,g.jsx)(hd,{className:"w-16 h-16 text-white/60"}),(0,g.jsx)("p",{className:"text-white/80 text-center",children:"Entschlsselung wird implementiert..."})]}):e.placeholderUrl?(0,g.jsx)("img",{src:e.placeholderUrl,alt:"",className:"max-w-full max-h-full object-contain rounded-lg"}):null:null}),(0,g.jsx)("footer",{className:"h-[80px] flex items-center justify-center bg-black/80",children:(0,g.jsxs)("div",{className:"flex items-center gap-2 text-[13px] text-white/60",children:[(0,g.jsx)(hd,{className:"w-4 h-4"}),(0,g.jsx)("span",{children:"Ende-zu-Ende verschlsselt"})]})})]})]})}let hh=l("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]),hi=l("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),hj=l("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),hk=["beach","ocean","sunset","cloud","tree","river","mountain","forest","valley","lake","meadow","canyon"],hl={isOnboarded:!1,backupActive:!1,selectedPlan:"free",autoBackupEnabled:!0,backgroundBackupEnabled:!1,photosCount:2847,lastBackup:"vor 2 Stunden",permanence:99.9,encryptionKey:"",backupPhrase:hk,devices:[{id:"1",name:"iPhone 14 Pro",lastActive:"Aktiv"},{id:"2",name:"MacBook Pro",lastActive:"Synchronisiert...",syncing:!0}],photoSource:"photos-app"};function hm(){let[a,b]=(0,h.useState)(hl),[c,d]=(0,h.useState)("onboarding"),[e,f]=(0,h.useState)(1),[i,j]=(0,h.useState)(!0);return((0,h.useEffect)(()=>{let a=setTimeout(()=>{"true"===localStorage.getItem("photovault_onboarded")&&(b(a=>({...a,isOnboarded:!0})),d("gallery")),j(!1)},2e3);return()=>clearTimeout(a)},[]),i)?(0,g.jsx)(f1,{}):"onboarding"===c?(0,g.jsx)("div",{className:"min-h-screen ios-bg-gray",children:(0,g.jsx)("div",{className:"max-w-[428px] mx-auto min-h-screen bg-[#F2F2F7]",children:(0,g.jsx)(f9,{state:a,setState:b,step:e,setStep:f,onComplete:()=>{localStorage.setItem("photovault_onboarded","true"),b(a=>({...a,isOnboarded:!0})),d("gallery"),console.log("Onboarding completed with state:",a)}})})}):(0,g.jsx)("div",{className:"min-h-screen ios-bg-gray",children:(0,g.jsxs)("div",{className:"max-w-[428px] mx-auto min-h-screen bg-[#F2F2F7] flex flex-col",children:[(0,g.jsxs)("div",{className:"flex-1 overflow-hidden pb-[80px]",children:["gallery"===c&&(0,g.jsx)(hg,{photosCount:a.photosCount}),"dashboard"===c&&(0,g.jsx)(gY,{state:a,setState:b}),"settings"===c&&(0,g.jsx)(g3,{state:a,setState:b,onRestartOnboarding:()=>{console.log("TODO: Navigate to onboarding screen 1"),localStorage.removeItem("photovault_onboarded"),b(a=>({...a,isOnboarded:!1})),f(1),d("onboarding")}})]}),(0,g.jsx)(hn,{currentScreen:c,onNavigate:a=>{d(a)}})]})})}function hn({currentScreen:a,onNavigate:b}){return(0,g.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 h-[80px] bg-white border-t border-[#E5E5EA] flex items-start justify-around pt-2 pb-6 max-w-[428px] mx-auto",children:[{id:"gallery",label:"Galerie",icon:hh},{id:"dashboard",label:"Backup",icon:hi},{id:"settings",label:"Einstellungen",icon:hj}].map(c=>{let d=c.icon,e=a===c.id;return(0,g.jsxs)("button",{onClick:()=>b(c.id),className:"flex flex-col items-center gap-1 ios-tap-target px-4",children:[(0,g.jsx)(d,{className:`w-6 h-6 ${e?"text-[#007AFF]":"text-[#6E6E73]"}`}),(0,g.jsx)("span",{className:`text-[10px] ${e?"text-[#007AFF]":"text-[#6E6E73]"}`,children:c.label})]},c.id)})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__9f1a287f._.js.map