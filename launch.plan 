Launch Readiness Plan - 6 Days to Launch
Executive Summary
Priority	Task	Est. Time
ðŸ”´ P0	Email verification with Resend	2 hours
ðŸ”´ P0	Review & test auth flow	1 hour
ðŸŸ¡ P1	Performance optimizations	2 hours
ðŸŸ¡ P1	Error handling improvements	1 hour
ðŸŸ¢ P2	Security hardening	1 hour
ðŸ”´ Critical: Email Verification Setup
What is trustedOrigins?
The trustedOrigins in your 
auth.ts
 controls which domains can make authenticated requests. It's already configured correctly:

trustedOrigins: [
    process.env.BETTER_AUTH_URL || "http://localhost:3000",
    "https://www.saecretheaven.com",
    "https://saecretheaven.com",
    "http://localhost:3000",
]
NOTE

âœ… This is correct for your launch domains. No changes needed.

Email Setup with Resend
Better Auth requires a sendVerificationEmail callback. Resend is recommended (100 free emails/day).

Step 1: Install Resend
npm install resend
Step 2: Get API Key
Go to resend.com
Create account â†’ API Keys â†’ Create key
Add to 
.env.local
: RESEND_API_KEY=re_...
Add verified domain or use 
onboarding@resend.dev
 for testing
Step 3: Files to Create
[NEW] 
email.ts
Email sending utility with Resend client.

[NEW] 
verification-email.tsx
React Email template with logo and branding.

[MODIFY] 
auth.ts
Add emailVerification.sendVerificationEmail callback.

ðŸŸ¡ Performance Optimizations
1. Image Loading Optimization
Current Issue: Large SVG files in /public/ (some are 1-2MB)

Fix:

Convert large SVGs to optimized WebP/PNG
Use Next.js <Image> component with priority loading
Add loading="lazy" for below-fold images
2. Bundle Size Analysis
Run:

npm run build
npx @next/bundle-analyzer
Quick Wins:

Dynamic import heavy components (Framer Motion, QR code)
Tree-shake unused Lucide icons
3. Database Query Optimization
Already in place: âœ… Session cookie caching (5 min)

Additional RLS optimization needed:

-- Wrap auth functions with select for performance
(select auth.uid()) = user_id
ðŸŸ¢ Security Checklist
Item	Status
API proxy authentication	âœ… Fixed
Waitlist RLS policy	âœ… Fixed
Email verification required	âœ… Enabled
Secure cookies in production	âœ… Configured
Rate limiting	âœ… 100 req/min
HTTPS enforced	â¬œ Verify in Vercel
CSP headers	â¬œ Review for production
ðŸ“‹ 6-Day Launch Checklist
Day 1-2: Email & Auth âœ¨
 Install Resend: npm install resend
 Create Resend account & get API key
 Add RESEND_API_KEY to Vercel env vars
 Create branded email template
 Configure Better Auth sendVerificationEmail
 Test signup â†’ verify email flow
Day 3: Performance ðŸš€
 Analyze bundle size
 Optimize large SVG assets
 Add dynamic imports for heavy components
 Test load times on slow 3G
Day 4: Testing ðŸ§ª
 Run full Playwright test suite
 Manual test: signup, login, upload, download, sync
 Test on mobile Safari (iOS known for quirks)
 Test Tauri desktop build
Day 5: Production Prep ðŸ”§
 Verify all env vars in Vercel
 Check HTTPS is enforced
 Review error logging (Vercel logs)
 Setup uptime monitoring (optional)
Day 6: Soft Launch ðŸŽ‰
 Deploy to production
 Invite 2-3 beta testers
 Monitor for errors
 Fix any critical issues
Questions Before Proceeding
Do you have a Resend account, or should I use an alternative email provider?
What's your production domain for the BETTER_AUTH_URL env var?
Any specific email copy/messaging you'd like in the verification email?